{"version":3,"file":"bundle.js","mappings":"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","sources":["webpack://Graph LL/./node_modules/@yomguithereal/helpers/extend.js","webpack://Graph LL/./node_modules/@yomguithereal/sigma-experiments-renderers/edge/edge.curve.js","webpack://Graph LL/./node_modules/@yomguithereal/sigma-experiments-renderers/node/node.halo.js","webpack://Graph LL/./node_modules/@yomguithereal/sigma-experiments-renderers/node/node.point.border.js","webpack://Graph LL/./node_modules/events/events.js","webpack://Graph LL/./node_modules/file-saver/dist/FileSaver.min.js","webpack://Graph LL/./node_modules/graphology-communities-louvain/index.js","webpack://Graph LL/./node_modules/graphology-components/index.js","webpack://Graph LL/./node_modules/graphology-gexf/browser/index.js","webpack://Graph LL/./node_modules/graphology-gexf/browser/parser.js","webpack://Graph LL/./node_modules/graphology-gexf/common/helpers.js","webpack://Graph LL/./node_modules/graphology-gexf/common/parser.js","webpack://Graph LL/./node_modules/graphology-gexf/common/writer.js","webpack://Graph LL/./node_modules/graphology-indices/dfs-stack.js","webpack://Graph LL/./node_modules/graphology-indices/louvain.js","webpack://Graph LL/./node_modules/graphology-indices/neighborhood.js","webpack://Graph LL/./node_modules/graphology-layout-forceatlas2/defaults.js","webpack://Graph LL/./node_modules/graphology-layout-forceatlas2/helpers.js","webpack://Graph LL/./node_modules/graphology-layout-forceatlas2/index.js","webpack://Graph LL/./node_modules/graphology-layout-forceatlas2/iterate.js","webpack://Graph LL/./node_modules/graphology-metrics/centrality/betweenness.js","webpack://Graph LL/./node_modules/graphology-metrics/centrality/closeness.js","webpack://Graph LL/./node_modules/graphology-metrics/centrality/degree.js","webpack://Graph LL/./node_modules/graphology-metrics/centrality/eigenvector.js","webpack://Graph LL/./node_modules/graphology-metrics/centrality/hits.js","webpack://Graph LL/./node_modules/graphology-metrics/centrality/pagerank.js","webpack://Graph LL/./node_modules/graphology-metrics/edge/simmelian-strength.js","webpack://Graph LL/./node_modules/graphology-operators/to-mixed.js","webpack://Graph LL/./node_modules/graphology-operators/to-multi.js","webpack://Graph LL/./node_modules/graphology-shortest-path/indexed-brandes.js","webpack://Graph LL/./node_modules/graphology-utils/add-edge.js","webpack://Graph LL/./node_modules/graphology-utils/add-node.js","webpack://Graph LL/./node_modules/graphology-utils/defaults.js","webpack://Graph LL/./node_modules/graphology-utils/getters.js","webpack://Graph LL/./node_modules/graphology-utils/infer-type.js","webpack://Graph LL/./node_modules/graphology-utils/is-graph-constructor.js","webpack://Graph LL/./node_modules/graphology-utils/is-graph.js","webpack://Graph LL/./node_modules/graphology/dist/graphology.umd.min.js","webpack://Graph LL/./node_modules/iwanthue/distances.js","webpack://Graph LL/./node_modules/iwanthue/helpers.js","webpack://Graph LL/./node_modules/iwanthue/index.js","webpack://Graph LL/./node_modules/iwanthue/presets.js","webpack://Graph LL/./node_modules/iwanthue/rng.js","webpack://Graph LL/./node_modules/mnemonist/fixed-deque.js","webpack://Graph LL/./node_modules/mnemonist/fixed-stack.js","webpack://Graph LL/./node_modules/mnemonist/heap.js","webpack://Graph LL/./node_modules/mnemonist/set.js","webpack://Graph LL/./node_modules/mnemonist/sparse-map.js","webpack://Graph LL/./node_modules/mnemonist/sparse-queue-set.js","webpack://Graph LL/./node_modules/mnemonist/sparse-set.js","webpack://Graph LL/./node_modules/mnemonist/utils/comparators.js","webpack://Graph LL/./node_modules/mnemonist/utils/iterables.js","webpack://Graph LL/./node_modules/mnemonist/utils/typed-arrays.js","webpack://Graph LL/./node_modules/obliterator/foreach.js","webpack://Graph LL/./node_modules/obliterator/iterator.js","webpack://Graph LL/./node_modules/obliterator/support.js","webpack://Graph LL/./node_modules/pandemonium/random-index.js","webpack://Graph LL/./node_modules/seedrandom/index.js","webpack://Graph LL/./node_modules/seedrandom/lib/alea.js","webpack://Graph LL/./node_modules/seedrandom/lib/tychei.js","webpack://Graph LL/./node_modules/seedrandom/lib/xor128.js","webpack://Graph LL/./node_modules/seedrandom/lib/xor4096.js","webpack://Graph LL/./node_modules/seedrandom/lib/xorshift7.js","webpack://Graph LL/./node_modules/seedrandom/lib/xorwow.js","webpack://Graph LL/./node_modules/seedrandom/seedrandom.js","webpack://Graph LL/./node_modules/sigma/core/camera.js","webpack://Graph LL/./node_modules/sigma/core/captors/captor.js","webpack://Graph LL/./node_modules/sigma/core/captors/mouse.js","webpack://Graph LL/./node_modules/sigma/core/captors/touch.js","webpack://Graph LL/./node_modules/sigma/core/labels.js","webpack://Graph LL/./node_modules/sigma/core/quadtree.js","webpack://Graph LL/./node_modules/sigma/index.js","webpack://Graph LL/./node_modules/sigma/rendering/canvas/edge-label.js","webpack://Graph LL/./node_modules/sigma/rendering/canvas/hover.js","webpack://Graph LL/./node_modules/sigma/rendering/canvas/label.js","webpack://Graph LL/./node_modules/sigma/rendering/webgl/programs/common/edge.js","webpack://Graph LL/./node_modules/sigma/rendering/webgl/programs/common/node.js","webpack://Graph LL/./node_modules/sigma/rendering/webgl/programs/common/program.js","webpack://Graph LL/./node_modules/sigma/rendering/webgl/programs/edge.arrow.js","webpack://Graph LL/./node_modules/sigma/rendering/webgl/programs/edge.arrowHead.js","webpack://Graph LL/./node_modules/sigma/rendering/webgl/programs/edge.clamped.js","webpack://Graph LL/./node_modules/sigma/rendering/webgl/programs/edge.rectangle.js","webpack://Graph LL/./node_modules/sigma/rendering/webgl/programs/node.circle.js","webpack://Graph LL/./node_modules/sigma/rendering/webgl/programs/node.point.js","webpack://Graph LL/./node_modules/sigma/rendering/webgl/shaders/edge.arrowHead.frag.glsl.js","webpack://Graph LL/./node_modules/sigma/rendering/webgl/shaders/edge.arrowHead.vert.glsl.js","webpack://Graph LL/./node_modules/sigma/rendering/webgl/shaders/edge.clamped.vert.glsl.js","webpack://Graph LL/./node_modules/sigma/rendering/webgl/shaders/edge.rectangle.frag.glsl.js","webpack://Graph LL/./node_modules/sigma/rendering/webgl/shaders/edge.rectangle.vert.glsl.js","webpack://Graph LL/./node_modules/sigma/rendering/webgl/shaders/node.circle.frag.glsl.js","webpack://Graph LL/./node_modules/sigma/rendering/webgl/shaders/node.circle.vert.glsl.js","webpack://Graph LL/./node_modules/sigma/rendering/webgl/shaders/node.point.frag.glsl.js","webpack://Graph LL/./node_modules/sigma/rendering/webgl/shaders/node.point.vert.glsl.js","webpack://Graph LL/./node_modules/sigma/rendering/webgl/shaders/utils.js","webpack://Graph LL/./node_modules/sigma/settings.js","webpack://Graph LL/./node_modules/sigma/sigma.js","webpack://Graph LL/./node_modules/sigma/types.js","webpack://Graph LL/./node_modules/sigma/utils/animate.js","webpack://Graph LL/./node_modules/sigma/utils/data.js","webpack://Graph LL/./node_modules/sigma/utils/easings.js","webpack://Graph LL/./node_modules/sigma/utils/edge-collisions.js","webpack://Graph LL/./node_modules/sigma/utils/index.js","webpack://Graph LL/./node_modules/sigma/utils/matrices.js","webpack://Graph LL/./src/custom-label.ts","webpack://Graph LL/./src/index.ts","webpack://Graph LL/./node_modules/xml-writer/index.js","webpack://Graph LL/./node_modules/xml-writer/lib/xml-writer.js","webpack://Graph LL/./node_modules/chroma-js/chroma.js","webpack://Graph LL/webpack/bootstrap","webpack://Graph LL/webpack/runtime/amd define","webpack://Graph LL/webpack/runtime/amd options","webpack://Graph LL/webpack/runtime/global","webpack://Graph LL/webpack/runtime/node module decorator","webpack://Graph LL/webpack/startup"],"sourcesContent":["/**\n * Extend function\n * ================\n *\n * Function used to push a bunch of values into an array at once.\n *\n * Its strategy is to mutate target array's length then setting the new indices\n * to be the values to add.\n *\n * A benchmark proved that it is faster than the following strategies:\n *   1) `array.push.apply(array, values)`.\n *   2) A loop of pushes.\n *   3) `array = array.concat(values)`, obviously.\n *\n * Intuitively, this is correct because when adding a lot of elements, the\n * chosen strategies does not need to handle the `arguments` object to\n * execute #.apply's variadicity and because the array know its final length\n * at the beginning, avoiding potential multiple reallocations of the underlying\n * contiguous array. Some engines may be able to optimize the loop of push\n * operations but empirically they don't seem to do so.\n */\n\n/**\n * Extends the target array with the given values.\n *\n * @param  {array} array  - Target array.\n * @param  {array} values - Values to add.\n */\nmodule.exports = function extend(array, values) {\n  var l2 = values.length;\n\n  if (l2 === 0)\n    return;\n\n  var l1 = array.length;\n\n  array.length += l2;\n\n  for (var i = 0; i < l2; i++)\n    array[l1 + i] = values[i];\n};\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nexports.__esModule = true;\nvar utils_1 = require(\"sigma/utils\");\nvar edge_1 = require(\"sigma/rendering/webgl/programs/common/edge\");\nvar VERTEX_SHADER_SOURCE = /*glsl*/ \"\\nattribute vec4 a_color;\\nattribute float a_direction;\\nattribute float a_thickness;\\nattribute vec2 a_source;\\nattribute vec2 a_target;\\nattribute float a_current;\\nattribute float a_curveness;\\n\\nuniform mat3 u_matrix;\\nuniform float u_sizeRatio;\\nuniform float u_pixelRatio;\\nuniform vec2 u_dimensions;\\n\\nvarying vec4 v_color;\\nvarying float v_thickness;\\nvarying vec2 v_cpA;\\nvarying vec2 v_cpB;\\nvarying vec2 v_cpC;\\n\\nconst float bias = 255.0 / 254.0;\\nconst float epsilon = 0.7;\\nconst float minThickness = 0.3;\\n\\nvec2 clipspaceToViewport(vec2 pos, vec2 dimensions) {\\n  return vec2(\\n    (pos.x + 1.0) * dimensions.x / 2.0,\\n    (pos.y + 1.0) * dimensions.y / 2.0\\n  );\\n}\\n\\nvec2 viewportToClipspace(vec2 pos, vec2 dimensions) {\\n  return vec2(\\n    pos.x / dimensions.x * 2.0 - 1.0,\\n    pos.y / dimensions.y * 2.0 - 1.0\\n  );\\n}\\n\\nvoid main() {\\n\\n  // Selecting the correct position\\n  // Branchless \\\"position = a_source if a_current == 1.0 else a_target\\\"\\n  vec2 position = a_source * max(0.0, a_current) + a_target * max(0.0, 1.0 - a_current);\\n  position = (u_matrix * vec3(position, 1)).xy;\\n\\n  vec2 source = (u_matrix * vec3(a_source, 1)).xy;\\n  vec2 target = (u_matrix * vec3(a_target, 1)).xy;\\n\\n  vec2 viewportPosition = clipspaceToViewport(position, u_dimensions);\\n  vec2 viewportSource = clipspaceToViewport(source, u_dimensions);\\n  vec2 viewportTarget = clipspaceToViewport(target, u_dimensions);\\n\\n  vec2 delta = viewportTarget.xy - viewportSource.xy;\\n  float len = length(delta);\\n  vec2 normal = vec2(-delta.y, delta.x) * a_direction;\\n  vec2 unitNormal = normal / len;\\n  float boundingBoxThickness = len * a_curveness;\\n  float curveThickness = max(minThickness, a_thickness / 2.0 / u_sizeRatio * u_pixelRatio);\\n\\n  v_thickness = curveThickness;\\n\\n  v_cpA = viewportSource;\\n  v_cpB = 0.5 * (viewportSource + viewportTarget) + unitNormal * a_direction * boundingBoxThickness;\\n  v_cpC = viewportTarget;\\n\\n  vec2 viewportOffsetPosition = (\\n    viewportPosition +\\n    unitNormal * (boundingBoxThickness / 2.0 + curveThickness + epsilon) *\\n    max(0.0, a_direction) // NOTE: cutting the bounding box in half to avoid overdraw\\n  );\\n\\n  position = viewportToClipspace(viewportOffsetPosition, u_dimensions);\\n  gl_Position = vec4(position, 0, 1);\\n\\n  v_color = a_color;\\n  v_color.a *= bias;\\n}\\n\";\nvar FRAGMENT_SHADER_SOURCE = /*glsl*/ \"\\nprecision mediump float;\\n\\nvarying vec4 v_color;\\nvarying float v_thickness;\\nvarying vec2 v_cpA;\\nvarying vec2 v_cpB;\\nvarying vec2 v_cpC;\\n\\nfloat det(vec2 a, vec2 b) {\\n  return a.x * b.y - b.x * a.y;\\n}\\n\\nvec2 get_distance_vector(vec2 b0, vec2 b1, vec2 b2) {\\n  float a = det(b0, b2), b = 2.0 * det(b1, b0), d = 2.0 * det(b2, b1);\\n  float f = b * d - a * a;\\n  vec2 d21 = b2 - b1, d10 = b1 - b0, d20 = b2 - b0;\\n  vec2 gf = 2.0 * (b * d21 + d * d10 + a * d20);\\n  gf = vec2(gf.y, -gf.x);\\n  vec2 pp = -f * gf / dot(gf, gf);\\n  vec2 d0p = b0 - pp;\\n  float ap = det(d0p, d20), bp = 2.0 * det(d10, d0p);\\n  float t = clamp((ap + bp) / (2.0 * a + b + d), 0.0, 1.0);\\n  return mix(mix(b0, b1, t), mix(b1, b2, t), t);\\n}\\n\\nfloat distToQuadraticBezierCurve(vec2 p, vec2 b0, vec2 b1, vec2 b2) {\\n  return length(get_distance_vector(b0 - p, b1 - p, b2 - p));\\n}\\n\\nconst float epsilon = 0.7;\\nconst vec4 transparent = vec4(0.0, 0.0, 0.0, 0.0);\\n\\nvoid main(void) {\\n  float dist = distToQuadraticBezierCurve(gl_FragCoord.xy, v_cpA, v_cpB, v_cpC);\\n\\n  if (dist < v_thickness + epsilon) {\\n    float inCurve = 1.0 - smoothstep(v_thickness - epsilon, v_thickness + epsilon, dist);\\n    gl_FragColor = inCurve * vec4(v_color.rgb * v_color.a, v_color.a);\\n  } else {\\n    gl_FragColor = transparent;\\n  }\\n}\\n\";\nvar UNSIGNED_BYTE = WebGLRenderingContext.UNSIGNED_BYTE, FLOAT = WebGLRenderingContext.FLOAT;\nvar UNIFORMS = [\"u_matrix\", \"u_sizeRatio\", \"u_dimensions\", \"u_pixelRatio\"];\nvar DEFAULT_EDGE_CURVENESS = 0.25;\nvar EdgeCurveProgram = /** @class */ (function (_super) {\n    __extends(EdgeCurveProgram, _super);\n    function EdgeCurveProgram() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    EdgeCurveProgram.prototype.getDefinition = function () {\n        return {\n            VERTICES: 4,\n            ARRAY_ITEMS_PER_VERTEX: 9,\n            VERTEX_SHADER_SOURCE: VERTEX_SHADER_SOURCE,\n            FRAGMENT_SHADER_SOURCE: FRAGMENT_SHADER_SOURCE,\n            UNIFORMS: UNIFORMS,\n            ATTRIBUTES: [\n                { name: \"a_source\", size: 2, type: FLOAT },\n                { name: \"a_target\", size: 2, type: FLOAT },\n                { name: \"a_current\", size: 1, type: FLOAT },\n                { name: \"a_color\", size: 4, type: UNSIGNED_BYTE, normalized: true },\n                { name: \"a_direction\", size: 1, type: FLOAT },\n                { name: \"a_thickness\", size: 1, type: FLOAT },\n                { name: \"a_curveness\", size: 1, type: FLOAT },\n            ]\n        };\n    };\n    EdgeCurveProgram.prototype.reallocateIndices = function () {\n        var l = this.verticesCount;\n        var size = l + l / 2;\n        var indices = new this.IndicesArray(size);\n        for (var i = 0, c = 0; i < l; i += 4) {\n            indices[c++] = i;\n            indices[c++] = i + 1;\n            indices[c++] = i + 2;\n            indices[c++] = i + 2;\n            indices[c++] = i + 1;\n            indices[c++] = i + 3;\n        }\n        this.indicesArray = indices;\n    };\n    EdgeCurveProgram.prototype.processVisibleItem = function (i, sourceData, targetData, data) {\n        var thickness = data.size || 1;\n        var x1 = sourceData.x;\n        var y1 = sourceData.y;\n        var x2 = targetData.x;\n        var y2 = targetData.y;\n        var color = (0, utils_1.floatColor)(data.color);\n        var curveness = typeof data.curveness === \"number\" ? data.curveness : DEFAULT_EDGE_CURVENESS;\n        var array = this.array;\n        // First point\n        array[i++] = x1;\n        array[i++] = y1;\n        array[i++] = x2;\n        array[i++] = y2;\n        array[i++] = 0;\n        array[i++] = color;\n        array[i++] = 1;\n        array[i++] = thickness;\n        array[i++] = curveness;\n        // First point flipped\n        array[i++] = x1;\n        array[i++] = y1;\n        array[i++] = x2;\n        array[i++] = y2;\n        array[i++] = 0;\n        array[i++] = color;\n        array[i++] = -1;\n        array[i++] = thickness;\n        array[i++] = curveness;\n        // Second point\n        array[i++] = x1;\n        array[i++] = y1;\n        array[i++] = x2;\n        array[i++] = y2;\n        array[i++] = 1;\n        array[i++] = color;\n        array[i++] = 1;\n        array[i++] = thickness;\n        array[i++] = curveness;\n        // Second point flipped\n        array[i++] = x1;\n        array[i++] = y1;\n        array[i++] = x2;\n        array[i++] = y2;\n        array[i++] = 1;\n        array[i++] = color;\n        array[i++] = -1;\n        array[i++] = thickness;\n        array[i++] = curveness;\n    };\n    EdgeCurveProgram.prototype.draw = function (params) {\n        var gl = this.gl;\n        var _a = this.uniformLocations, u_matrix = _a.u_matrix, u_sizeRatio = _a.u_sizeRatio, u_dimensions = _a.u_dimensions, u_pixelRatio = _a.u_pixelRatio;\n        gl.uniformMatrix3fv(u_matrix, false, params.matrix);\n        gl.uniform1f(u_pixelRatio, params.pixelRatio);\n        gl.uniform1f(u_sizeRatio, params.sizeRatio);\n        gl.uniform2f(u_dimensions, params.width * params.pixelRatio, params.height * params.pixelRatio);\n        if (!this.indicesArray)\n            throw new Error(\"EdgeCurveProgram: indicesArray should be allocated when drawing!\");\n        gl.drawElements(gl.TRIANGLES, this.indicesArray.length, this.indicesType, 0);\n    };\n    return EdgeCurveProgram;\n}(edge_1.EdgeProgram));\nexports[\"default\"] = EdgeCurveProgram;\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nexports.__esModule = true;\nvar node_1 = require(\"sigma/rendering/webgl/programs/common/node\");\nvar node_circle_1 = __importDefault(require(\"sigma/rendering/webgl/programs/node.circle\"));\nvar utils_1 = require(\"sigma/utils\");\nvar VERTEX_SHADER_SOURCE = /*glsl*/ \"\\nattribute vec2 a_position;\\nattribute float a_size;\\nattribute float a_angle;\\nattribute vec4 a_color;\\nattribute float a_intensity;\\n\\nuniform mat3 u_matrix;\\nuniform float u_sizeRatio;\\nuniform float u_correctionRatio;\\nuniform float u_ignoreZoom;\\n\\nvarying vec4 v_color;\\nvarying vec2 v_diffVector;\\nvarying float v_radius;\\nvarying float v_border;\\nvarying float v_intensity;\\n\\nconst float bias = 255.0 / 254.0;\\nconst float marginRatio = 1.05;\\n\\nvoid main() {\\n  float size = a_size * u_correctionRatio / u_sizeRatio * u_ignoreZoom * 4.0;\\n  vec2 diffVector = size * vec2(cos(a_angle), sin(a_angle));\\n  vec2 position = a_position + diffVector * marginRatio;\\n  gl_Position = vec4(\\n    (u_matrix * vec3(position, 1)).xy,\\n    0,\\n    1\\n  );\\n\\n  v_border = u_correctionRatio;\\n  v_diffVector = diffVector;\\n  v_radius = size / 2.0 / marginRatio;\\n\\n  v_color = a_color;\\n  v_color.a *= bias;\\n\\n  v_intensity = a_intensity;\\n}\\n\";\nvar FRAGMENT_SHADER_SOURCE = /*glsl*/ \"\\nprecision mediump float;\\n\\nvarying vec4 v_color;\\nvarying vec2 v_diffVector;\\nvarying float v_radius;\\nvarying float v_border;\\nvarying float v_intensity;\\n\\nconst vec4 transparent = vec4(0.0, 0.0, 0.0, 0.0);\\n\\nvoid main(void) {\\n  float dist = length(v_diffVector);\\n  float intensity = v_intensity * (1.0 - dist);\\n\\n  if (dist < v_radius) {\\n    gl_FragColor = mix(v_color, transparent, pow(dist / v_radius, intensity));\\n  }\\n  else {\\n    gl_FragColor = transparent;\\n  }\\n}\\n\";\nvar UNIFORMS = [\"u_sizeRatio\", \"u_correctionRatio\", \"u_matrix\", \"u_ignoreZoom\"];\nvar FLOAT = WebGLRenderingContext.FLOAT, UNSIGNED_BYTE = WebGLRenderingContext.UNSIGNED_BYTE;\nvar NodeHaloProgram = /** @class */ (function (_super) {\n    __extends(NodeHaloProgram, _super);\n    function NodeHaloProgram() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    NodeHaloProgram.prototype.getDefinition = function () {\n        return {\n            VERTICES: 3,\n            ARRAY_ITEMS_PER_VERTEX: 6,\n            VERTEX_SHADER_SOURCE: VERTEX_SHADER_SOURCE,\n            FRAGMENT_SHADER_SOURCE: FRAGMENT_SHADER_SOURCE,\n            UNIFORMS: UNIFORMS,\n            ATTRIBUTES: [\n                { name: \"a_position\", size: 2, type: FLOAT },\n                { name: \"a_size\", size: 1, type: FLOAT },\n                { name: \"a_color\", size: 4, type: UNSIGNED_BYTE, normalized: true },\n                { name: \"a_angle\", size: 1, type: FLOAT },\n                { name: \"a_intensity\", size: 1, type: FLOAT },\n            ]\n        };\n    };\n    NodeHaloProgram.prototype.processVisibleItem = function (i, data) {\n        var array = this.array;\n        var color = (0, utils_1.floatColor)(data.haloColor || data.color);\n        var intensity = typeof data.haloIntensity === \"number\" ? data.haloIntensity : 1;\n        var size = Math.max(typeof data.haloSize === \"number\" ? data.haloSize : 0, data.size);\n        array[i++] = data.x;\n        array[i++] = data.y;\n        array[i++] = size;\n        array[i++] = color;\n        array[i++] = node_circle_1[\"default\"].ANGLE_1;\n        array[i++] = intensity;\n        array[i++] = data.x;\n        array[i++] = data.y;\n        array[i++] = size;\n        array[i++] = color;\n        array[i++] = node_circle_1[\"default\"].ANGLE_2;\n        array[i++] = intensity;\n        array[i++] = data.x;\n        array[i++] = data.y;\n        array[i++] = size;\n        array[i++] = color;\n        array[i++] = node_circle_1[\"default\"].ANGLE_3;\n        array[i++] = intensity;\n    };\n    NodeHaloProgram.prototype.draw = function (params) {\n        var gl = this.gl;\n        var _a = this.uniformLocations, u_sizeRatio = _a.u_sizeRatio, u_correctionRatio = _a.u_correctionRatio, u_matrix = _a.u_matrix, u_ignoreZoom = _a.u_ignoreZoom;\n        gl.uniform1f(u_ignoreZoom, 1);\n        // NOTE: uncomment next line to disable zoom impact.\n        // gl.uniform1f(u_ignoreZoom, 1 / params.sizeRatio);\n        gl.uniform1f(u_sizeRatio, params.sizeRatio);\n        gl.uniform1f(u_correctionRatio, params.correctionRatio);\n        gl.uniformMatrix3fv(u_matrix, false, params.matrix);\n        gl.drawArrays(gl.TRIANGLES, 0, this.verticesCount);\n    };\n    return NodeHaloProgram;\n}(node_1.NodeProgram));\nexports[\"default\"] = NodeHaloProgram;\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nexports.__esModule = true;\nvar node_point_1 = __importDefault(require(\"sigma/rendering/webgl/programs/node.point\"));\nvar utils_1 = require(\"sigma/utils\");\nvar VERTEX_SHADER_SOURCE = /*glsl*/ \"\\nattribute vec2 a_position;\\nattribute float a_size;\\nattribute vec4 a_color;\\nattribute vec4 a_borderColor;\\nattribute float a_borderRatio;\\n\\nuniform float u_sizeRatio;\\nuniform float u_pixelRatio;\\nuniform mat3 u_matrix;\\n\\nvarying vec4 v_color;\\nvarying vec4 v_borderColor;\\nvarying float v_border;\\nvarying float v_borderRatio;\\n\\nconst float bias = 255.0 / 254.0;\\n\\nvoid main() {\\n  gl_Position = vec4(\\n    (u_matrix * vec3(a_position, 1)).xy,\\n    0,\\n    1\\n  );\\n\\n  // Multiply the point size twice:\\n  //  - x SCALING_RATIO to correct the canvas scaling\\n  //  - x 2 to correct the formulae\\n  gl_PointSize = a_size / u_sizeRatio * u_pixelRatio * 2.0;\\n\\n  v_border = (0.5 / a_size) * u_sizeRatio;\\n\\n  // Extract the color:\\n  v_color = a_color;\\n  v_color.a *= bias;\\n\\n  v_borderColor = a_borderColor;\\n  v_borderColor.a *= bias;\\n\\n  v_borderRatio = 0.5 - a_borderRatio / 2.0;\\n}\\n\";\nvar FRAGMENT_SHADER_SOURCE = /*glsl*/ \"\\nprecision mediump float;\\n\\nvarying vec4 v_color;\\nvarying vec4 v_borderColor;\\nvarying float v_border;\\nvarying float v_borderRatio;\\n\\nconst float radius = 0.5;\\nconst vec4 transparent = vec4(0.0, 0.0, 0.0, 0.0);\\n\\nvoid main(void) {\\n  float distToCenter = length(gl_PointCoord - vec2(0.5, 0.5));\\n\\n  if (distToCenter < v_borderRatio - v_border)\\n    gl_FragColor = v_color;\\n  else if (distToCenter < v_borderRatio)\\n    gl_FragColor = mix(v_borderColor, v_color, (v_borderRatio - distToCenter) / v_border);\\n  else if (distToCenter < radius - v_border)\\n    gl_FragColor = v_borderColor;\\n  else if (distToCenter < radius)\\n    gl_FragColor = mix(transparent, v_borderColor, (radius - distToCenter) / v_border);\\n  else\\n    gl_FragColor = transparent;\\n}\\n\";\nvar FLOAT = WebGLRenderingContext.FLOAT, UNSIGNED_BYTE = WebGLRenderingContext.UNSIGNED_BYTE;\nvar DEFAULT_NODE_BORDER_COLOR = \"#7a7a7a\";\nvar DEFAULT_NODE_BORDER_RATIO = 0.1;\nvar NodePointWithBorderProgram = /** @class */ (function (_super) {\n    __extends(NodePointWithBorderProgram, _super);\n    function NodePointWithBorderProgram() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    NodePointWithBorderProgram.prototype.getDefinition = function () {\n        return __assign(__assign({}, _super.prototype.getDefinition.call(this)), { ARRAY_ITEMS_PER_VERTEX: 6, VERTEX_SHADER_SOURCE: VERTEX_SHADER_SOURCE, FRAGMENT_SHADER_SOURCE: FRAGMENT_SHADER_SOURCE, ATTRIBUTES: [\n                { name: \"a_position\", size: 2, type: FLOAT },\n                { name: \"a_size\", size: 1, type: FLOAT },\n                { name: \"a_color\", size: 4, type: UNSIGNED_BYTE, normalized: true },\n                { name: \"a_borderColor\", size: 4, type: UNSIGNED_BYTE, normalized: true },\n                { name: \"a_borderRatio\", size: 1, type: FLOAT },\n            ] });\n    };\n    NodePointWithBorderProgram.prototype.processVisibleItem = function (i, data) {\n        var array = this.array;\n        var borderRatio = typeof data.borderRatio !== \"number\" ? DEFAULT_NODE_BORDER_RATIO : data.borderRatio;\n        // borderSize takes precedence\n        if (typeof data.borderSize === \"number\") {\n            borderRatio = data.borderSize / data.size;\n        }\n        array[i++] = data.x;\n        array[i++] = data.y;\n        array[i++] = data.size;\n        array[i++] = (0, utils_1.floatColor)(data.color);\n        array[i++] = (0, utils_1.floatColor)(data.borderColor || DEFAULT_NODE_BORDER_COLOR);\n        array[i] = borderRatio;\n    };\n    return NodePointWithBorderProgram;\n}(node_point_1[\"default\"]));\nexports[\"default\"] = NodePointWithBorderProgram;\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\nvar R = typeof Reflect === 'object' ? Reflect : null\nvar ReflectApply = R && typeof R.apply === 'function'\n  ? R.apply\n  : function ReflectApply(target, receiver, args) {\n    return Function.prototype.apply.call(target, receiver, args);\n  }\n\nvar ReflectOwnKeys\nif (R && typeof R.ownKeys === 'function') {\n  ReflectOwnKeys = R.ownKeys\n} else if (Object.getOwnPropertySymbols) {\n  ReflectOwnKeys = function ReflectOwnKeys(target) {\n    return Object.getOwnPropertyNames(target)\n      .concat(Object.getOwnPropertySymbols(target));\n  };\n} else {\n  ReflectOwnKeys = function ReflectOwnKeys(target) {\n    return Object.getOwnPropertyNames(target);\n  };\n}\n\nfunction ProcessEmitWarning(warning) {\n  if (console && console.warn) console.warn(warning);\n}\n\nvar NumberIsNaN = Number.isNaN || function NumberIsNaN(value) {\n  return value !== value;\n}\n\nfunction EventEmitter() {\n  EventEmitter.init.call(this);\n}\nmodule.exports = EventEmitter;\nmodule.exports.once = once;\n\n// Backwards-compat with node 0.10.x\nEventEmitter.EventEmitter = EventEmitter;\n\nEventEmitter.prototype._events = undefined;\nEventEmitter.prototype._eventsCount = 0;\nEventEmitter.prototype._maxListeners = undefined;\n\n// By default EventEmitters will print a warning if more than 10 listeners are\n// added to it. This is a useful default which helps finding memory leaks.\nvar defaultMaxListeners = 10;\n\nfunction checkListener(listener) {\n  if (typeof listener !== 'function') {\n    throw new TypeError('The \"listener\" argument must be of type Function. Received type ' + typeof listener);\n  }\n}\n\nObject.defineProperty(EventEmitter, 'defaultMaxListeners', {\n  enumerable: true,\n  get: function() {\n    return defaultMaxListeners;\n  },\n  set: function(arg) {\n    if (typeof arg !== 'number' || arg < 0 || NumberIsNaN(arg)) {\n      throw new RangeError('The value of \"defaultMaxListeners\" is out of range. It must be a non-negative number. Received ' + arg + '.');\n    }\n    defaultMaxListeners = arg;\n  }\n});\n\nEventEmitter.init = function() {\n\n  if (this._events === undefined ||\n      this._events === Object.getPrototypeOf(this)._events) {\n    this._events = Object.create(null);\n    this._eventsCount = 0;\n  }\n\n  this._maxListeners = this._maxListeners || undefined;\n};\n\n// Obviously not all Emitters should be limited to 10. This function allows\n// that to be increased. Set to zero for unlimited.\nEventEmitter.prototype.setMaxListeners = function setMaxListeners(n) {\n  if (typeof n !== 'number' || n < 0 || NumberIsNaN(n)) {\n    throw new RangeError('The value of \"n\" is out of range. It must be a non-negative number. Received ' + n + '.');\n  }\n  this._maxListeners = n;\n  return this;\n};\n\nfunction _getMaxListeners(that) {\n  if (that._maxListeners === undefined)\n    return EventEmitter.defaultMaxListeners;\n  return that._maxListeners;\n}\n\nEventEmitter.prototype.getMaxListeners = function getMaxListeners() {\n  return _getMaxListeners(this);\n};\n\nEventEmitter.prototype.emit = function emit(type) {\n  var args = [];\n  for (var i = 1; i < arguments.length; i++) args.push(arguments[i]);\n  var doError = (type === 'error');\n\n  var events = this._events;\n  if (events !== undefined)\n    doError = (doError && events.error === undefined);\n  else if (!doError)\n    return false;\n\n  // If there is no 'error' event listener then throw.\n  if (doError) {\n    var er;\n    if (args.length > 0)\n      er = args[0];\n    if (er instanceof Error) {\n      // Note: The comments on the `throw` lines are intentional, they show\n      // up in Node's output if this results in an unhandled exception.\n      throw er; // Unhandled 'error' event\n    }\n    // At least give some kind of context to the user\n    var err = new Error('Unhandled error.' + (er ? ' (' + er.message + ')' : ''));\n    err.context = er;\n    throw err; // Unhandled 'error' event\n  }\n\n  var handler = events[type];\n\n  if (handler === undefined)\n    return false;\n\n  if (typeof handler === 'function') {\n    ReflectApply(handler, this, args);\n  } else {\n    var len = handler.length;\n    var listeners = arrayClone(handler, len);\n    for (var i = 0; i < len; ++i)\n      ReflectApply(listeners[i], this, args);\n  }\n\n  return true;\n};\n\nfunction _addListener(target, type, listener, prepend) {\n  var m;\n  var events;\n  var existing;\n\n  checkListener(listener);\n\n  events = target._events;\n  if (events === undefined) {\n    events = target._events = Object.create(null);\n    target._eventsCount = 0;\n  } else {\n    // To avoid recursion in the case that type === \"newListener\"! Before\n    // adding it to the listeners, first emit \"newListener\".\n    if (events.newListener !== undefined) {\n      target.emit('newListener', type,\n                  listener.listener ? listener.listener : listener);\n\n      // Re-assign `events` because a newListener handler could have caused the\n      // this._events to be assigned to a new object\n      events = target._events;\n    }\n    existing = events[type];\n  }\n\n  if (existing === undefined) {\n    // Optimize the case of one listener. Don't need the extra array object.\n    existing = events[type] = listener;\n    ++target._eventsCount;\n  } else {\n    if (typeof existing === 'function') {\n      // Adding the second element, need to change to array.\n      existing = events[type] =\n        prepend ? [listener, existing] : [existing, listener];\n      // If we've already got an array, just append.\n    } else if (prepend) {\n      existing.unshift(listener);\n    } else {\n      existing.push(listener);\n    }\n\n    // Check for listener leak\n    m = _getMaxListeners(target);\n    if (m > 0 && existing.length > m && !existing.warned) {\n      existing.warned = true;\n      // No error code for this since it is a Warning\n      // eslint-disable-next-line no-restricted-syntax\n      var w = new Error('Possible EventEmitter memory leak detected. ' +\n                          existing.length + ' ' + String(type) + ' listeners ' +\n                          'added. Use emitter.setMaxListeners() to ' +\n                          'increase limit');\n      w.name = 'MaxListenersExceededWarning';\n      w.emitter = target;\n      w.type = type;\n      w.count = existing.length;\n      ProcessEmitWarning(w);\n    }\n  }\n\n  return target;\n}\n\nEventEmitter.prototype.addListener = function addListener(type, listener) {\n  return _addListener(this, type, listener, false);\n};\n\nEventEmitter.prototype.on = EventEmitter.prototype.addListener;\n\nEventEmitter.prototype.prependListener =\n    function prependListener(type, listener) {\n      return _addListener(this, type, listener, true);\n    };\n\nfunction onceWrapper() {\n  if (!this.fired) {\n    this.target.removeListener(this.type, this.wrapFn);\n    this.fired = true;\n    if (arguments.length === 0)\n      return this.listener.call(this.target);\n    return this.listener.apply(this.target, arguments);\n  }\n}\n\nfunction _onceWrap(target, type, listener) {\n  var state = { fired: false, wrapFn: undefined, target: target, type: type, listener: listener };\n  var wrapped = onceWrapper.bind(state);\n  wrapped.listener = listener;\n  state.wrapFn = wrapped;\n  return wrapped;\n}\n\nEventEmitter.prototype.once = function once(type, listener) {\n  checkListener(listener);\n  this.on(type, _onceWrap(this, type, listener));\n  return this;\n};\n\nEventEmitter.prototype.prependOnceListener =\n    function prependOnceListener(type, listener) {\n      checkListener(listener);\n      this.prependListener(type, _onceWrap(this, type, listener));\n      return this;\n    };\n\n// Emits a 'removeListener' event if and only if the listener was removed.\nEventEmitter.prototype.removeListener =\n    function removeListener(type, listener) {\n      var list, events, position, i, originalListener;\n\n      checkListener(listener);\n\n      events = this._events;\n      if (events === undefined)\n        return this;\n\n      list = events[type];\n      if (list === undefined)\n        return this;\n\n      if (list === listener || list.listener === listener) {\n        if (--this._eventsCount === 0)\n          this._events = Object.create(null);\n        else {\n          delete events[type];\n          if (events.removeListener)\n            this.emit('removeListener', type, list.listener || listener);\n        }\n      } else if (typeof list !== 'function') {\n        position = -1;\n\n        for (i = list.length - 1; i >= 0; i--) {\n          if (list[i] === listener || list[i].listener === listener) {\n            originalListener = list[i].listener;\n            position = i;\n            break;\n          }\n        }\n\n        if (position < 0)\n          return this;\n\n        if (position === 0)\n          list.shift();\n        else {\n          spliceOne(list, position);\n        }\n\n        if (list.length === 1)\n          events[type] = list[0];\n\n        if (events.removeListener !== undefined)\n          this.emit('removeListener', type, originalListener || listener);\n      }\n\n      return this;\n    };\n\nEventEmitter.prototype.off = EventEmitter.prototype.removeListener;\n\nEventEmitter.prototype.removeAllListeners =\n    function removeAllListeners(type) {\n      var listeners, events, i;\n\n      events = this._events;\n      if (events === undefined)\n        return this;\n\n      // not listening for removeListener, no need to emit\n      if (events.removeListener === undefined) {\n        if (arguments.length === 0) {\n          this._events = Object.create(null);\n          this._eventsCount = 0;\n        } else if (events[type] !== undefined) {\n          if (--this._eventsCount === 0)\n            this._events = Object.create(null);\n          else\n            delete events[type];\n        }\n        return this;\n      }\n\n      // emit removeListener for all listeners on all events\n      if (arguments.length === 0) {\n        var keys = Object.keys(events);\n        var key;\n        for (i = 0; i < keys.length; ++i) {\n          key = keys[i];\n          if (key === 'removeListener') continue;\n          this.removeAllListeners(key);\n        }\n        this.removeAllListeners('removeListener');\n        this._events = Object.create(null);\n        this._eventsCount = 0;\n        return this;\n      }\n\n      listeners = events[type];\n\n      if (typeof listeners === 'function') {\n        this.removeListener(type, listeners);\n      } else if (listeners !== undefined) {\n        // LIFO order\n        for (i = listeners.length - 1; i >= 0; i--) {\n          this.removeListener(type, listeners[i]);\n        }\n      }\n\n      return this;\n    };\n\nfunction _listeners(target, type, unwrap) {\n  var events = target._events;\n\n  if (events === undefined)\n    return [];\n\n  var evlistener = events[type];\n  if (evlistener === undefined)\n    return [];\n\n  if (typeof evlistener === 'function')\n    return unwrap ? [evlistener.listener || evlistener] : [evlistener];\n\n  return unwrap ?\n    unwrapListeners(evlistener) : arrayClone(evlistener, evlistener.length);\n}\n\nEventEmitter.prototype.listeners = function listeners(type) {\n  return _listeners(this, type, true);\n};\n\nEventEmitter.prototype.rawListeners = function rawListeners(type) {\n  return _listeners(this, type, false);\n};\n\nEventEmitter.listenerCount = function(emitter, type) {\n  if (typeof emitter.listenerCount === 'function') {\n    return emitter.listenerCount(type);\n  } else {\n    return listenerCount.call(emitter, type);\n  }\n};\n\nEventEmitter.prototype.listenerCount = listenerCount;\nfunction listenerCount(type) {\n  var events = this._events;\n\n  if (events !== undefined) {\n    var evlistener = events[type];\n\n    if (typeof evlistener === 'function') {\n      return 1;\n    } else if (evlistener !== undefined) {\n      return evlistener.length;\n    }\n  }\n\n  return 0;\n}\n\nEventEmitter.prototype.eventNames = function eventNames() {\n  return this._eventsCount > 0 ? ReflectOwnKeys(this._events) : [];\n};\n\nfunction arrayClone(arr, n) {\n  var copy = new Array(n);\n  for (var i = 0; i < n; ++i)\n    copy[i] = arr[i];\n  return copy;\n}\n\nfunction spliceOne(list, index) {\n  for (; index + 1 < list.length; index++)\n    list[index] = list[index + 1];\n  list.pop();\n}\n\nfunction unwrapListeners(arr) {\n  var ret = new Array(arr.length);\n  for (var i = 0; i < ret.length; ++i) {\n    ret[i] = arr[i].listener || arr[i];\n  }\n  return ret;\n}\n\nfunction once(emitter, name) {\n  return new Promise(function (resolve, reject) {\n    function errorListener(err) {\n      emitter.removeListener(name, resolver);\n      reject(err);\n    }\n\n    function resolver() {\n      if (typeof emitter.removeListener === 'function') {\n        emitter.removeListener('error', errorListener);\n      }\n      resolve([].slice.call(arguments));\n    };\n\n    eventTargetAgnosticAddListener(emitter, name, resolver, { once: true });\n    if (name !== 'error') {\n      addErrorHandlerIfEventEmitter(emitter, errorListener, { once: true });\n    }\n  });\n}\n\nfunction addErrorHandlerIfEventEmitter(emitter, handler, flags) {\n  if (typeof emitter.on === 'function') {\n    eventTargetAgnosticAddListener(emitter, 'error', handler, flags);\n  }\n}\n\nfunction eventTargetAgnosticAddListener(emitter, name, listener, flags) {\n  if (typeof emitter.on === 'function') {\n    if (flags.once) {\n      emitter.once(name, listener);\n    } else {\n      emitter.on(name, listener);\n    }\n  } else if (typeof emitter.addEventListener === 'function') {\n    // EventTarget does not have `error` event semantics like Node\n    // EventEmitters, we do not listen for `error` events here.\n    emitter.addEventListener(name, function wrapListener(arg) {\n      // IE does not have builtin `{ once: true }` support so we\n      // have to do it manually.\n      if (flags.once) {\n        emitter.removeEventListener(name, wrapListener);\n      }\n      listener(arg);\n    });\n  } else {\n    throw new TypeError('The \"emitter\" argument must be of type EventEmitter. Received type ' + typeof emitter);\n  }\n}\n","(function(a,b){if(\"function\"==typeof define&&define.amd)define([],b);else if(\"undefined\"!=typeof exports)b();else{b(),a.FileSaver={exports:{}}.exports}})(this,function(){\"use strict\";function b(a,b){return\"undefined\"==typeof b?b={autoBom:!1}:\"object\"!=typeof b&&(console.warn(\"Deprecated: Expected third argument to be a object\"),b={autoBom:!b}),b.autoBom&&/^\\s*(?:text\\/\\S*|application\\/xml|\\S*\\/\\S*\\+xml)\\s*;.*charset\\s*=\\s*utf-8/i.test(a.type)?new Blob([\"\\uFEFF\",a],{type:a.type}):a}function c(a,b,c){var d=new XMLHttpRequest;d.open(\"GET\",a),d.responseType=\"blob\",d.onload=function(){g(d.response,b,c)},d.onerror=function(){console.error(\"could not download file\")},d.send()}function d(a){var b=new XMLHttpRequest;b.open(\"HEAD\",a,!1);try{b.send()}catch(a){}return 200<=b.status&&299>=b.status}function e(a){try{a.dispatchEvent(new MouseEvent(\"click\"))}catch(c){var b=document.createEvent(\"MouseEvents\");b.initMouseEvent(\"click\",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),a.dispatchEvent(b)}}var f=\"object\"==typeof window&&window.window===window?window:\"object\"==typeof self&&self.self===self?self:\"object\"==typeof global&&global.global===global?global:void 0,a=f.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),g=f.saveAs||(\"object\"!=typeof window||window!==f?function(){}:\"download\"in HTMLAnchorElement.prototype&&!a?function(b,g,h){var i=f.URL||f.webkitURL,j=document.createElement(\"a\");g=g||b.name||\"download\",j.download=g,j.rel=\"noopener\",\"string\"==typeof b?(j.href=b,j.origin===location.origin?e(j):d(j.href)?c(b,g,h):e(j,j.target=\"_blank\")):(j.href=i.createObjectURL(b),setTimeout(function(){i.revokeObjectURL(j.href)},4E4),setTimeout(function(){e(j)},0))}:\"msSaveOrOpenBlob\"in navigator?function(f,g,h){if(g=g||f.name||\"download\",\"string\"!=typeof f)navigator.msSaveOrOpenBlob(b(f,h),g);else if(d(f))c(f,g,h);else{var i=document.createElement(\"a\");i.href=f,i.target=\"_blank\",setTimeout(function(){e(i)})}}:function(b,d,e,g){if(g=g||open(\"\",\"_blank\"),g&&(g.document.title=g.document.body.innerText=\"downloading...\"),\"string\"==typeof b)return c(b,d,e);var h=\"application/octet-stream\"===b.type,i=/constructor/i.test(f.HTMLElement)||f.safari,j=/CriOS\\/[\\d]+/.test(navigator.userAgent);if((j||h&&i||a)&&\"undefined\"!=typeof FileReader){var k=new FileReader;k.onloadend=function(){var a=k.result;a=j?a:a.replace(/^data:[^;]*;/,\"data:attachment/file;\"),g?g.location.href=a:location=a,g=null},k.readAsDataURL(b)}else{var l=f.URL||f.webkitURL,m=l.createObjectURL(b);g?g.location=m:location.href=m,g=null,setTimeout(function(){l.revokeObjectURL(m)},4E4)}});f.saveAs=g.saveAs=g,\"undefined\"!=typeof module&&(module.exports=g)});\n\n//# sourceMappingURL=FileSaver.min.js.map","/**\n * Graphology Louvain Algorithm\n * =============================\n *\n * JavaScript implementation of the famous Louvain community detection\n * algorithm for graphology.\n *\n * [Articles]\n * M. E. J. Newman, « Modularity and community structure in networks »,\n * Proc. Natl. Acad. Sci. USA, vol. 103, no 23, 2006, p. 8577–8582\n * https://dx.doi.org/10.1073%2Fpnas.0601602103\n *\n * Newman, M. E. J. « Community detection in networks: Modularity optimization\n * and maximum likelihood are equivalent ». Physical Review E, vol. 94, no 5,\n * novembre 2016, p. 052315. arXiv.org, doi:10.1103/PhysRevE.94.052315.\n * https://arxiv.org/pdf/1606.02319.pdf\n *\n * Blondel, Vincent D., et al. « Fast unfolding of communities in large\n * networks ». Journal of Statistical Mechanics: Theory and Experiment,\n * vol. 2008, no 10, octobre 2008, p. P10008. DOI.org (Crossref),\n * doi:10.1088/1742-5468/2008/10/P10008.\n * https://arxiv.org/pdf/0803.0476.pdf\n *\n * Nicolas Dugué, Anthony Perez. Directed Louvain: maximizing modularity in\n * directed networks. [Research Report] Université d’Orléans. 2015. hal-01231784\n * https://hal.archives-ouvertes.fr/hal-01231784\n *\n * R. Lambiotte, J.-C. Delvenne and M. Barahona. Laplacian Dynamics and\n * Multiscale Modular Structure in Networks,\n * doi:10.1109/TNSE.2015.2391998.\n * https://arxiv.org/abs/0812.1770\n *\n * Traag, V. A., et al. « From Louvain to Leiden: Guaranteeing Well-Connected\n * Communities ». Scientific Reports, vol. 9, no 1, décembre 2019, p. 5233.\n * DOI.org (Crossref), doi:10.1038/s41598-019-41695-z.\n * https://arxiv.org/abs/1810.08473\n */\nvar resolveDefaults = require('graphology-utils/defaults');\nvar isGraph = require('graphology-utils/is-graph');\nvar inferType = require('graphology-utils/infer-type');\nvar SparseMap = require('mnemonist/sparse-map');\nvar SparseQueueSet = require('mnemonist/sparse-queue-set');\nvar createRandomIndex = require('pandemonium/random-index').createRandomIndex;\n\nvar indices = require('graphology-indices/louvain');\n\nvar UndirectedLouvainIndex = indices.UndirectedLouvainIndex;\nvar DirectedLouvainIndex = indices.DirectedLouvainIndex;\n\nvar DEFAULTS = {\n  nodeCommunityAttribute: 'community',\n  getEdgeWeight: 'weight',\n  fastLocalMoves: true,\n  randomWalk: true,\n  resolution: 1,\n  rng: Math.random\n};\n\nfunction addWeightToCommunity(map, community, weight) {\n  var currentWeight = map.get(community);\n\n  if (typeof currentWeight === 'undefined') currentWeight = 0;\n\n  currentWeight += weight;\n\n  map.set(community, currentWeight);\n}\n\nvar EPSILON = 1e-10;\n\nfunction tieBreaker(\n  bestCommunity,\n  currentCommunity,\n  targetCommunity,\n  delta,\n  bestDelta\n) {\n  if (Math.abs(delta - bestDelta) < EPSILON) {\n    if (bestCommunity === currentCommunity) {\n      return false;\n    } else {\n      return targetCommunity > bestCommunity;\n    }\n  } else if (delta > bestDelta) {\n    return true;\n  }\n\n  return false;\n}\n\nfunction undirectedLouvain(detailed, graph, options) {\n  var index = new UndirectedLouvainIndex(graph, {\n    getEdgeWeight: options.getEdgeWeight,\n    keepDendrogram: detailed,\n    resolution: options.resolution\n  });\n\n  var randomIndex = createRandomIndex(options.rng);\n\n  // State variables\n  var moveWasMade = true,\n    localMoveWasMade = true;\n\n  // Communities\n  var currentCommunity, targetCommunity;\n  var communities = new SparseMap(Float64Array, index.C);\n\n  // Traversal\n  var queue, start, end, weight, ci, ri, s, i, j, l;\n\n  // Metrics\n  var degree, targetCommunityDegree;\n\n  // Moves\n  var bestCommunity, bestDelta, deltaIsBetter, delta;\n\n  // Details\n  var deltaComputations = 0,\n    nodesVisited = 0,\n    moves = [],\n    localMoves,\n    currentMoves;\n\n  if (options.fastLocalMoves) queue = new SparseQueueSet(index.C);\n\n  while (moveWasMade) {\n    l = index.C;\n\n    moveWasMade = false;\n    localMoveWasMade = true;\n\n    if (options.fastLocalMoves) {\n      currentMoves = 0;\n\n      // Traversal of the graph\n      ri = options.randomWalk ? randomIndex(l) : 0;\n\n      for (s = 0; s < l; s++, ri++) {\n        i = ri % l;\n        queue.enqueue(i);\n      }\n\n      while (queue.size !== 0) {\n        i = queue.dequeue();\n        nodesVisited++;\n\n        degree = 0;\n        communities.clear();\n\n        currentCommunity = index.belongings[i];\n\n        start = index.starts[i];\n        end = index.starts[i + 1];\n\n        // Traversing neighbors\n        for (; start < end; start++) {\n          j = index.neighborhood[start];\n          weight = index.weights[start];\n\n          targetCommunity = index.belongings[j];\n\n          // Incrementing metrics\n          degree += weight;\n          addWeightToCommunity(communities, targetCommunity, weight);\n        }\n\n        // Finding best community to move to\n        bestDelta = index.fastDeltaWithOwnCommunity(\n          i,\n          degree,\n          communities.get(currentCommunity) || 0,\n          currentCommunity\n        );\n        bestCommunity = currentCommunity;\n\n        for (ci = 0; ci < communities.size; ci++) {\n          targetCommunity = communities.dense[ci];\n\n          if (targetCommunity === currentCommunity) continue;\n\n          targetCommunityDegree = communities.vals[ci];\n\n          deltaComputations++;\n\n          delta = index.fastDelta(\n            i,\n            degree,\n            targetCommunityDegree,\n            targetCommunity\n          );\n\n          deltaIsBetter = tieBreaker(\n            bestCommunity,\n            currentCommunity,\n            targetCommunity,\n            delta,\n            bestDelta\n          );\n\n          if (deltaIsBetter) {\n            bestDelta = delta;\n            bestCommunity = targetCommunity;\n          }\n        }\n\n        // Should we move the node?\n        if (bestDelta < 0) {\n          // NOTE: this is to allow nodes to move back to their own singleton\n          // This code however only deals with modularity (e.g. the condition\n          // about bestDelta < 0, which is the delta for moving back to\n          // singleton wrt. modularity). Indeed, rarely, the Louvain\n          // algorithm can produce such cases when a node would be better in\n          // a singleton that in its own community when considering self loops\n          // or a resolution != 1. In this case, delta with your own community\n          // is indeed less than 0. To handle different metrics, one should\n          // consider computing the delta for going back to singleton because\n          // it might not be 0.\n          bestCommunity = index.isolate(i, degree);\n\n          // If the node was already in a singleton community, we don't consider\n          // a move was made\n          if (bestCommunity === currentCommunity) continue;\n        } else {\n          // If no move was made, we continue to next node\n          if (bestCommunity === currentCommunity) {\n            continue;\n          } else {\n            // Actually moving the node to a new community\n            index.move(i, degree, bestCommunity);\n          }\n        }\n\n        moveWasMade = true;\n        currentMoves++;\n\n        // Adding neighbors from other communities to the queue\n        start = index.starts[i];\n        end = index.starts[i + 1];\n\n        for (; start < end; start++) {\n          j = index.neighborhood[start];\n          targetCommunity = index.belongings[j];\n\n          if (targetCommunity !== bestCommunity) queue.enqueue(j);\n        }\n      }\n\n      moves.push(currentMoves);\n    } else {\n      localMoves = [];\n      moves.push(localMoves);\n\n      // Traditional Louvain iterative traversal of the graph\n      while (localMoveWasMade) {\n        localMoveWasMade = false;\n        currentMoves = 0;\n\n        ri = options.randomWalk ? randomIndex(l) : 0;\n\n        for (s = 0; s < l; s++, ri++) {\n          i = ri % l;\n\n          nodesVisited++;\n\n          degree = 0;\n          communities.clear();\n\n          currentCommunity = index.belongings[i];\n\n          start = index.starts[i];\n          end = index.starts[i + 1];\n\n          // Traversing neighbors\n          for (; start < end; start++) {\n            j = index.neighborhood[start];\n            weight = index.weights[start];\n\n            targetCommunity = index.belongings[j];\n\n            // Incrementing metrics\n            degree += weight;\n            addWeightToCommunity(communities, targetCommunity, weight);\n          }\n\n          // Finding best community to move to\n          bestDelta = index.fastDeltaWithOwnCommunity(\n            i,\n            degree,\n            communities.get(currentCommunity) || 0,\n            currentCommunity\n          );\n          bestCommunity = currentCommunity;\n\n          for (ci = 0; ci < communities.size; ci++) {\n            targetCommunity = communities.dense[ci];\n\n            if (targetCommunity === currentCommunity) continue;\n\n            targetCommunityDegree = communities.vals[ci];\n\n            deltaComputations++;\n\n            delta = index.fastDelta(\n              i,\n              degree,\n              targetCommunityDegree,\n              targetCommunity\n            );\n\n            deltaIsBetter = tieBreaker(\n              bestCommunity,\n              currentCommunity,\n              targetCommunity,\n              delta,\n              bestDelta\n            );\n\n            if (deltaIsBetter) {\n              bestDelta = delta;\n              bestCommunity = targetCommunity;\n            }\n          }\n\n          // Should we move the node?\n          if (bestDelta < 0) {\n            // NOTE: this is to allow nodes to move back to their own singleton\n            // This code however only deals with modularity (e.g. the condition\n            // about bestDelta < 0, which is the delta for moving back to\n            // singleton wrt. modularity). Indeed, rarely, the Louvain\n            // algorithm can produce such cases when a node would be better in\n            // a singleton that in its own community when considering self loops\n            // or a resolution != 1. In this case, delta with your own community\n            // is indeed less than 0. To handle different metrics, one should\n            // consider computing the delta for going back to singleton because\n            // it might not be 0.\n            bestCommunity = index.isolate(i, degree);\n\n            // If the node was already in a singleton community, we don't consider\n            // a move was made\n            if (bestCommunity === currentCommunity) continue;\n          } else {\n            // If no move was made, we continue to next node\n            if (bestCommunity === currentCommunity) {\n              continue;\n            } else {\n              // Actually moving the node to a new community\n              index.move(i, degree, bestCommunity);\n            }\n          }\n\n          localMoveWasMade = true;\n          currentMoves++;\n        }\n\n        localMoves.push(currentMoves);\n\n        moveWasMade = localMoveWasMade || moveWasMade;\n      }\n    }\n\n    // We continue working on the induced graph\n    if (moveWasMade) index.zoomOut();\n  }\n\n  var results = {\n    index: index,\n    deltaComputations: deltaComputations,\n    nodesVisited: nodesVisited,\n    moves: moves\n  };\n\n  return results;\n}\n\nfunction directedLouvain(detailed, graph, options) {\n  var index = new DirectedLouvainIndex(graph, {\n    getEdgeWeight: options.getEdgeWeight,\n    keepDendrogram: detailed,\n    resolution: options.resolution\n  });\n\n  var randomIndex = createRandomIndex(options.rng);\n\n  // State variables\n  var moveWasMade = true,\n    localMoveWasMade = true;\n\n  // Communities\n  var currentCommunity, targetCommunity;\n  var communities = new SparseMap(Float64Array, index.C);\n\n  // Traversal\n  var queue, start, end, offset, out, weight, ci, ri, s, i, j, l;\n\n  // Metrics\n  var inDegree, outDegree, targetCommunityDegree;\n\n  // Moves\n  var bestCommunity, bestDelta, deltaIsBetter, delta;\n\n  // Details\n  var deltaComputations = 0,\n    nodesVisited = 0,\n    moves = [],\n    localMoves,\n    currentMoves;\n\n  if (options.fastLocalMoves) queue = new SparseQueueSet(index.C);\n\n  while (moveWasMade) {\n    l = index.C;\n\n    moveWasMade = false;\n    localMoveWasMade = true;\n\n    if (options.fastLocalMoves) {\n      currentMoves = 0;\n\n      // Traversal of the graph\n      ri = options.randomWalk ? randomIndex(l) : 0;\n\n      for (s = 0; s < l; s++, ri++) {\n        i = ri % l;\n        queue.enqueue(i);\n      }\n\n      while (queue.size !== 0) {\n        i = queue.dequeue();\n        nodesVisited++;\n\n        inDegree = 0;\n        outDegree = 0;\n        communities.clear();\n\n        currentCommunity = index.belongings[i];\n\n        start = index.starts[i];\n        end = index.starts[i + 1];\n        offset = index.offsets[i];\n\n        // Traversing neighbors\n        for (; start < end; start++) {\n          out = start < offset;\n          j = index.neighborhood[start];\n          weight = index.weights[start];\n\n          targetCommunity = index.belongings[j];\n\n          // Incrementing metrics\n          if (out) outDegree += weight;\n          else inDegree += weight;\n\n          addWeightToCommunity(communities, targetCommunity, weight);\n        }\n\n        // Finding best community to move to\n        bestDelta = index.deltaWithOwnCommunity(\n          i,\n          inDegree,\n          outDegree,\n          communities.get(currentCommunity) || 0,\n          currentCommunity\n        );\n        bestCommunity = currentCommunity;\n\n        for (ci = 0; ci < communities.size; ci++) {\n          targetCommunity = communities.dense[ci];\n\n          if (targetCommunity === currentCommunity) continue;\n\n          targetCommunityDegree = communities.vals[ci];\n\n          deltaComputations++;\n\n          delta = index.delta(\n            i,\n            inDegree,\n            outDegree,\n            targetCommunityDegree,\n            targetCommunity\n          );\n\n          deltaIsBetter = tieBreaker(\n            bestCommunity,\n            currentCommunity,\n            targetCommunity,\n            delta,\n            bestDelta\n          );\n\n          if (deltaIsBetter) {\n            bestDelta = delta;\n            bestCommunity = targetCommunity;\n          }\n        }\n\n        // Should we move the node?\n        if (bestDelta < 0) {\n          // NOTE: this is to allow nodes to move back to their own singleton\n          // This code however only deals with modularity (e.g. the condition\n          // about bestDelta < 0, which is the delta for moving back to\n          // singleton wrt. modularity). Indeed, rarely, the Louvain\n          // algorithm can produce such cases when a node would be better in\n          // a singleton that in its own community when considering self loops\n          // or a resolution != 1. In this case, delta with your own community\n          // is indeed less than 0. To handle different metrics, one should\n          // consider computing the delta for going back to singleton because\n          // it might not be 0.\n          bestCommunity = index.isolate(i, inDegree, outDegree);\n\n          // If the node was already in a singleton community, we don't consider\n          // a move was made\n          if (bestCommunity === currentCommunity) continue;\n        } else {\n          // If no move was made, we continue to next node\n          if (bestCommunity === currentCommunity) {\n            continue;\n          } else {\n            // Actually moving the node to a new community\n            index.move(i, inDegree, outDegree, bestCommunity);\n          }\n        }\n\n        moveWasMade = true;\n        currentMoves++;\n\n        // Adding neighbors from other communities to the queue\n        start = index.starts[i];\n        end = index.starts[i + 1];\n\n        for (; start < end; start++) {\n          j = index.neighborhood[start];\n          targetCommunity = index.belongings[j];\n\n          if (targetCommunity !== bestCommunity) queue.enqueue(j);\n        }\n      }\n\n      moves.push(currentMoves);\n    } else {\n      localMoves = [];\n      moves.push(localMoves);\n\n      // Traditional Louvain iterative traversal of the graph\n      while (localMoveWasMade) {\n        localMoveWasMade = false;\n        currentMoves = 0;\n\n        ri = options.randomWalk ? randomIndex(l) : 0;\n\n        for (s = 0; s < l; s++, ri++) {\n          i = ri % l;\n\n          nodesVisited++;\n\n          inDegree = 0;\n          outDegree = 0;\n          communities.clear();\n\n          currentCommunity = index.belongings[i];\n\n          start = index.starts[i];\n          end = index.starts[i + 1];\n          offset = index.offsets[i];\n\n          // Traversing neighbors\n          for (; start < end; start++) {\n            out = start < offset;\n            j = index.neighborhood[start];\n            weight = index.weights[start];\n\n            targetCommunity = index.belongings[j];\n\n            // Incrementing metrics\n            if (out) outDegree += weight;\n            else inDegree += weight;\n\n            addWeightToCommunity(communities, targetCommunity, weight);\n          }\n\n          // Finding best community to move to\n          bestDelta = index.deltaWithOwnCommunity(\n            i,\n            inDegree,\n            outDegree,\n            communities.get(currentCommunity) || 0,\n            currentCommunity\n          );\n          bestCommunity = currentCommunity;\n\n          for (ci = 0; ci < communities.size; ci++) {\n            targetCommunity = communities.dense[ci];\n\n            if (targetCommunity === currentCommunity) continue;\n\n            targetCommunityDegree = communities.vals[ci];\n\n            deltaComputations++;\n\n            delta = index.delta(\n              i,\n              inDegree,\n              outDegree,\n              targetCommunityDegree,\n              targetCommunity\n            );\n\n            deltaIsBetter = tieBreaker(\n              bestCommunity,\n              currentCommunity,\n              targetCommunity,\n              delta,\n              bestDelta\n            );\n\n            if (deltaIsBetter) {\n              bestDelta = delta;\n              bestCommunity = targetCommunity;\n            }\n          }\n\n          // Should we move the node?\n          if (bestDelta < 0) {\n            // NOTE: this is to allow nodes to move back to their own singleton\n            // This code however only deals with modularity (e.g. the condition\n            // about bestDelta < 0, which is the delta for moving back to\n            // singleton wrt. modularity). Indeed, rarely, the Louvain\n            // algorithm can produce such cases when a node would be better in\n            // a singleton that in its own community when considering self loops\n            // or a resolution != 1. In this case, delta with your own community\n            // is indeed less than 0. To handle different metrics, one should\n            // consider computing the delta for going back to singleton because\n            // it might not be 0.\n            bestCommunity = index.isolate(i, inDegree, outDegree);\n\n            // If the node was already in a singleton community, we don't consider\n            // a move was made\n            if (bestCommunity === currentCommunity) continue;\n          } else {\n            // If no move was made, we continue to next node\n            if (bestCommunity === currentCommunity) {\n              continue;\n            } else {\n              // Actually moving the node to a new community\n              index.move(i, inDegree, outDegree, bestCommunity);\n            }\n          }\n\n          localMoveWasMade = true;\n          currentMoves++;\n        }\n\n        localMoves.push(currentMoves);\n\n        moveWasMade = localMoveWasMade || moveWasMade;\n      }\n    }\n\n    // We continue working on the induced graph\n    if (moveWasMade) index.zoomOut();\n  }\n\n  var results = {\n    index: index,\n    deltaComputations: deltaComputations,\n    nodesVisited: nodesVisited,\n    moves: moves\n  };\n\n  return results;\n}\n\n/**\n * Function returning the communities mapping of the graph.\n *\n * @param  {boolean} assign             - Assign communities to nodes attributes?\n * @param  {boolean} detailed           - Whether to return detailed information.\n * @param  {Graph}   graph              - Target graph.\n * @param  {object}  options            - Options:\n * @param  {string}    nodeCommunityAttribute - Community node attribute name.\n * @param  {string}    getEdgeWeight          - Weight edge attribute name or getter function.\n * @param  {string}    deltaComputation       - Method to use to compute delta computations.\n * @param  {boolean}   fastLocalMoves         - Whether to use the fast local move optimization.\n * @param  {boolean}   randomWalk             - Whether to traverse the graph in random order.\n * @param  {number}    resolution             - Resolution parameter.\n * @param  {function}  rng                    - RNG function to use.\n * @return {object}\n */\nfunction louvain(assign, detailed, graph, options) {\n  if (!isGraph(graph))\n    throw new Error(\n      'graphology-communities-louvain: the given graph is not a valid graphology instance.'\n    );\n\n  var type = inferType(graph);\n\n  if (type === 'mixed')\n    throw new Error(\n      'graphology-communities-louvain: cannot run the algorithm on a true mixed graph.'\n    );\n\n  // Attributes name\n  options = resolveDefaults(options, DEFAULTS);\n\n  // Empty graph case\n  var c = 0;\n\n  if (graph.size === 0) {\n    if (assign) {\n      graph.forEachNode(function (node) {\n        graph.setNodeAttribute(node, options.nodeCommunityAttribute, c++);\n      });\n\n      return;\n    }\n\n    var communities = {};\n\n    graph.forEachNode(function (node) {\n      communities[node] = c++;\n    });\n\n    if (!detailed) return communities;\n\n    return {\n      communities: communities,\n      count: graph.order,\n      deltaComputations: 0,\n      dendrogram: null,\n      level: 0,\n      modularity: NaN,\n      moves: null,\n      nodesVisited: 0,\n      resolution: options.resolution\n    };\n  }\n\n  var fn = type === 'undirected' ? undirectedLouvain : directedLouvain;\n\n  var results = fn(detailed, graph, options);\n\n  var index = results.index;\n\n  // Standard output\n  if (!detailed) {\n    if (assign) {\n      index.assign(options.nodeCommunityAttribute);\n      return;\n    }\n\n    return index.collect();\n  }\n\n  // Detailed output\n  var output = {\n    count: index.C,\n    deltaComputations: results.deltaComputations,\n    dendrogram: index.dendrogram,\n    level: index.level,\n    modularity: index.modularity(),\n    moves: results.moves,\n    nodesVisited: results.nodesVisited,\n    resolution: options.resolution\n  };\n\n  if (assign) {\n    index.assign(options.nodeCommunityAttribute);\n    return output;\n  }\n\n  output.communities = index.collect();\n\n  return output;\n}\n\n/**\n * Exporting.\n */\nvar fn = louvain.bind(null, false, false);\nfn.assign = louvain.bind(null, true, false);\nfn.detailed = louvain.bind(null, false, true);\nfn.defaults = DEFAULTS;\n\nmodule.exports = fn;\n","/**\n * Graphology Components\n * ======================\n *\n * Basic connected components-related functions.\n */\nvar isGraph = require('graphology-utils/is-graph');\nvar copyNode = require('graphology-utils/add-node').copyNode;\nvar copyEdge = require('graphology-utils/add-edge').copyEdge;\nvar DFSStack = require('graphology-indices/dfs-stack');\n\n/**\n * Function iterating over a graph's connected component using a callback.\n *\n * @param {Graph}    graph    - Target graph.\n * @param {function} callback - Iteration callback.\n */\nfunction forEachConnectedComponent(graph, callback) {\n  if (!isGraph(graph))\n    throw new Error(\n      'graphology-components: the given graph is not a valid graphology instance.'\n    );\n\n  // A null graph has no connected components by definition\n  if (!graph.order) return;\n\n  var stack = new DFSStack(graph);\n  var push = stack.push.bind(stack);\n\n  stack.forEachNodeYetUnseen(function (node) {\n    var component = [];\n\n    stack.push(node);\n\n    var source;\n\n    while (stack.size !== 0) {\n      source = stack.pop();\n\n      component.push(source);\n\n      graph.forEachNeighbor(source, push);\n    }\n\n    callback(component);\n  });\n}\n\nfunction forEachConnectedComponentOrder(graph, callback) {\n  if (!isGraph(graph))\n    throw new Error(\n      'graphology-components: the given graph is not a valid graphology instance.'\n    );\n\n  // A null graph has no connected components by definition\n  if (!graph.order) return;\n\n  var stack = new DFSStack(graph);\n  var push = stack.push.bind(stack);\n\n  stack.forEachNodeYetUnseen(function (node) {\n    var order = 0;\n\n    stack.push(node);\n\n    var source;\n\n    while (stack.size !== 0) {\n      source = stack.pop();\n\n      order++;\n\n      graph.forEachNeighbor(source, push);\n    }\n\n    callback(order);\n  });\n}\n\nfunction forEachConnectedComponentOrderWithEdgeFilter(\n  graph,\n  edgeFilter,\n  callback\n) {\n  if (!isGraph(graph))\n    throw new Error(\n      'graphology-components: the given graph is not a valid graphology instance.'\n    );\n\n  // A null graph has no connected components by definition\n  if (!graph.order) return;\n\n  var stack = new DFSStack(graph);\n\n  var source;\n\n  function push(e, a, s, t, sa, ta, u) {\n    if (source === t) t = s;\n\n    if (!edgeFilter(e, a, s, t, sa, ta, u)) return;\n\n    stack.push(t);\n  }\n\n  stack.forEachNodeYetUnseen(function (node) {\n    var order = 0;\n\n    stack.push(node);\n\n    while (stack.size !== 0) {\n      source = stack.pop();\n\n      order++;\n\n      graph.forEachEdge(source, push);\n    }\n\n    callback(order);\n  });\n}\n\nfunction countConnectedComponents(graph) {\n  var n = 0;\n\n  forEachConnectedComponentOrder(graph, function () {\n    n++;\n  });\n\n  return n;\n}\n\n/**\n * Function returning a list of a graph's connected components as arrays\n * of node keys.\n *\n * @param  {Graph} graph - Target graph.\n * @return {array}\n */\nfunction connectedComponents(graph) {\n  var components = [];\n\n  forEachConnectedComponent(graph, function (component) {\n    components.push(component);\n  });\n\n  return components;\n}\n\n/**\n * Function returning the largest component of the given graph.\n *\n * @param  {Graph} graph - Target graph.\n * @return {array}\n */\nfunction largestConnectedComponent(graph) {\n  if (!isGraph(graph))\n    throw new Error(\n      'graphology-components: the given graph is not a valid graphology instance.'\n    );\n\n  if (!graph.order) return [];\n\n  var stack = new DFSStack(graph);\n  var push = stack.push.bind(stack);\n\n  var largestComponent = [];\n  var component;\n\n  stack.forEachNodeYetUnseen(function (node) {\n    component = [];\n\n    stack.push(node);\n\n    var source;\n\n    while (stack.size !== 0) {\n      source = stack.pop();\n\n      component.push(source);\n\n      graph.forEachNeighbor(source, push);\n    }\n\n    if (component.length > largestComponent.length)\n      largestComponent = component;\n\n    // Early exit condition:\n    // If current largest component's size is larger than the number of\n    // remaining nodes to visit, we can safely assert we found the\n    // overall largest component already.\n    if (largestComponent.length > stack.countUnseenNodes()) return true;\n\n    return false;\n  });\n\n  return largestComponent;\n}\n\n/**\n * Function returning a subgraph composed of the largest component of the given graph.\n *\n * @param  {Graph} graph - Target graph.\n * @return {Graph}\n */\nfunction largestConnectedComponentSubgraph(graph) {\n  var component = largestConnectedComponent(graph);\n\n  var S = graph.nullCopy();\n\n  component.forEach(function (key) {\n    copyNode(S, key, graph.getNodeAttributes(key));\n  });\n\n  graph.forEachEdge(function (\n    key,\n    attr,\n    source,\n    target,\n    sourceAttr,\n    targetAttr,\n    undirected\n  ) {\n    if (S.hasNode(source)) {\n      copyEdge(S, undirected, key, source, target, attr);\n    }\n  });\n\n  return S;\n}\n\n/**\n * Function mutating a graph in order to drop every node and edge that does\n * not belong to its largest connected component.\n *\n * @param  {Graph} graph - Target graph.\n */\nfunction cropToLargestConnectedComponent(graph) {\n  var component = new Set(largestConnectedComponent(graph));\n\n  graph.forEachNode(function (key) {\n    if (!component.has(key)) {\n      graph.dropNode(key);\n    }\n  });\n}\n\n/**\n * Function returning a list of strongly connected components.\n *\n * @param  {Graph} graph - Target directed graph.\n * @return {array}\n */\nfunction stronglyConnectedComponents(graph) {\n  if (!isGraph(graph))\n    throw new Error(\n      'graphology-components: the given graph is not a valid graphology instance.'\n    );\n\n  if (!graph.order) return [];\n\n  if (graph.type === 'undirected')\n    throw new Error('graphology-components: the given graph is undirected');\n\n  var nodes = graph.nodes(),\n    components = [],\n    i,\n    l;\n\n  if (!graph.size) {\n    for (i = 0, l = nodes.length; i < l; i++) components.push([nodes[i]]);\n    return components;\n  }\n\n  var count = 1,\n    P = [],\n    S = [],\n    preorder = new Map(),\n    assigned = new Set(),\n    component,\n    pop,\n    vertex;\n\n  var DFS = function (node) {\n    var neighbor;\n    var neighbors = graph.outboundNeighbors(node);\n    var neighborOrder;\n\n    preorder.set(node, count++);\n    P.push(node);\n    S.push(node);\n\n    for (var k = 0, n = neighbors.length; k < n; k++) {\n      neighbor = neighbors[k];\n\n      if (preorder.has(neighbor)) {\n        neighborOrder = preorder.get(neighbor);\n        if (!assigned.has(neighbor))\n          while (preorder.get(P[P.length - 1]) > neighborOrder) P.pop();\n      } else {\n        DFS(neighbor);\n      }\n    }\n\n    if (preorder.get(P[P.length - 1]) === preorder.get(node)) {\n      component = [];\n      do {\n        pop = S.pop();\n        component.push(pop);\n        assigned.add(pop);\n      } while (pop !== node);\n      components.push(component);\n      P.pop();\n    }\n  };\n\n  for (i = 0, l = nodes.length; i < l; i++) {\n    vertex = nodes[i];\n    if (!assigned.has(vertex)) DFS(vertex);\n  }\n\n  return components;\n}\n\n/**\n * Exporting.\n */\nexports.forEachConnectedComponent = forEachConnectedComponent;\nexports.forEachConnectedComponentOrder = forEachConnectedComponentOrder;\nexports.forEachConnectedComponentOrderWithEdgeFilter =\n  forEachConnectedComponentOrderWithEdgeFilter;\nexports.countConnectedComponents = countConnectedComponents;\nexports.connectedComponents = connectedComponents;\nexports.largestConnectedComponent = largestConnectedComponent;\nexports.largestConnectedComponentSubgraph = largestConnectedComponentSubgraph;\nexports.cropToLargestConnectedComponent = cropToLargestConnectedComponent;\nexports.stronglyConnectedComponents = stronglyConnectedComponents;\n","/**\n * Graphology Browser GEXF Endpoint\n * =================================\n *\n * Endpoint gathering both parser & writer for the browser.\n */\nexports.parse = require('./parser.js');\nexports.write = require('../common/writer.js');\n","/**\n * Graphology Browser GEXF Parser\n * ===============================\n *\n * Browser version of the graphology GEXF parser.\n */\nvar createParserFunction = require('../common/parser.js');\n\nmodule.exports = createParserFunction(DOMParser, Document);\n","/**\n * Graphology Common GEXF Helpers\n * ===============================\n *\n * Miscellaneous helpers used by both instance of the code.\n */\n\n/**\n * Function used to cast a string value to the desired type.\n *\n * @param  {string} type - Value type.\n * @param  {string} type - String value.\n * @return {any}         - Parsed type.\n */\nexports.cast = function (type, value) {\n  switch (type) {\n    case 'boolean':\n      value = value === 'true';\n      break;\n\n    case 'integer':\n    case 'long':\n    case 'float':\n    case 'double':\n      value = +value;\n      break;\n\n    case 'liststring':\n      value = value ? value.split('|') : [];\n      break;\n\n    default:\n  }\n\n  return value;\n};\n\n/**\n * Function deleting illegal characters from a potential tag name to avoid\n * generating invalid XML.\n *\n * @param  {string} type - Tag name.\n * @return {string}\n */\nvar SANITIZE_PATTERN = /[\"'<>&\\s]/g;\n\nexports.sanitizeTagName = function sanitizeTagName(tagName) {\n  return tagName.replace(SANITIZE_PATTERN, '').trim();\n};\n","/* eslint no-self-compare: 0 */\n/**\n * Graphology Browser GEXF Parser\n * ===============================\n *\n * Browser version of the graphology GEXF parser using DOMParser to function.\n */\nvar isGraphConstructor = require('graphology-utils/is-graph-constructor');\nvar mergeEdge = require('graphology-utils/add-edge').mergeEdge;\nvar toMixed = require('graphology-operators/to-mixed');\nvar toMulti = require('graphology-operators/to-multi');\nvar helpers = require('../common/helpers.js');\n\nvar cast = helpers.cast;\n\n/**\n * Function checking whether the given value is a NaN.\n *\n * @param  {any} value - Value to test.\n * @return {boolean}\n */\nfunction isReallyNaN(value) {\n  return value !== value;\n}\n\n/**\n * Function used to convert a viz:color attribute into a CSS rgba? string.\n *\n * @param  {Node}   element - DOM element.\n * @return {string}\n */\nfunction toRGBString(element) {\n  var a = element.getAttribute('a'),\n    r = element.getAttribute('r'),\n    g = element.getAttribute('g'),\n    b = element.getAttribute('b');\n\n  return a\n    ? 'rgba(' + r + ',' + g + ',' + b + ',' + a + ')'\n    : 'rgb(' + r + ',' + g + ',' + b + ')';\n}\n\n/**\n * Function returning the first matching tag of the `viz` namespace matching\n * the desired tag name.\n *\n * @param  {Node}   element - Target DOM element.\n * @param  {string} name    - Tag name.\n * @return {Node}\n */\nfunction getFirstMatchingVizTag(element, name) {\n  var vizElement = element.getElementsByTagName('viz:' + name)[0];\n\n  if (!vizElement) vizElement = element.getElementsByTagNameNS('viz', name)[0];\n\n  if (!vizElement) vizElement = element.getElementsByTagName(name)[0];\n\n  return vizElement;\n}\n\n/**\n * Function used to collect meta information.\n *\n * @param  {Array<Node>} elements - Target DOM element.\n * @return {object}\n */\nfunction collectMeta(elements) {\n  var meta = {},\n    element,\n    value;\n\n  for (var i = 0, l = elements.length; i < l; i++) {\n    element = elements[i];\n\n    if (element.nodeName === '#text') continue;\n\n    value = element.textContent.trim();\n\n    if (value) meta[element.tagName.toLowerCase()] = element.textContent;\n  }\n\n  return meta;\n}\n\n/**\n * Function used to extract the model from the right elements.\n *\n * @param  {Array<Node>} elements - Target DOM elements.\n * @return {array}                - The model & default attributes.\n */\nfunction extractModel(elements) {\n  var model = {},\n    defaults = {},\n    element,\n    defaultElement,\n    id;\n\n  for (var i = 0, l = elements.length; i < l; i++) {\n    element = elements[i];\n    id = element.getAttribute('id') || element.getAttribute('for');\n\n    model[id] = {\n      id: id,\n      type: element.getAttribute('type') || 'string',\n      title: !isReallyNaN(+id) ? element.getAttribute('title') || id : id\n    };\n\n    // Default?\n    defaultElement = element.getElementsByTagName('default')[0];\n\n    if (defaultElement)\n      defaults[model[id].title] = cast(\n        model[id].type,\n        defaultElement.textContent\n      );\n  }\n\n  return [model, defaults];\n}\n\n/**\n * Function used to collect an element's attributes.\n *\n * @param  {object} model    - Data model to use.\n * @param  {object} defaults - Default values.\n * @param  {Node}   element  - Target DOM element.\n * @return {object}          - The collected attributes.\n */\nfunction collectAttributes(model, defaults, element) {\n  var data = {},\n    label = element.getAttribute('label'),\n    weight = element.getAttribute('weight');\n\n  if (label) data.label = label;\n\n  if (weight) data.weight = +weight;\n\n  var valueElements = element.getElementsByTagName('attvalue'),\n    valueElement,\n    id;\n\n  for (var i = 0, l = valueElements.length; i < l; i++) {\n    valueElement = valueElements[i];\n    id = valueElement.getAttribute('id') || valueElement.getAttribute('for');\n\n    data[model[id].title] = cast(\n      model[id].type,\n      valueElement.getAttribute('value')\n    );\n  }\n\n  // Applying default values\n  var k;\n\n  for (k in defaults) {\n    if (!(k in data)) data[k] = defaults[k];\n  }\n\n  // TODO: shortcut here to avoid viz when namespace is not set\n\n  // Attempting to find viz namespace tags\n\n  //-- 1) Color\n  var vizElement = getFirstMatchingVizTag(element, 'color');\n\n  if (vizElement) data.color = toRGBString(vizElement);\n\n  //-- 2) Size\n  vizElement = getFirstMatchingVizTag(element, 'size');\n\n  if (vizElement) data.size = +vizElement.getAttribute('value');\n\n  //-- 3) Position\n  var x, y, z;\n\n  vizElement = getFirstMatchingVizTag(element, 'position');\n\n  if (vizElement) {\n    x = vizElement.getAttribute('x');\n    y = vizElement.getAttribute('y');\n    z = vizElement.getAttribute('z');\n\n    if (x) data.x = +x;\n    if (y) data.y = +y;\n    if (z) data.z = +z;\n  }\n\n  //-- 4) Shape\n  vizElement = getFirstMatchingVizTag(element, 'shape');\n\n  if (vizElement) data.shape = vizElement.getAttribute('value');\n\n  //-- 5) Thickness\n  vizElement = getFirstMatchingVizTag(element, 'thickness');\n\n  if (vizElement) data.thickness = +vizElement.getAttribute('value');\n\n  return data;\n}\n\n/**\n * Factory taking implementations of `DOMParser` & `Document` returning\n * the parser function.\n */\nmodule.exports = function createParserFunction(DOMParser, Document) {\n  /**\n   * Function taking either a string or a document and returning a\n   * graphology instance.\n   *\n   * @param {function}        Graph  - A graphology constructor.\n   * @param {string|Document} source - The source to parse.\n   * @param {object}          options - Parsing options.\n   */\n\n  // TODO: option to map the data to the attributes for customization, nodeModel, edgeModel, nodeReducer, edgeReducer\n  // TODO: option to disable the model mapping heuristic\n  return function parse(Graph, source, options) {\n    options = options || {};\n\n    var addMissingNodes = options.addMissingNodes === true;\n    var mergeResult;\n\n    var xmlDoc = source;\n\n    var element, result, type, attributes, id, s, t, i, l;\n\n    if (!isGraphConstructor(Graph))\n      throw new Error('graphology-gexf/parser: invalid Graph constructor.');\n\n    // If source is a string, we are going to parse it\n    if (typeof source === 'string')\n      xmlDoc = new DOMParser().parseFromString(source, 'application/xml');\n\n    if (!(xmlDoc instanceof Document))\n      throw new Error(\n        'graphology-gexf/parser: source should either be a XML document or a string.'\n      );\n\n    // Finding useful elements\n    var GRAPH_ELEMENT = xmlDoc.getElementsByTagName('graph')[0],\n      META_ELEMENT = xmlDoc.getElementsByTagName('meta')[0],\n      META_ELEMENTS = (META_ELEMENT && META_ELEMENT.childNodes) || [],\n      NODE_ELEMENTS = xmlDoc.getElementsByTagName('node'),\n      EDGE_ELEMENTS = xmlDoc.getElementsByTagName('edge'),\n      MODEL_ELEMENTS = xmlDoc.getElementsByTagName('attributes'),\n      NODE_MODEL_ELEMENTS = [],\n      EDGE_MODEL_ELEMENTS = [];\n\n    for (i = 0, l = MODEL_ELEMENTS.length; i < l; i++) {\n      element = MODEL_ELEMENTS[i];\n\n      if (element.getAttribute('class') === 'node')\n        NODE_MODEL_ELEMENTS = element.getElementsByTagName('attribute');\n      else if (element.getAttribute('class') === 'edge')\n        EDGE_MODEL_ELEMENTS = element.getElementsByTagName('attribute');\n    }\n\n    // Information\n    var DEFAULT_EDGE_TYPE =\n      GRAPH_ELEMENT.getAttribute('defaultedgetype') || 'undirected';\n\n    if (DEFAULT_EDGE_TYPE === 'mutual') DEFAULT_EDGE_TYPE = 'undirected';\n\n    // Computing models\n    result = extractModel(NODE_MODEL_ELEMENTS);\n\n    var NODE_MODEL = result[0],\n      NODE_DEFAULT_ATTRIBUTES = result[1];\n\n    result = extractModel(EDGE_MODEL_ELEMENTS);\n\n    var EDGE_MODEL = result[0],\n      EDGE_DEFAULT_ATTRIBUTES = result[1];\n\n    // Polling the first edge to guess the type of the edges\n    var graphType = EDGE_ELEMENTS[0]\n      ? EDGE_ELEMENTS[0].getAttribute('type') || DEFAULT_EDGE_TYPE\n      : 'mixed';\n\n    // Instantiating our graph\n    var graph = new Graph({\n      type: graphType\n    });\n\n    // Collecting meta\n    var meta = collectMeta(META_ELEMENTS),\n      lastModifiedDate =\n        META_ELEMENT && META_ELEMENT.getAttribute('lastmodifieddate');\n\n    graph.replaceAttributes(meta);\n\n    if (lastModifiedDate)\n      graph.setAttribute('lastModifiedDate', lastModifiedDate);\n\n    // Adding nodes\n    for (i = 0, l = NODE_ELEMENTS.length; i < l; i++) {\n      element = NODE_ELEMENTS[i];\n\n      graph.addNode(\n        element.getAttribute('id'),\n        collectAttributes(NODE_MODEL, NODE_DEFAULT_ATTRIBUTES, element)\n      );\n    }\n\n    // Adding edges\n    for (i = 0, l = EDGE_ELEMENTS.length; i < l; i++) {\n      element = EDGE_ELEMENTS[i];\n\n      id = element.getAttribute('id');\n      type = element.getAttribute('type') || DEFAULT_EDGE_TYPE;\n      s = element.getAttribute('source');\n      t = element.getAttribute('target');\n      attributes = collectAttributes(\n        EDGE_MODEL,\n        EDGE_DEFAULT_ATTRIBUTES,\n        element\n      );\n\n      // If we encountered an edge with a different type, we upgrade the graph\n      if (type !== graph.type && graph.type !== 'mixed') {\n        graph = toMixed(graph);\n      }\n\n      // If we encountered twice the same edge, we upgrade the graph\n      if (\n        !graph.multi &&\n        ((type === 'directed' && graph.hasDirectedEdge(s, t)) ||\n          graph.hasUndirectedEdge(s, t))\n      ) {\n        graph = toMulti(graph);\n      }\n\n      mergeResult = mergeEdge(\n        graph,\n        type !== 'directed',\n        id || null,\n        s,\n        t,\n        attributes\n      );\n\n      if (!addMissingNodes && (mergeResult[2] || mergeResult[3])) {\n        throw new Error(\n          'graphology-gexf/parser: one of your gexf file edges points to an inexisting node. Set the parser `addMissingNodes` option to `true` if you do not care.'\n        );\n      }\n    }\n\n    return graph;\n  };\n};\n","/* eslint no-self-compare: 0 */\n/**\n * Graphology Common GEXF Writer\n * ==============================\n *\n * GEXF writer working for both node.js & the browser.\n */\nvar isGraph = require('graphology-utils/is-graph'),\n  inferType = require('graphology-utils/infer-type'),\n  XMLWriter = require('xml-writer'),\n  sanitizeTagName = require('./helpers.js').sanitizeTagName;\n\n// TODO: handle object in color, position with object for viz\n\n/**\n * Constants.\n */\nvar GEXF_NAMESPACE = 'http://www.gexf.net/1.2draft',\n  GEXF_VIZ_NAMESPACE = 'http:///www.gexf.net/1.1draft/viz';\n\nvar VIZ_RESERVED_NAMES = new Set([\n  'color',\n  'size',\n  'x',\n  'y',\n  'z',\n  'shape',\n  'thickness'\n]);\n\nvar RGBA_TEST = /^\\s*rgba?\\s*\\(/i,\n  RGBA_MATCH =\n    /^\\s*rgba?\\s*\\(\\s*([0-9]*)\\s*,\\s*([0-9]*)\\s*,\\s*([0-9]*)\\s*(?:,\\s*([.0-9]*))?\\)\\s*$/;\n\n/**\n * Function used to transform a CSS color into a RGBA object.\n *\n * @param  {string} value - Target value.\n * @return {object}\n */\nfunction CSSColorToRGBA(value) {\n  if (!value || typeof value !== 'string') return {};\n\n  if (value[0] === '#') {\n    value = value.slice(1);\n\n    return value.length === 3\n      ? {\n          r: parseInt(value[0] + value[0], 16),\n          g: parseInt(value[1] + value[1], 16),\n          b: parseInt(value[2] + value[2], 16)\n        }\n      : {\n          r: parseInt(value[0] + value[1], 16),\n          g: parseInt(value[2] + value[3], 16),\n          b: parseInt(value[4] + value[5], 16)\n        };\n  } else if (RGBA_TEST.test(value)) {\n    var result = {};\n\n    value = value.match(RGBA_MATCH);\n    result.r = +value[1];\n    result.g = +value[2];\n    result.b = +value[3];\n\n    if (value[4]) result.a = +value[4];\n\n    return result;\n  }\n\n  return {};\n}\n\n/**\n * Function used to map an element's attributes to a standardized map of\n * GEXF expected properties (label, viz, attributes).\n *\n * @param  {string} type       - The element's type.\n * @param  {string} key        - The element's key.\n * @param  {object} attributes - The element's attributes.\n * @return {object}\n */\nfunction DEFAULT_ELEMENT_FORMATTER(type, key, attributes) {\n  var output = {},\n    name;\n\n  for (name in attributes) {\n    if (name === 'label') {\n      output.label = attributes.label;\n    } else if (type === 'edge' && name === 'weight') {\n      output.weight = attributes.weight;\n    } else if (VIZ_RESERVED_NAMES.has(name)) {\n      output.viz = output.viz || {};\n      output.viz[name] = attributes[name];\n    } else {\n      output.attributes = output.attributes || {};\n      output.attributes[name] = attributes[name];\n    }\n  }\n\n  return output;\n}\n\nvar DEFAULT_NODE_FORMATTER = DEFAULT_ELEMENT_FORMATTER.bind(null, 'node'),\n  DEFAULT_EDGE_FORMATTER = DEFAULT_ELEMENT_FORMATTER.bind(null, 'edge');\n\n/**\n * Function used to check whether the given integer is 32 bits or not.\n *\n * @param  {number} number - Target number.\n * @return {boolean}\n */\nfunction is32BitInteger(number) {\n  return number <= 0x7fffffff && number >= -0x7fffffff;\n}\n\n/**\n * Function used to check whether the given value is \"empty\".\n *\n * @param  {any} value - Target value.\n * @return {boolean}\n */\nfunction isEmptyValue(value) {\n  return (\n    typeof value === 'undefined' ||\n    value === null ||\n    value === '' ||\n    value !== value\n  );\n}\n\n/**\n * Function used to detect a JavaScript's value type in the GEXF model.\n *\n * @param  {any}    value - Target value.\n * @return {string}\n */\nfunction detectValueType(value) {\n  if (isEmptyValue(value)) return 'empty';\n\n  if (Array.isArray(value)) return 'liststring';\n\n  if (typeof value === 'boolean') return 'boolean';\n\n  if (typeof value === 'object') return 'string';\n\n  // Numbers\n  if (typeof value === 'number') {\n    // Integer\n    if (value === (value | 0)) {\n      // Long (JavaScript integer can go up to 53 bit)?\n      return is32BitInteger(value) ? 'integer' : 'long';\n    }\n\n    // JavaScript numbers are 64 bit float, hence the double\n    return 'double';\n  }\n\n  return 'string';\n}\n\n/**\n * Function used to cast the given value into the given type.\n *\n * @param  {string} type  - Target type.\n * @param  {any}    value - Value to cast.\n * @return {string}\n */\nfunction cast(type, value) {\n  if (type === 'liststring' && Array.isArray(value)) return value.join('|');\n  return '' + value;\n}\n\n/**\n * Function used to collect data from a graph's nodes.\n *\n * @param  {Graph}    graph   - Target graph.\n * @param  {function} format  - Function formatting the nodes attributes.\n * @return {array}\n */\nfunction collectNodeData(graph, format) {\n  var nodes = new Array(graph.order);\n  var i = 0;\n\n  graph.forEachNode(function (node, attr) {\n    var data = format(node, attr);\n    data.key = node;\n    nodes[i++] = data;\n  });\n\n  return nodes;\n}\n\n/**\n * Function used to collect data from a graph's edges.\n *\n * @param  {Graph}    graph   - Target graph.\n * @param  {function} reducer - Function reducing the edges attributes.\n * @return {array}\n */\nfunction collectEdgeData(graph, reducer) {\n  var edges = new Array(graph.size);\n  var i = 0;\n\n  graph.forEachEdge(function (\n    edge,\n    attr,\n    source,\n    target,\n    _sa,\n    _ta,\n    undirected\n  ) {\n    var data = reducer(edge, attr);\n    data.key = edge;\n    data.source = source;\n    data.target = target;\n    data.undirected = undirected;\n    edges[i++] = data;\n  });\n\n  return edges;\n}\n\n/**\n * Function used to infer the model of the graph's nodes or edges.\n *\n * @param  {array} elements - The graph's relevant elements.\n * @return {array}\n */\n\n// TODO: on large graph, we could also sample or let the user indicate the types\nfunction inferModel(elements) {\n  var model = {},\n    attributes,\n    type,\n    k;\n\n  // Testing every attributes\n  for (var i = 0, l = elements.length; i < l; i++) {\n    attributes = elements[i].attributes;\n\n    if (!attributes) continue;\n\n    for (k in attributes) {\n      type = detectValueType(attributes[k]);\n\n      if (type === 'empty') continue;\n\n      if (!model[k]) model[k] = type;\n      else {\n        if (model[k] === 'integer' && type === 'long') model[k] = type;\n        else if (model[k] !== type) model[k] = 'string';\n      }\n    }\n  }\n\n  // TODO: check default values\n  return model;\n}\n\n/**\n * Function used to write a model.\n *\n * @param {XMLWriter} writer     - The writer to use.\n * @param {object}    model      - Model to write.\n * @param {string}    modelClass - Class of the model.\n */\nfunction writeModel(writer, model, modelClass) {\n  var name;\n\n  if (!Object.keys(model).length) return;\n\n  writer.startElement('attributes');\n  writer.writeAttribute('class', modelClass);\n\n  for (name in model) {\n    writer.startElement('attribute');\n    writer.writeAttribute('id', name);\n    writer.writeAttribute('title', name);\n    writer.writeAttribute('type', model[name]);\n    writer.endElement();\n  }\n\n  writer.endElement();\n}\n\nfunction writeElements(writer, type, model, elements) {\n  var emptyModel = !Object.keys(model).length,\n    element,\n    name,\n    color,\n    value,\n    edgeType,\n    attributes,\n    weight,\n    viz,\n    k,\n    i,\n    l;\n\n  writer.startElement(type + 's');\n\n  for (i = 0, l = elements.length; i < l; i++) {\n    element = elements[i];\n    attributes = element.attributes;\n    viz = element.viz;\n\n    writer.startElement(type);\n    writer.writeAttribute('id', element.key);\n\n    if (type === 'edge') {\n      edgeType = element.undirected ? 'undirected' : 'directed';\n\n      if (edgeType !== writer.defaultEdgeType)\n        writer.writeAttribute('type', edgeType);\n\n      writer.writeAttribute('source', element.source);\n      writer.writeAttribute('target', element.target);\n\n      weight = element.weight;\n\n      if (\n        (typeof weight === 'number' && !isNaN(weight)) ||\n        typeof weight === 'string'\n      )\n        writer.writeAttribute('weight', element.weight);\n    }\n\n    if (element.label) writer.writeAttribute('label', element.label);\n\n    if (!emptyModel && attributes) {\n      writer.startElement('attvalues');\n\n      for (name in model) {\n        if (name in attributes) {\n          value = attributes[name];\n\n          if (isEmptyValue(value)) continue;\n\n          writer.startElement('attvalue');\n          writer.writeAttribute('for', name);\n          writer.writeAttribute('value', cast(model[name], value));\n          writer.endElement();\n        }\n      }\n\n      writer.endElement();\n    }\n\n    if (viz) {\n      //-- 1) Color\n      if (viz.color) {\n        color = CSSColorToRGBA(viz.color);\n\n        writer.startElementNS('viz', 'color');\n\n        for (k in color) writer.writeAttribute(k, color[k]);\n\n        writer.endElement();\n      }\n\n      //-- 2) Size\n      if ('size' in viz) {\n        writer.startElementNS('viz', 'size');\n        writer.writeAttribute('value', viz.size);\n        writer.endElement();\n      }\n\n      //-- 3) Position\n      if ('x' in viz || 'y' in viz || 'z' in viz) {\n        writer.startElementNS('viz', 'position');\n\n        if ('x' in viz) writer.writeAttribute('x', viz.x);\n\n        if ('y' in viz) writer.writeAttribute('y', viz.y);\n\n        if ('z' in viz) writer.writeAttribute('z', viz.z);\n\n        writer.endElement();\n      }\n\n      //-- 4) Shape\n      if (viz.shape) {\n        writer.startElementNS('viz', 'shape');\n        writer.writeAttribute('value', viz.shape);\n        writer.endElement();\n      }\n\n      //-- 5) Thickness\n      if ('thickness' in viz) {\n        writer.startElementNS('viz', 'thickness');\n        writer.writeAttribute('value', viz.thickness);\n        writer.endElement();\n      }\n    }\n\n    writer.endElement();\n  }\n\n  writer.endElement();\n}\n\n/**\n * Defaults.\n */\nvar DEFAULTS = {\n  encoding: 'UTF-8',\n  pretty: true,\n  formatNode: DEFAULT_NODE_FORMATTER,\n  formatEdge: DEFAULT_EDGE_FORMATTER\n};\n\n/**\n * Function taking a graphology instance & outputting a gexf string.\n *\n * @param  {Graph}  graph        - Target graphology instance.\n * @param  {object} options      - Options:\n * @param  {string}   [encoding]   - Character encoding.\n * @param  {boolean}  [pretty]     - Whether to pretty print output.\n * @param  {function} [formatNode] - Function formatting nodes' output.\n * @param  {function} [formatEdge] - Function formatting edges' output.\n * @return {string}              - GEXF string.\n */\nmodule.exports = function write(graph, options) {\n  if (!isGraph(graph))\n    throw new Error('graphology-gexf/writer: invalid graphology instance.');\n\n  options = options || {};\n\n  var indent = options.pretty === false ? false : '  ';\n\n  var formatNode = options.formatNode || DEFAULTS.formatNode,\n    formatEdge = options.formatEdge || DEFAULTS.formatEdge;\n\n  var writer = new XMLWriter(indent);\n\n  writer.startDocument('1.0', options.encoding || DEFAULTS.encoding);\n\n  // Starting gexf\n  writer.startElement('gexf');\n  writer.writeAttribute('version', '1.2');\n  writer.writeAttribute('xmlns', GEXF_NAMESPACE);\n  writer.writeAttribute('xmlns:viz', GEXF_VIZ_NAMESPACE);\n\n  // Processing meta\n  writer.startElement('meta');\n  var graphAttributes = graph.getAttributes();\n\n  if (graphAttributes.lastModifiedDate)\n    writer.writeAttribute('lastmodifieddate', graphAttributes.lastModifiedDate);\n\n  var metaTagName;\n  var graphAttribute;\n\n  for (var k in graphAttributes) {\n    if (k === 'lastModifiedDate') continue;\n\n    metaTagName = sanitizeTagName(k);\n\n    if (!metaTagName) continue;\n\n    graphAttribute = graphAttributes[k];\n\n    // NOTE: if the graph attribute is not a scalar, we do not bother writing\n    // it as metadata in the gexf output. This means the writer/parser is not\n    // idempotent, but we cannot do better because the gexf format does not\n    // allow it, since it was not meant to handle complex values as graph\n    // metadata anyway.\n    if (\n      typeof graphAttribute === 'string' ||\n      typeof graphAttribute === 'number' ||\n      typeof graphAttribute === 'boolean'\n    ) {\n      writer.writeElement(metaTagName, '' + graphAttribute);\n    }\n  }\n\n  writer.endElement();\n  writer.startElement('graph');\n\n  var type = inferType(graph);\n\n  writer.defaultEdgeType = type === 'mixed' ? 'directed' : type;\n\n  writer.writeAttribute('defaultedgetype', writer.defaultEdgeType);\n\n  // Processing model\n  var nodes = collectNodeData(graph, formatNode),\n    edges = collectEdgeData(graph, formatEdge);\n\n  var nodeModel = inferModel(nodes);\n\n  writeModel(writer, nodeModel, 'node');\n\n  var edgeModel = inferModel(edges);\n\n  writeModel(writer, edgeModel, 'edge');\n\n  // Processing nodes\n  writeElements(writer, 'node', nodeModel, nodes);\n\n  // Processing edges\n  writeElements(writer, 'edge', edgeModel, edges);\n\n  return writer.toString();\n};\n","/**\n * Graphology DFS Stack\n * =====================\n *\n * An experiment to speed up DFS in graphs and connected component detection.\n *\n * It should mostly save memory and not improve theoretical runtime.\n */\nfunction DFSStack(graph) {\n  this.graph = graph;\n  this.stack = new Array(graph.order);\n  this.seen = new Set();\n  this.size = 0;\n}\n\nDFSStack.prototype.hasAlreadySeenEverything = function () {\n  return this.seen.size === this.graph.order;\n};\n\nDFSStack.prototype.countUnseenNodes = function () {\n  return this.graph.order - this.seen.size;\n};\n\nDFSStack.prototype.forEachNodeYetUnseen = function (callback) {\n  var seen = this.seen;\n  var graph = this.graph;\n\n  graph.someNode(function (node, attr) {\n    // Useful early exit for connected graphs\n    if (seen.size === graph.order) return true; // break\n\n    // Node already seen?\n    if (seen.has(node)) return false; // continue\n\n    var shouldBreak = callback(node, attr);\n\n    if (shouldBreak) return true;\n\n    return false;\n  });\n};\n\nDFSStack.prototype.has = function (node) {\n  return this.seen.has(node);\n};\n\nDFSStack.prototype.push = function (node) {\n  var seenSizeBefore = this.seen.size;\n\n  this.seen.add(node);\n\n  // If node was already seen\n  if (seenSizeBefore === this.seen.size) return false;\n\n  this.stack[this.size++] = node;\n\n  return true;\n};\n\nDFSStack.prototype.pushWith = function (node, item) {\n  var seenSizeBefore = this.seen.size;\n\n  this.seen.add(node);\n\n  // If node was already seen\n  if (seenSizeBefore === this.seen.size) return false;\n\n  this.stack[this.size++] = item;\n\n  return true;\n};\n\nDFSStack.prototype.pop = function () {\n  if (this.size === 0) return;\n\n  return this.stack[--this.size];\n};\n\nmodule.exports = DFSStack;\n","/**\n * Graphology Louvain Indices\n * ===========================\n *\n * Undirected & Directed Louvain Index structures used to compute the famous\n * Louvain community detection algorithm.\n *\n * Most of the rationale is explained in `graphology-metrics`.\n *\n * Note that this index shares a lot with the classic Union-Find data\n * structure. It also relies on a unused id stack to make sure we can\n * increase again the number of communites when isolating nodes.\n *\n * [Articles]\n * M. E. J. Newman, « Modularity and community structure in networks »,\n * Proc. Natl. Acad. Sci. USA, vol. 103, no 23, 2006, p. 8577–8582\n * https://dx.doi.org/10.1073%2Fpnas.0601602103\n *\n * Newman, M. E. J. « Community detection in networks: Modularity optimization\n * and maximum likelihood are equivalent ». Physical Review E, vol. 94, no 5,\n * novembre 2016, p. 052315. arXiv.org, doi:10.1103/PhysRevE.94.052315.\n * https://arxiv.org/pdf/1606.02319.pdf\n *\n * Blondel, Vincent D., et al. « Fast unfolding of communities in large\n * networks ». Journal of Statistical Mechanics: Theory and Experiment,\n * vol. 2008, no 10, octobre 2008, p. P10008. DOI.org (Crossref),\n * doi:10.1088/1742-5468/2008/10/P10008.\n * https://arxiv.org/pdf/0803.0476.pdf\n *\n * Nicolas Dugué, Anthony Perez. Directed Louvain: maximizing modularity in\n * directed networks. [Research Report] Université d’Orléans. 2015. hal-01231784\n * https://hal.archives-ouvertes.fr/hal-01231784\n *\n * R. Lambiotte, J.-C. Delvenne and M. Barahona. Laplacian Dynamics and\n * Multiscale Modular Structure in Networks,\n * doi:10.1109/TNSE.2015.2391998.\n * https://arxiv.org/abs/0812.1770\n *\n * [Latex]:\n *\n * Undirected Case:\n * ----------------\n *\n * \\Delta Q=\\bigg{[}\\frac{\\sum^{c}_{in}-(2d_{c}+l)}{2m}-\\bigg{(}\\frac{\\sum^{c}_{tot}-(d+l)}{2m}\\bigg{)}^{2}+\\frac{\\sum^{t}_{in}+(2d_{t}+l)}{2m}-\\bigg{(}\\frac{\\sum^{t}_{tot}+(d+l)}{2m}\\bigg{)}^{2}\\bigg{]}-\\bigg{[}\\frac{\\sum^{c}_{in}}{2m}-\\bigg{(}\\frac{\\sum^{c}_{tot}}{2m}\\bigg{)}^{2}+\\frac{\\sum^{t}_{in}}{2m}-\\bigg{(}\\frac{\\sum^{t}_{tot}}{2m}\\bigg{)}^{2}\\bigg{]}\n * \\Delta Q=\\frac{d_{t}-d_{c}}{m}+\\frac{l\\sum^{c}_{tot}+d\\sum^{c}_{tot}-d^{2}-l^{2}-2dl-l\\sum^{t}_{tot}-d\\sum^{t}_{tot}}{2m^{2}}\n * \\Delta Q=\\frac{d_{t}-d_{c}}{m}+\\frac{(l+d)\\sum^{c}_{tot}-d^{2}-l^{2}-2dl-(l+d)\\sum^{t}_{tot}}{2m^{2}}\n *\n * Directed Case:\n * --------------\n * \\Delta Q_d=\\bigg{[}\\frac{\\sum^{c}_{in}-(d_{c.in}+d_{c.out}+l)}{m}-\\frac{(\\sum^{c}_{tot.in}-(d_{in}+l))(\\sum^{c}_{tot.out}-(d_{out}+l))}{m^{2}}+\\frac{\\sum^{t}_{in}+(d_{t.in}+d_{t.out}+l)}{m}-\\frac{(\\sum^{t}_{tot.in}+(d_{in}+l))(\\sum^{t}_{tot.out}+(d_{out}+l))}{m^{2}}\\bigg{]}-\\bigg{[}\\frac{\\sum^{c}_{in}}{m}-\\frac{\\sum^{c}_{tot.in}\\sum^{c}_{tot.out}}{m^{2}}+\\frac{\\sum^{t}_{in}}{m}-\\frac{\\sum^{t}_{tot.in}\\sum^{t}_{tot.out}}{m^{2}}\\bigg{]}\n *\n * [Notes]:\n * Louvain is a bit unclear on this but delta computation are not derived from\n * Q1 - Q2 but rather between Q when considered node is isolated in its own\n * community versus Q with this node in target community. This is in fact\n * an optimization because the subtract part is constant in the formulae and\n * does not affect delta comparisons.\n */\nvar typed = require('mnemonist/utils/typed-arrays');\nvar resolveDefaults = require('graphology-utils/defaults');\nvar createEdgeWeightGetter =\n  require('graphology-utils/getters').createEdgeWeightGetter;\n\nvar INSPECT = Symbol.for('nodejs.util.inspect.custom');\n\nvar DEFAULTS = {\n  getEdgeWeight: 'weight',\n  keepDendrogram: false,\n  resolution: 1\n};\n\nfunction UndirectedLouvainIndex(graph, options) {\n  // Solving options\n  options = resolveDefaults(options, DEFAULTS);\n\n  var resolution = options.resolution;\n\n  // Weight getters\n  var getEdgeWeight = createEdgeWeightGetter(options.getEdgeWeight).fromEntry;\n\n  // Building the index\n  var size = (graph.size - graph.selfLoopCount) * 2;\n\n  var NeighborhoodPointerArray = typed.getPointerArray(size);\n  var NodesPointerArray = typed.getPointerArray(graph.order + 1);\n\n  // NOTE: this memory optimization can yield overflow deopt when computing deltas\n  var WeightsArray = options.getEdgeWeight\n    ? Float64Array\n    : typed.getPointerArray(graph.size * 2);\n\n  // Properties\n  this.C = graph.order;\n  this.M = 0;\n  this.E = size;\n  this.U = 0;\n  this.resolution = resolution;\n  this.level = 0;\n  this.graph = graph;\n  this.nodes = new Array(graph.order);\n  this.keepDendrogram = options.keepDendrogram;\n\n  // Edge-level\n  this.neighborhood = new NodesPointerArray(size);\n  this.weights = new WeightsArray(size);\n\n  // Node-level\n  this.loops = new WeightsArray(graph.order);\n  this.starts = new NeighborhoodPointerArray(graph.order + 1);\n  this.belongings = new NodesPointerArray(graph.order);\n  this.dendrogram = [];\n  this.mapping = null;\n\n  // Community-level\n  this.counts = new NodesPointerArray(graph.order);\n  this.unused = new NodesPointerArray(graph.order);\n  this.totalWeights = new WeightsArray(graph.order);\n\n  var ids = {};\n\n  var weight;\n\n  var i = 0,\n    n = 0;\n\n  var self = this;\n\n  graph.forEachNode(function (node) {\n    self.nodes[i] = node;\n\n    // Node map to index\n    ids[node] = i;\n\n    // Initializing starts\n    n += graph.undirectedDegreeWithoutSelfLoops(node);\n    self.starts[i] = n;\n\n    // Belongings\n    self.belongings[i] = i;\n    self.counts[i] = 1;\n    i++;\n  });\n\n  // Single sweep over the edges\n  graph.forEachEdge(function (edge, attr, source, target, sa, ta, u) {\n    weight = getEdgeWeight(edge, attr, source, target, sa, ta, u);\n\n    source = ids[source];\n    target = ids[target];\n\n    self.M += weight;\n\n    // Self loop?\n    if (source === target) {\n      self.totalWeights[source] += weight * 2;\n      self.loops[source] = weight * 2;\n    } else {\n      self.totalWeights[source] += weight;\n      self.totalWeights[target] += weight;\n\n      var startSource = --self.starts[source],\n        startTarget = --self.starts[target];\n\n      self.neighborhood[startSource] = target;\n      self.neighborhood[startTarget] = source;\n\n      self.weights[startSource] = weight;\n      self.weights[startTarget] = weight;\n    }\n  });\n\n  this.starts[i] = this.E;\n\n  if (this.keepDendrogram) this.dendrogram.push(this.belongings.slice());\n  else this.mapping = this.belongings.slice();\n}\n\nUndirectedLouvainIndex.prototype.isolate = function (i, degree) {\n  var currentCommunity = this.belongings[i];\n\n  // The node is already isolated\n  if (this.counts[currentCommunity] === 1) return currentCommunity;\n\n  var newCommunity = this.unused[--this.U];\n\n  var loops = this.loops[i];\n\n  this.totalWeights[currentCommunity] -= degree + loops;\n  this.totalWeights[newCommunity] += degree + loops;\n\n  this.belongings[i] = newCommunity;\n\n  this.counts[currentCommunity]--;\n  this.counts[newCommunity]++;\n\n  return newCommunity;\n};\n\nUndirectedLouvainIndex.prototype.move = function (i, degree, targetCommunity) {\n  var currentCommunity = this.belongings[i],\n    loops = this.loops[i];\n\n  this.totalWeights[currentCommunity] -= degree + loops;\n  this.totalWeights[targetCommunity] += degree + loops;\n\n  this.belongings[i] = targetCommunity;\n\n  var nowEmpty = this.counts[currentCommunity]-- === 1;\n  this.counts[targetCommunity]++;\n\n  if (nowEmpty) this.unused[this.U++] = currentCommunity;\n};\n\nUndirectedLouvainIndex.prototype.computeNodeDegree = function (i) {\n  var o, l, weight;\n\n  var degree = 0;\n\n  for (o = this.starts[i], l = this.starts[i + 1]; o < l; o++) {\n    weight = this.weights[o];\n\n    degree += weight;\n  }\n\n  return degree;\n};\n\nUndirectedLouvainIndex.prototype.expensiveIsolate = function (i) {\n  var degree = this.computeNodeDegree(i);\n  return this.isolate(i, degree);\n};\n\nUndirectedLouvainIndex.prototype.expensiveMove = function (i, ci) {\n  var degree = this.computeNodeDegree(i);\n  this.move(i, degree, ci);\n};\n\nUndirectedLouvainIndex.prototype.zoomOut = function () {\n  var inducedGraph = new Array(this.C - this.U),\n    newLabels = {};\n\n  var N = this.nodes.length;\n\n  var C = 0,\n    E = 0;\n\n  var i, j, l, m, n, ci, cj, data, adj;\n\n  // Renumbering communities\n  for (i = 0, l = this.C; i < l; i++) {\n    ci = this.belongings[i];\n\n    if (!(ci in newLabels)) {\n      newLabels[ci] = C;\n      inducedGraph[C] = {\n        adj: {},\n        totalWeights: this.totalWeights[ci],\n        internalWeights: 0\n      };\n      C++;\n    }\n\n    // We do this to otpimize the number of lookups in next loop\n    this.belongings[i] = newLabels[ci];\n  }\n\n  // Actualizing dendrogram\n  var currentLevel, nextLevel;\n\n  if (this.keepDendrogram) {\n    currentLevel = this.dendrogram[this.level];\n    nextLevel = new (typed.getPointerArray(C))(N);\n\n    for (i = 0; i < N; i++) nextLevel[i] = this.belongings[currentLevel[i]];\n\n    this.dendrogram.push(nextLevel);\n  } else {\n    for (i = 0; i < N; i++) this.mapping[i] = this.belongings[this.mapping[i]];\n  }\n\n  // Building induced graph matrix\n  for (i = 0, l = this.C; i < l; i++) {\n    ci = this.belongings[i];\n\n    data = inducedGraph[ci];\n    adj = data.adj;\n    data.internalWeights += this.loops[i];\n\n    for (j = this.starts[i], m = this.starts[i + 1]; j < m; j++) {\n      n = this.neighborhood[j];\n      cj = this.belongings[n];\n\n      if (ci === cj) {\n        data.internalWeights += this.weights[j];\n        continue;\n      }\n\n      if (!(cj in adj)) adj[cj] = 0;\n\n      adj[cj] += this.weights[j];\n    }\n  }\n\n  // Rewriting neighborhood\n  this.C = C;\n\n  n = 0;\n\n  for (ci = 0; ci < C; ci++) {\n    data = inducedGraph[ci];\n    adj = data.adj;\n\n    ci = +ci;\n\n    this.totalWeights[ci] = data.totalWeights;\n    this.loops[ci] = data.internalWeights;\n    this.counts[ci] = 1;\n\n    this.starts[ci] = n;\n    this.belongings[ci] = ci;\n\n    for (cj in adj) {\n      this.neighborhood[n] = +cj;\n      this.weights[n] = adj[cj];\n\n      E++;\n      n++;\n    }\n  }\n\n  this.starts[C] = E;\n\n  this.E = E;\n  this.U = 0;\n  this.level++;\n\n  return newLabels;\n};\n\nUndirectedLouvainIndex.prototype.modularity = function () {\n  var ci, cj, i, j, m;\n\n  var Q = 0;\n  var M2 = this.M * 2;\n  var internalWeights = new Float64Array(this.C);\n\n  for (i = 0; i < this.C; i++) {\n    ci = this.belongings[i];\n    internalWeights[ci] += this.loops[i];\n\n    for (j = this.starts[i], m = this.starts[i + 1]; j < m; j++) {\n      cj = this.belongings[this.neighborhood[j]];\n\n      if (ci !== cj) continue;\n\n      internalWeights[ci] += this.weights[j];\n    }\n  }\n\n  for (i = 0; i < this.C; i++) {\n    Q +=\n      internalWeights[i] / M2 -\n      Math.pow(this.totalWeights[i] / M2, 2) * this.resolution;\n  }\n\n  return Q;\n};\n\nUndirectedLouvainIndex.prototype.delta = function (\n  i,\n  degree,\n  targetCommunityDegree,\n  targetCommunity\n) {\n  var M = this.M;\n\n  var targetCommunityTotalWeight = this.totalWeights[targetCommunity];\n\n  degree += this.loops[i];\n\n  return (\n    targetCommunityDegree / M - // NOTE: formula is a bit different here because targetCommunityDegree is passed without * 2\n    (targetCommunityTotalWeight * degree * this.resolution) / (2 * M * M)\n  );\n};\n\nUndirectedLouvainIndex.prototype.deltaWithOwnCommunity = function (\n  i,\n  degree,\n  targetCommunityDegree,\n  targetCommunity\n) {\n  var M = this.M;\n\n  var targetCommunityTotalWeight = this.totalWeights[targetCommunity];\n\n  degree += this.loops[i];\n\n  return (\n    targetCommunityDegree / M - // NOTE: formula is a bit different here because targetCommunityDegree is passed without * 2\n    ((targetCommunityTotalWeight - degree) * degree * this.resolution) /\n      (2 * M * M)\n  );\n};\n\n// NOTE: this is just a faster but equivalent version of #.delta\n// It is just off by a constant factor and is just faster to compute\nUndirectedLouvainIndex.prototype.fastDelta = function (\n  i,\n  degree,\n  targetCommunityDegree,\n  targetCommunity\n) {\n  var M = this.M;\n\n  var targetCommunityTotalWeight = this.totalWeights[targetCommunity];\n\n  degree += this.loops[i];\n\n  return (\n    targetCommunityDegree -\n    (degree * targetCommunityTotalWeight * this.resolution) / (2 * M)\n  );\n};\n\nUndirectedLouvainIndex.prototype.fastDeltaWithOwnCommunity = function (\n  i,\n  degree,\n  targetCommunityDegree,\n  targetCommunity\n) {\n  var M = this.M;\n\n  var targetCommunityTotalWeight = this.totalWeights[targetCommunity];\n\n  degree += this.loops[i];\n\n  return (\n    targetCommunityDegree -\n    (degree * (targetCommunityTotalWeight - degree) * this.resolution) / (2 * M)\n  );\n};\n\nUndirectedLouvainIndex.prototype.bounds = function (i) {\n  return [this.starts[i], this.starts[i + 1]];\n};\n\nUndirectedLouvainIndex.prototype.project = function () {\n  var self = this;\n\n  var projection = {};\n\n  self.nodes.slice(0, this.C).forEach(function (node, i) {\n    projection[node] = Array.from(\n      self.neighborhood.slice(self.starts[i], self.starts[i + 1])\n    ).map(function (j) {\n      return self.nodes[j];\n    });\n  });\n\n  return projection;\n};\n\nUndirectedLouvainIndex.prototype.collect = function (level) {\n  if (arguments.length < 1) level = this.level;\n\n  var o = {};\n\n  var mapping = this.keepDendrogram ? this.dendrogram[level] : this.mapping;\n\n  var i, l;\n\n  for (i = 0, l = mapping.length; i < l; i++) o[this.nodes[i]] = mapping[i];\n\n  return o;\n};\n\nUndirectedLouvainIndex.prototype.assign = function (prop, level) {\n  if (arguments.length < 2) level = this.level;\n\n  var mapping = this.keepDendrogram ? this.dendrogram[level] : this.mapping;\n\n  var i, l;\n\n  for (i = 0, l = mapping.length; i < l; i++)\n    this.graph.setNodeAttribute(this.nodes[i], prop, mapping[i]);\n};\n\nUndirectedLouvainIndex.prototype[INSPECT] = function () {\n  var proxy = {};\n\n  // Trick so that node displays the name of the constructor\n  Object.defineProperty(proxy, 'constructor', {\n    value: UndirectedLouvainIndex,\n    enumerable: false\n  });\n\n  proxy.C = this.C;\n  proxy.M = this.M;\n  proxy.E = this.E;\n  proxy.U = this.U;\n  proxy.resolution = this.resolution;\n  proxy.level = this.level;\n  proxy.nodes = this.nodes;\n  proxy.starts = this.starts.slice(0, proxy.C + 1);\n\n  var eTruncated = ['neighborhood', 'weights'];\n  var cTruncated = ['counts', 'loops', 'belongings', 'totalWeights'];\n\n  var self = this;\n\n  eTruncated.forEach(function (key) {\n    proxy[key] = self[key].slice(0, proxy.E);\n  });\n\n  cTruncated.forEach(function (key) {\n    proxy[key] = self[key].slice(0, proxy.C);\n  });\n\n  proxy.unused = this.unused.slice(0, this.U);\n\n  if (this.keepDendrogram) proxy.dendrogram = this.dendrogram;\n  else proxy.mapping = this.mapping;\n\n  return proxy;\n};\n\nfunction DirectedLouvainIndex(graph, options) {\n  // Solving options\n  options = resolveDefaults(options, DEFAULTS);\n\n  var resolution = options.resolution;\n\n  // Weight getters\n  var getEdgeWeight = createEdgeWeightGetter(options.getEdgeWeight).fromEntry;\n\n  // Building the index\n  var size = (graph.size - graph.selfLoopCount) * 2;\n\n  var NeighborhoodPointerArray = typed.getPointerArray(size);\n  var NodesPointerArray = typed.getPointerArray(graph.order + 1);\n\n  // NOTE: this memory optimization can yield overflow deopt when computing deltas\n  var WeightsArray = options.getEdgeWeight\n    ? Float64Array\n    : typed.getPointerArray(graph.size * 2);\n\n  // Properties\n  this.C = graph.order;\n  this.M = 0;\n  this.E = size;\n  this.U = 0;\n  this.resolution = resolution;\n  this.level = 0;\n  this.graph = graph;\n  this.nodes = new Array(graph.order);\n  this.keepDendrogram = options.keepDendrogram;\n\n  // Edge-level\n  // NOTE: edges are stored out then in, in this order\n  this.neighborhood = new NodesPointerArray(size);\n  this.weights = new WeightsArray(size);\n\n  // Node-level\n  this.loops = new WeightsArray(graph.order);\n  this.starts = new NeighborhoodPointerArray(graph.order + 1);\n  this.offsets = new NeighborhoodPointerArray(graph.order);\n  this.belongings = new NodesPointerArray(graph.order);\n  this.dendrogram = [];\n\n  // Community-level\n  this.counts = new NodesPointerArray(graph.order);\n  this.unused = new NodesPointerArray(graph.order);\n  this.totalInWeights = new WeightsArray(graph.order);\n  this.totalOutWeights = new WeightsArray(graph.order);\n\n  var ids = {};\n\n  var weight;\n\n  var i = 0,\n    n = 0;\n\n  var self = this;\n\n  graph.forEachNode(function (node) {\n    self.nodes[i] = node;\n\n    // Node map to index\n    ids[node] = i;\n\n    // Initializing starts & offsets\n    n += graph.outDegreeWithoutSelfLoops(node);\n    self.starts[i] = n;\n\n    n += graph.inDegreeWithoutSelfLoops(node);\n    self.offsets[i] = n;\n\n    // Belongings\n    self.belongings[i] = i;\n    self.counts[i] = 1;\n    i++;\n  });\n\n  // Single sweep over the edges\n  graph.forEachEdge(function (edge, attr, source, target, sa, ta, u) {\n    weight = getEdgeWeight(edge, attr, source, target, sa, ta, u);\n\n    source = ids[source];\n    target = ids[target];\n\n    self.M += weight;\n\n    // Self loop?\n    if (source === target) {\n      self.loops[source] += weight;\n      self.totalInWeights[source] += weight;\n      self.totalOutWeights[source] += weight;\n    } else {\n      self.totalOutWeights[source] += weight;\n      self.totalInWeights[target] += weight;\n\n      var startSource = --self.starts[source],\n        startTarget = --self.offsets[target];\n\n      self.neighborhood[startSource] = target;\n      self.neighborhood[startTarget] = source;\n\n      self.weights[startSource] = weight;\n      self.weights[startTarget] = weight;\n    }\n  });\n\n  this.starts[i] = this.E;\n\n  if (this.keepDendrogram) this.dendrogram.push(this.belongings.slice());\n  else this.mapping = this.belongings.slice();\n}\n\nDirectedLouvainIndex.prototype.bounds = UndirectedLouvainIndex.prototype.bounds;\n\nDirectedLouvainIndex.prototype.inBounds = function (i) {\n  return [this.offsets[i], this.starts[i + 1]];\n};\n\nDirectedLouvainIndex.prototype.outBounds = function (i) {\n  return [this.starts[i], this.offsets[i]];\n};\n\nDirectedLouvainIndex.prototype.project =\n  UndirectedLouvainIndex.prototype.project;\n\nDirectedLouvainIndex.prototype.projectIn = function () {\n  var self = this;\n\n  var projection = {};\n\n  self.nodes.slice(0, this.C).forEach(function (node, i) {\n    projection[node] = Array.from(\n      self.neighborhood.slice(self.offsets[i], self.starts[i + 1])\n    ).map(function (j) {\n      return self.nodes[j];\n    });\n  });\n\n  return projection;\n};\n\nDirectedLouvainIndex.prototype.projectOut = function () {\n  var self = this;\n\n  var projection = {};\n\n  self.nodes.slice(0, this.C).forEach(function (node, i) {\n    projection[node] = Array.from(\n      self.neighborhood.slice(self.starts[i], self.offsets[i])\n    ).map(function (j) {\n      return self.nodes[j];\n    });\n  });\n\n  return projection;\n};\n\nDirectedLouvainIndex.prototype.isolate = function (i, inDegree, outDegree) {\n  var currentCommunity = this.belongings[i];\n\n  // The node is already isolated\n  if (this.counts[currentCommunity] === 1) return currentCommunity;\n\n  var newCommunity = this.unused[--this.U];\n\n  var loops = this.loops[i];\n\n  this.totalInWeights[currentCommunity] -= inDegree + loops;\n  this.totalInWeights[newCommunity] += inDegree + loops;\n\n  this.totalOutWeights[currentCommunity] -= outDegree + loops;\n  this.totalOutWeights[newCommunity] += outDegree + loops;\n\n  this.belongings[i] = newCommunity;\n\n  this.counts[currentCommunity]--;\n  this.counts[newCommunity]++;\n\n  return newCommunity;\n};\n\nDirectedLouvainIndex.prototype.move = function (\n  i,\n  inDegree,\n  outDegree,\n  targetCommunity\n) {\n  var currentCommunity = this.belongings[i],\n    loops = this.loops[i];\n\n  this.totalInWeights[currentCommunity] -= inDegree + loops;\n  this.totalInWeights[targetCommunity] += inDegree + loops;\n\n  this.totalOutWeights[currentCommunity] -= outDegree + loops;\n  this.totalOutWeights[targetCommunity] += outDegree + loops;\n\n  this.belongings[i] = targetCommunity;\n\n  var nowEmpty = this.counts[currentCommunity]-- === 1;\n  this.counts[targetCommunity]++;\n\n  if (nowEmpty) this.unused[this.U++] = currentCommunity;\n};\n\nDirectedLouvainIndex.prototype.computeNodeInDegree = function (i) {\n  var o, l, weight;\n\n  var inDegree = 0;\n\n  for (o = this.offsets[i], l = this.starts[i + 1]; o < l; o++) {\n    weight = this.weights[o];\n\n    inDegree += weight;\n  }\n\n  return inDegree;\n};\n\nDirectedLouvainIndex.prototype.computeNodeOutDegree = function (i) {\n  var o, l, weight;\n\n  var outDegree = 0;\n\n  for (o = this.starts[i], l = this.offsets[i]; o < l; o++) {\n    weight = this.weights[o];\n\n    outDegree += weight;\n  }\n\n  return outDegree;\n};\n\nDirectedLouvainIndex.prototype.expensiveMove = function (i, ci) {\n  var inDegree = this.computeNodeInDegree(i),\n    outDegree = this.computeNodeOutDegree(i);\n\n  this.move(i, inDegree, outDegree, ci);\n};\n\nDirectedLouvainIndex.prototype.zoomOut = function () {\n  var inducedGraph = new Array(this.C - this.U),\n    newLabels = {};\n\n  var N = this.nodes.length;\n\n  var C = 0,\n    E = 0;\n\n  var i, j, l, m, n, ci, cj, data, offset, out, adj, inAdj, outAdj;\n\n  // Renumbering communities\n  for (i = 0, l = this.C; i < l; i++) {\n    ci = this.belongings[i];\n\n    if (!(ci in newLabels)) {\n      newLabels[ci] = C;\n      inducedGraph[C] = {\n        inAdj: {},\n        outAdj: {},\n        totalInWeights: this.totalInWeights[ci],\n        totalOutWeights: this.totalOutWeights[ci],\n        internalWeights: 0\n      };\n      C++;\n    }\n\n    // We do this to otpimize the number of lookups in next loop\n    this.belongings[i] = newLabels[ci];\n  }\n\n  // Actualizing dendrogram\n  var currentLevel, nextLevel;\n\n  if (this.keepDendrogram) {\n    currentLevel = this.dendrogram[this.level];\n    nextLevel = new (typed.getPointerArray(C))(N);\n\n    for (i = 0; i < N; i++) nextLevel[i] = this.belongings[currentLevel[i]];\n\n    this.dendrogram.push(nextLevel);\n  } else {\n    for (i = 0; i < N; i++) this.mapping[i] = this.belongings[this.mapping[i]];\n  }\n\n  // Building induced graph matrix\n  for (i = 0, l = this.C; i < l; i++) {\n    ci = this.belongings[i];\n    offset = this.offsets[i];\n\n    data = inducedGraph[ci];\n    inAdj = data.inAdj;\n    outAdj = data.outAdj;\n    data.internalWeights += this.loops[i];\n\n    for (j = this.starts[i], m = this.starts[i + 1]; j < m; j++) {\n      n = this.neighborhood[j];\n      cj = this.belongings[n];\n      out = j < offset;\n\n      adj = out ? outAdj : inAdj;\n\n      if (ci === cj) {\n        if (out) data.internalWeights += this.weights[j];\n\n        continue;\n      }\n\n      if (!(cj in adj)) adj[cj] = 0;\n\n      adj[cj] += this.weights[j];\n    }\n  }\n\n  // Rewriting neighborhood\n  this.C = C;\n\n  n = 0;\n\n  for (ci = 0; ci < C; ci++) {\n    data = inducedGraph[ci];\n    inAdj = data.inAdj;\n    outAdj = data.outAdj;\n\n    ci = +ci;\n\n    this.totalInWeights[ci] = data.totalInWeights;\n    this.totalOutWeights[ci] = data.totalOutWeights;\n    this.loops[ci] = data.internalWeights;\n    this.counts[ci] = 1;\n\n    this.starts[ci] = n;\n    this.belongings[ci] = ci;\n\n    for (cj in outAdj) {\n      this.neighborhood[n] = +cj;\n      this.weights[n] = outAdj[cj];\n\n      E++;\n      n++;\n    }\n\n    this.offsets[ci] = n;\n\n    for (cj in inAdj) {\n      this.neighborhood[n] = +cj;\n      this.weights[n] = inAdj[cj];\n\n      E++;\n      n++;\n    }\n  }\n\n  this.starts[C] = E;\n\n  this.E = E;\n  this.U = 0;\n  this.level++;\n\n  return newLabels;\n};\n\nDirectedLouvainIndex.prototype.modularity = function () {\n  var ci, cj, i, j, m;\n\n  var Q = 0;\n  var M = this.M;\n  var internalWeights = new Float64Array(this.C);\n\n  for (i = 0; i < this.C; i++) {\n    ci = this.belongings[i];\n    internalWeights[ci] += this.loops[i];\n\n    for (j = this.starts[i], m = this.offsets[i]; j < m; j++) {\n      cj = this.belongings[this.neighborhood[j]];\n\n      if (ci !== cj) continue;\n\n      internalWeights[ci] += this.weights[j];\n    }\n  }\n\n  for (i = 0; i < this.C; i++)\n    Q +=\n      internalWeights[i] / M -\n      ((this.totalInWeights[i] * this.totalOutWeights[i]) / Math.pow(M, 2)) *\n        this.resolution;\n\n  return Q;\n};\n\nDirectedLouvainIndex.prototype.delta = function (\n  i,\n  inDegree,\n  outDegree,\n  targetCommunityDegree,\n  targetCommunity\n) {\n  var M = this.M;\n\n  var targetCommunityTotalInWeight = this.totalInWeights[targetCommunity],\n    targetCommunityTotalOutWeight = this.totalOutWeights[targetCommunity];\n\n  var loops = this.loops[i];\n\n  inDegree += loops;\n  outDegree += loops;\n\n  return (\n    targetCommunityDegree / M -\n    ((outDegree * targetCommunityTotalInWeight +\n      inDegree * targetCommunityTotalOutWeight) *\n      this.resolution) /\n      (M * M)\n  );\n};\n\nDirectedLouvainIndex.prototype.deltaWithOwnCommunity = function (\n  i,\n  inDegree,\n  outDegree,\n  targetCommunityDegree,\n  targetCommunity\n) {\n  var M = this.M;\n\n  var targetCommunityTotalInWeight = this.totalInWeights[targetCommunity],\n    targetCommunityTotalOutWeight = this.totalOutWeights[targetCommunity];\n\n  var loops = this.loops[i];\n\n  inDegree += loops;\n  outDegree += loops;\n\n  return (\n    targetCommunityDegree / M -\n    ((outDegree * (targetCommunityTotalInWeight - inDegree) +\n      inDegree * (targetCommunityTotalOutWeight - outDegree)) *\n      this.resolution) /\n      (M * M)\n  );\n};\n\nDirectedLouvainIndex.prototype.collect =\n  UndirectedLouvainIndex.prototype.collect;\nDirectedLouvainIndex.prototype.assign = UndirectedLouvainIndex.prototype.assign;\n\nDirectedLouvainIndex.prototype[INSPECT] = function () {\n  var proxy = {};\n\n  // Trick so that node displays the name of the constructor\n  Object.defineProperty(proxy, 'constructor', {\n    value: DirectedLouvainIndex,\n    enumerable: false\n  });\n\n  proxy.C = this.C;\n  proxy.M = this.M;\n  proxy.E = this.E;\n  proxy.U = this.U;\n  proxy.resolution = this.resolution;\n  proxy.level = this.level;\n  proxy.nodes = this.nodes;\n  proxy.starts = this.starts.slice(0, proxy.C + 1);\n\n  var eTruncated = ['neighborhood', 'weights'];\n  var cTruncated = [\n    'counts',\n    'offsets',\n    'loops',\n    'belongings',\n    'totalInWeights',\n    'totalOutWeights'\n  ];\n\n  var self = this;\n\n  eTruncated.forEach(function (key) {\n    proxy[key] = self[key].slice(0, proxy.E);\n  });\n\n  cTruncated.forEach(function (key) {\n    proxy[key] = self[key].slice(0, proxy.C);\n  });\n\n  proxy.unused = this.unused.slice(0, this.U);\n\n  if (this.keepDendrogram) proxy.dendrogram = this.dendrogram;\n  else proxy.mapping = this.mapping;\n\n  return proxy;\n};\n\nexports.UndirectedLouvainIndex = UndirectedLouvainIndex;\nexports.DirectedLouvainIndex = DirectedLouvainIndex;\n","/**\n * Graphology Neighborhood Indices\n * ================================\n */\nvar typed = require('mnemonist/utils/typed-arrays');\nvar createEdgeWeightGetter =\n  require('graphology-utils/getters').createEdgeWeightGetter;\n\nfunction upperBoundPerMethod(method, graph) {\n  if (method === 'outbound' || method === 'inbound')\n    return graph.directedSize + graph.undirectedSize * 2;\n\n  if (method === 'in' || method === 'out' || method === 'directed')\n    return graph.directedSize;\n\n  return graph.undirectedSize * 2;\n}\n\nfunction NeighborhoodIndex(graph, method) {\n  method = method || 'outbound';\n  var getNeighbors = graph[method + 'Neighbors'].bind(graph);\n\n  var upperBound = upperBoundPerMethod(method, graph);\n\n  var NeighborhoodPointerArray = typed.getPointerArray(upperBound);\n  var NodesPointerArray = typed.getPointerArray(graph.order);\n\n  // NOTE: directedSize + undirectedSize * 2 is an upper bound for\n  // neighborhood size\n  this.graph = graph;\n  this.neighborhood = new NodesPointerArray(upperBound);\n\n  this.starts = new NeighborhoodPointerArray(graph.order + 1);\n\n  this.nodes = graph.nodes();\n\n  var ids = {};\n\n  var i, l, j, m, node, neighbors;\n\n  var n = 0;\n\n  for (i = 0, l = graph.order; i < l; i++) ids[this.nodes[i]] = i;\n\n  for (i = 0, l = graph.order; i < l; i++) {\n    node = this.nodes[i];\n    neighbors = getNeighbors(node);\n\n    this.starts[i] = n;\n\n    for (j = 0, m = neighbors.length; j < m; j++)\n      this.neighborhood[n++] = ids[neighbors[j]];\n  }\n\n  // NOTE: we keep one more index as upper bound to simplify iteration\n  this.starts[i] = upperBound;\n}\n\nNeighborhoodIndex.prototype.bounds = function (i) {\n  return [this.starts[i], this.starts[i + 1]];\n};\n\nNeighborhoodIndex.prototype.project = function () {\n  var self = this;\n\n  var projection = {};\n\n  self.nodes.forEach(function (node, i) {\n    projection[node] = Array.from(\n      self.neighborhood.slice(self.starts[i], self.starts[i + 1])\n    ).map(function (j) {\n      return self.nodes[j];\n    });\n  });\n\n  return projection;\n};\n\nNeighborhoodIndex.prototype.collect = function (results) {\n  var i, l;\n\n  var o = {};\n\n  for (i = 0, l = results.length; i < l; i++) o[this.nodes[i]] = results[i];\n\n  return o;\n};\n\nNeighborhoodIndex.prototype.assign = function (prop, results) {\n  var i = 0;\n\n  this.graph.updateEachNodeAttributes(\n    function (_, attr) {\n      attr[prop] = results[i++];\n\n      return attr;\n    },\n    {attributes: [prop]}\n  );\n};\n\nexports.NeighborhoodIndex = NeighborhoodIndex;\n\nfunction WeightedNeighborhoodIndex(graph, getEdgeWeight, method) {\n  method = method || 'outbound';\n  var getEdges = graph[method + 'Edges'].bind(graph);\n\n  var upperBound = upperBoundPerMethod(method, graph);\n\n  var NeighborhoodPointerArray = typed.getPointerArray(upperBound);\n  var NodesPointerArray = typed.getPointerArray(graph.order);\n\n  var weightGetter = createEdgeWeightGetter(getEdgeWeight).fromMinimalEntry;\n\n  // NOTE: directedSize + undirectedSize * 2 is an upper bound for\n  // neighborhood size\n  this.graph = graph;\n  this.neighborhood = new NodesPointerArray(upperBound);\n  this.weights = new Float64Array(upperBound);\n  this.outDegrees = new Float64Array(graph.order);\n\n  this.starts = new NeighborhoodPointerArray(graph.order + 1);\n\n  this.nodes = graph.nodes();\n\n  var ids = {};\n\n  var i, l, j, m, node, neighbor, edges, edge, weight;\n\n  var n = 0;\n\n  for (i = 0, l = graph.order; i < l; i++) ids[this.nodes[i]] = i;\n\n  for (i = 0, l = graph.order; i < l; i++) {\n    node = this.nodes[i];\n    edges = getEdges(node);\n\n    this.starts[i] = n;\n\n    for (j = 0, m = edges.length; j < m; j++) {\n      edge = edges[j];\n      neighbor = graph.opposite(node, edge);\n      weight = weightGetter(edge, graph.getEdgeAttributes(edge));\n\n      // NOTE: for weighted mixed beware of merging weights if twice the same neighbor\n      this.neighborhood[n] = ids[neighbor];\n      this.weights[n++] = weight;\n      this.outDegrees[i] += weight;\n    }\n  }\n\n  // NOTE: we keep one more index as upper bound to simplify iteration\n  this.starts[i] = upperBound;\n}\n\nWeightedNeighborhoodIndex.prototype.bounds = NeighborhoodIndex.prototype.bounds;\nWeightedNeighborhoodIndex.prototype.project =\n  NeighborhoodIndex.prototype.project;\nWeightedNeighborhoodIndex.prototype.collect =\n  NeighborhoodIndex.prototype.collect;\nWeightedNeighborhoodIndex.prototype.assign = NeighborhoodIndex.prototype.assign;\n\nexports.WeightedNeighborhoodIndex = WeightedNeighborhoodIndex;\n","/**\n * Graphology ForceAtlas2 Layout Default Settings\n * ===============================================\n */\nmodule.exports = {\n  linLogMode: false,\n  outboundAttractionDistribution: false,\n  adjustSizes: false,\n  edgeWeightInfluence: 1,\n  scalingRatio: 1,\n  strongGravityMode: false,\n  gravity: 1,\n  slowDown: 1,\n  barnesHutOptimize: false,\n  barnesHutTheta: 0.5\n};\n","/**\n * Graphology ForceAtlas2 Helpers\n * ===============================\n *\n * Miscellaneous helper functions.\n */\n\n/**\n * Constants.\n */\nvar PPN = 10;\nvar PPE = 3;\n\n/**\n * Very simple Object.assign-like function.\n *\n * @param  {object} target       - First object.\n * @param  {object} [...objects] - Objects to merge.\n * @return {object}\n */\nexports.assign = function (target) {\n  target = target || {};\n\n  var objects = Array.prototype.slice.call(arguments).slice(1),\n    i,\n    k,\n    l;\n\n  for (i = 0, l = objects.length; i < l; i++) {\n    if (!objects[i]) continue;\n\n    for (k in objects[i]) target[k] = objects[i][k];\n  }\n\n  return target;\n};\n\n/**\n * Function used to validate the given settings.\n *\n * @param  {object}      settings - Settings to validate.\n * @return {object|null}\n */\nexports.validateSettings = function (settings) {\n  if ('linLogMode' in settings && typeof settings.linLogMode !== 'boolean')\n    return {message: 'the `linLogMode` setting should be a boolean.'};\n\n  if (\n    'outboundAttractionDistribution' in settings &&\n    typeof settings.outboundAttractionDistribution !== 'boolean'\n  )\n    return {\n      message:\n        'the `outboundAttractionDistribution` setting should be a boolean.'\n    };\n\n  if ('adjustSizes' in settings && typeof settings.adjustSizes !== 'boolean')\n    return {message: 'the `adjustSizes` setting should be a boolean.'};\n\n  if (\n    'edgeWeightInfluence' in settings &&\n    typeof settings.edgeWeightInfluence !== 'number'\n  )\n    return {\n      message: 'the `edgeWeightInfluence` setting should be a number.'\n    };\n\n  if (\n    'scalingRatio' in settings &&\n    !(typeof settings.scalingRatio === 'number' && settings.scalingRatio >= 0)\n  )\n    return {message: 'the `scalingRatio` setting should be a number >= 0.'};\n\n  if (\n    'strongGravityMode' in settings &&\n    typeof settings.strongGravityMode !== 'boolean'\n  )\n    return {message: 'the `strongGravityMode` setting should be a boolean.'};\n\n  if (\n    'gravity' in settings &&\n    !(typeof settings.gravity === 'number' && settings.gravity >= 0)\n  )\n    return {message: 'the `gravity` setting should be a number >= 0.'};\n\n  if (\n    'slowDown' in settings &&\n    !(typeof settings.slowDown === 'number' || settings.slowDown >= 0)\n  )\n    return {message: 'the `slowDown` setting should be a number >= 0.'};\n\n  if (\n    'barnesHutOptimize' in settings &&\n    typeof settings.barnesHutOptimize !== 'boolean'\n  )\n    return {message: 'the `barnesHutOptimize` setting should be a boolean.'};\n\n  if (\n    'barnesHutTheta' in settings &&\n    !(\n      typeof settings.barnesHutTheta === 'number' &&\n      settings.barnesHutTheta >= 0\n    )\n  )\n    return {message: 'the `barnesHutTheta` setting should be a number >= 0.'};\n\n  return null;\n};\n\n/**\n * Function generating a flat matrix for both nodes & edges of the given graph.\n *\n * @param  {Graph}    graph         - Target graph.\n * @param  {function} getEdgeWeight - Edge weight getter function.\n * @return {object}                 - Both matrices.\n */\nexports.graphToByteArrays = function (graph, getEdgeWeight) {\n  var order = graph.order;\n  var size = graph.size;\n  var index = {};\n  var j;\n\n  // NOTE: float32 could lead to issues if edge array needs to index large\n  // number of nodes.\n  var NodeMatrix = new Float32Array(order * PPN);\n  var EdgeMatrix = new Float32Array(size * PPE);\n\n  // Iterate through nodes\n  j = 0;\n  graph.forEachNode(function (node, attr) {\n    // Node index\n    index[node] = j;\n\n    // Populating byte array\n    NodeMatrix[j] = attr.x;\n    NodeMatrix[j + 1] = attr.y;\n    NodeMatrix[j + 2] = 0; // dx\n    NodeMatrix[j + 3] = 0; // dy\n    NodeMatrix[j + 4] = 0; // old_dx\n    NodeMatrix[j + 5] = 0; // old_dy\n    NodeMatrix[j + 6] = 1; // mass\n    NodeMatrix[j + 7] = 1; // convergence\n    NodeMatrix[j + 8] = attr.size || 1;\n    NodeMatrix[j + 9] = attr.fixed ? 1 : 0;\n    j += PPN;\n  });\n\n  // Iterate through edges\n  j = 0;\n  graph.forEachEdge(function (edge, attr, source, target, sa, ta, u) {\n    var sj = index[source];\n    var tj = index[target];\n\n    var weight = getEdgeWeight(edge, attr, source, target, sa, ta, u);\n\n    // Incrementing mass to be a node's weighted degree\n    NodeMatrix[sj + 6] += weight;\n    NodeMatrix[tj + 6] += weight;\n\n    // Populating byte array\n    EdgeMatrix[j] = sj;\n    EdgeMatrix[j + 1] = tj;\n    EdgeMatrix[j + 2] = weight;\n    j += PPE;\n  });\n\n  return {\n    nodes: NodeMatrix,\n    edges: EdgeMatrix\n  };\n};\n\n/**\n * Function applying the layout back to the graph.\n *\n * @param {Graph}         graph         - Target graph.\n * @param {Float32Array}  NodeMatrix    - Node matrix.\n * @param {function|null} outputReducer - A node reducer.\n */\nexports.assignLayoutChanges = function (graph, NodeMatrix, outputReducer) {\n  var i = 0;\n\n  graph.updateEachNodeAttributes(function (node, attr) {\n    attr.x = NodeMatrix[i];\n    attr.y = NodeMatrix[i + 1];\n\n    i += PPN;\n\n    return outputReducer ? outputReducer(node, attr) : attr;\n  });\n};\n\n/**\n * Function reading the positions (only) from the graph, to write them in the matrix.\n *\n * @param {Graph}        graph      - Target graph.\n * @param {Float32Array} NodeMatrix - Node matrix.\n */\nexports.readGraphPositions = function (graph, NodeMatrix) {\n  var i = 0;\n\n  graph.forEachNode(function (node, attr) {\n    NodeMatrix[i] = attr.x;\n    NodeMatrix[i + 1] = attr.y;\n\n    i += PPN;\n  });\n};\n\n/**\n * Function collecting the layout positions.\n *\n * @param  {Graph}         graph         - Target graph.\n * @param  {Float32Array}  NodeMatrix    - Node matrix.\n * @param  {function|null} outputReducer - A nodes reducer.\n * @return {object}                      - Map to node positions.\n */\nexports.collectLayoutChanges = function (graph, NodeMatrix, outputReducer) {\n  var nodes = graph.nodes(),\n    positions = {};\n\n  for (var i = 0, j = 0, l = NodeMatrix.length; i < l; i += PPN) {\n    if (outputReducer) {\n      var newAttr = Object.assign({}, graph.getNodeAttributes(nodes[j]));\n      newAttr.x = NodeMatrix[i];\n      newAttr.y = NodeMatrix[i + 1];\n      newAttr = outputReducer(nodes[j], newAttr);\n      positions[nodes[j]] = {\n        x: newAttr.x,\n        y: newAttr.y\n      };\n    } else {\n      positions[nodes[j]] = {\n        x: NodeMatrix[i],\n        y: NodeMatrix[i + 1]\n      };\n    }\n\n    j++;\n  }\n\n  return positions;\n};\n\n/**\n * Function returning a web worker from the given function.\n *\n * @param  {function}  fn - Function for the worker.\n * @return {DOMString}\n */\nexports.createWorker = function createWorker(fn) {\n  var xURL = window.URL || window.webkitURL;\n  var code = fn.toString();\n  var objectUrl = xURL.createObjectURL(\n    new Blob(['(' + code + ').call(this);'], {type: 'text/javascript'})\n  );\n  var worker = new Worker(objectUrl);\n  xURL.revokeObjectURL(objectUrl);\n\n  return worker;\n};\n","/**\n * Graphology ForceAtlas2 Layout\n * ==============================\n *\n * Library endpoint.\n */\nvar isGraph = require('graphology-utils/is-graph');\nvar createEdgeWeightGetter =\n  require('graphology-utils/getters').createEdgeWeightGetter;\nvar iterate = require('./iterate.js');\nvar helpers = require('./helpers.js');\n\nvar DEFAULT_SETTINGS = require('./defaults.js');\n\n/**\n * Asbtract function used to run a certain number of iterations.\n *\n * @param  {boolean}       assign          - Whether to assign positions.\n * @param  {Graph}         graph           - Target graph.\n * @param  {object|number} params          - If number, params.iterations, else:\n * @param  {function}        getWeight     - Edge weight getter function.\n * @param  {number}          iterations    - Number of iterations.\n * @param  {function|null}   outputReducer - A node reducer\n * @param  {object}          [settings]    - Settings.\n * @return {object|undefined}\n */\nfunction abstractSynchronousLayout(assign, graph, params) {\n  if (!isGraph(graph))\n    throw new Error(\n      'graphology-layout-forceatlas2: the given graph is not a valid graphology instance.'\n    );\n\n  if (typeof params === 'number') params = {iterations: params};\n\n  var iterations = params.iterations;\n\n  if (typeof iterations !== 'number')\n    throw new Error(\n      'graphology-layout-forceatlas2: invalid number of iterations.'\n    );\n\n  if (iterations <= 0)\n    throw new Error(\n      'graphology-layout-forceatlas2: you should provide a positive number of iterations.'\n    );\n\n  var getEdgeWeight = createEdgeWeightGetter(\n    'getEdgeWeight' in params ? params.getEdgeWeight : 'weight'\n  ).fromEntry;\n\n  var outputReducer =\n    typeof params.outputReducer === 'function' ? params.outputReducer : null;\n\n  // Validating settings\n  var settings = helpers.assign({}, DEFAULT_SETTINGS, params.settings);\n  var validationError = helpers.validateSettings(settings);\n\n  if (validationError)\n    throw new Error(\n      'graphology-layout-forceatlas2: ' + validationError.message\n    );\n\n  // Building matrices\n  var matrices = helpers.graphToByteArrays(graph, getEdgeWeight);\n\n  var i;\n\n  // Iterating\n  for (i = 0; i < iterations; i++)\n    iterate(settings, matrices.nodes, matrices.edges);\n\n  // Applying\n  if (assign) {\n    helpers.assignLayoutChanges(graph, matrices.nodes, outputReducer);\n    return;\n  }\n\n  return helpers.collectLayoutChanges(graph, matrices.nodes);\n}\n\n/**\n * Function returning sane layout settings for the given graph.\n *\n * @param  {Graph|number} graph - Target graph or graph order.\n * @return {object}\n */\nfunction inferSettings(graph) {\n  var order = typeof graph === 'number' ? graph : graph.order;\n\n  return {\n    barnesHutOptimize: order > 2000,\n    strongGravityMode: true,\n    gravity: 0.05,\n    scalingRatio: 10,\n    slowDown: 1 + Math.log(order)\n  };\n}\n\n/**\n * Exporting.\n */\nvar synchronousLayout = abstractSynchronousLayout.bind(null, false);\nsynchronousLayout.assign = abstractSynchronousLayout.bind(null, true);\nsynchronousLayout.inferSettings = inferSettings;\n\nmodule.exports = synchronousLayout;\n","/* eslint no-constant-condition: 0 */\n/**\n * Graphology ForceAtlas2 Iteration\n * =================================\n *\n * Function used to perform a single iteration of the algorithm.\n */\n\n/**\n * Matrices properties accessors.\n */\nvar NODE_X = 0;\nvar NODE_Y = 1;\nvar NODE_DX = 2;\nvar NODE_DY = 3;\nvar NODE_OLD_DX = 4;\nvar NODE_OLD_DY = 5;\nvar NODE_MASS = 6;\nvar NODE_CONVERGENCE = 7;\nvar NODE_SIZE = 8;\nvar NODE_FIXED = 9;\n\nvar EDGE_SOURCE = 0;\nvar EDGE_TARGET = 1;\nvar EDGE_WEIGHT = 2;\n\nvar REGION_NODE = 0;\nvar REGION_CENTER_X = 1;\nvar REGION_CENTER_Y = 2;\nvar REGION_SIZE = 3;\nvar REGION_NEXT_SIBLING = 4;\nvar REGION_FIRST_CHILD = 5;\nvar REGION_MASS = 6;\nvar REGION_MASS_CENTER_X = 7;\nvar REGION_MASS_CENTER_Y = 8;\n\nvar SUBDIVISION_ATTEMPTS = 3;\n\n/**\n * Constants.\n */\nvar PPN = 10;\nvar PPE = 3;\nvar PPR = 9;\n\nvar MAX_FORCE = 10;\n\n/**\n * Function used to perform a single interation of the algorithm.\n *\n * @param  {object}       options    - Layout options.\n * @param  {Float32Array} NodeMatrix - Node data.\n * @param  {Float32Array} EdgeMatrix - Edge data.\n * @return {object}                  - Some metadata.\n */\nmodule.exports = function iterate(options, NodeMatrix, EdgeMatrix) {\n  // Initializing variables\n  var l, r, n, n1, n2, rn, e, w, g, s;\n\n  var order = NodeMatrix.length,\n    size = EdgeMatrix.length;\n\n  var adjustSizes = options.adjustSizes;\n\n  var thetaSquared = options.barnesHutTheta * options.barnesHutTheta;\n\n  var outboundAttCompensation, coefficient, xDist, yDist, ewc, distance, factor;\n\n  var RegionMatrix = [];\n\n  // 1) Initializing layout data\n  //-----------------------------\n\n  // Resetting positions & computing max values\n  for (n = 0; n < order; n += PPN) {\n    NodeMatrix[n + NODE_OLD_DX] = NodeMatrix[n + NODE_DX];\n    NodeMatrix[n + NODE_OLD_DY] = NodeMatrix[n + NODE_DY];\n    NodeMatrix[n + NODE_DX] = 0;\n    NodeMatrix[n + NODE_DY] = 0;\n  }\n\n  // If outbound attraction distribution, compensate\n  if (options.outboundAttractionDistribution) {\n    outboundAttCompensation = 0;\n    for (n = 0; n < order; n += PPN) {\n      outboundAttCompensation += NodeMatrix[n + NODE_MASS];\n    }\n\n    outboundAttCompensation /= order / PPN;\n  }\n\n  // 1.bis) Barnes-Hut computation\n  //------------------------------\n\n  if (options.barnesHutOptimize) {\n    // Setting up\n    var minX = Infinity,\n      maxX = -Infinity,\n      minY = Infinity,\n      maxY = -Infinity,\n      q,\n      q2,\n      subdivisionAttempts;\n\n    // Computing min and max values\n    for (n = 0; n < order; n += PPN) {\n      minX = Math.min(minX, NodeMatrix[n + NODE_X]);\n      maxX = Math.max(maxX, NodeMatrix[n + NODE_X]);\n      minY = Math.min(minY, NodeMatrix[n + NODE_Y]);\n      maxY = Math.max(maxY, NodeMatrix[n + NODE_Y]);\n    }\n\n    // squarify bounds, it's a quadtree\n    var dx = maxX - minX,\n      dy = maxY - minY;\n    if (dx > dy) {\n      minY -= (dx - dy) / 2;\n      maxY = minY + dx;\n    } else {\n      minX -= (dy - dx) / 2;\n      maxX = minX + dy;\n    }\n\n    // Build the Barnes Hut root region\n    RegionMatrix[0 + REGION_NODE] = -1;\n    RegionMatrix[0 + REGION_CENTER_X] = (minX + maxX) / 2;\n    RegionMatrix[0 + REGION_CENTER_Y] = (minY + maxY) / 2;\n    RegionMatrix[0 + REGION_SIZE] = Math.max(maxX - minX, maxY - minY);\n    RegionMatrix[0 + REGION_NEXT_SIBLING] = -1;\n    RegionMatrix[0 + REGION_FIRST_CHILD] = -1;\n    RegionMatrix[0 + REGION_MASS] = 0;\n    RegionMatrix[0 + REGION_MASS_CENTER_X] = 0;\n    RegionMatrix[0 + REGION_MASS_CENTER_Y] = 0;\n\n    // Add each node in the tree\n    l = 1;\n    for (n = 0; n < order; n += PPN) {\n      // Current region, starting with root\n      r = 0;\n      subdivisionAttempts = SUBDIVISION_ATTEMPTS;\n\n      while (true) {\n        // Are there sub-regions?\n\n        // We look at first child index\n        if (RegionMatrix[r + REGION_FIRST_CHILD] >= 0) {\n          // There are sub-regions\n\n          // We just iterate to find a \"leaf\" of the tree\n          // that is an empty region or a region with a single node\n          // (see next case)\n\n          // Find the quadrant of n\n          if (NodeMatrix[n + NODE_X] < RegionMatrix[r + REGION_CENTER_X]) {\n            if (NodeMatrix[n + NODE_Y] < RegionMatrix[r + REGION_CENTER_Y]) {\n              // Top Left quarter\n              q = RegionMatrix[r + REGION_FIRST_CHILD];\n            } else {\n              // Bottom Left quarter\n              q = RegionMatrix[r + REGION_FIRST_CHILD] + PPR;\n            }\n          } else {\n            if (NodeMatrix[n + NODE_Y] < RegionMatrix[r + REGION_CENTER_Y]) {\n              // Top Right quarter\n              q = RegionMatrix[r + REGION_FIRST_CHILD] + PPR * 2;\n            } else {\n              // Bottom Right quarter\n              q = RegionMatrix[r + REGION_FIRST_CHILD] + PPR * 3;\n            }\n          }\n\n          // Update center of mass and mass (we only do it for non-leave regions)\n          RegionMatrix[r + REGION_MASS_CENTER_X] =\n            (RegionMatrix[r + REGION_MASS_CENTER_X] *\n              RegionMatrix[r + REGION_MASS] +\n              NodeMatrix[n + NODE_X] * NodeMatrix[n + NODE_MASS]) /\n            (RegionMatrix[r + REGION_MASS] + NodeMatrix[n + NODE_MASS]);\n\n          RegionMatrix[r + REGION_MASS_CENTER_Y] =\n            (RegionMatrix[r + REGION_MASS_CENTER_Y] *\n              RegionMatrix[r + REGION_MASS] +\n              NodeMatrix[n + NODE_Y] * NodeMatrix[n + NODE_MASS]) /\n            (RegionMatrix[r + REGION_MASS] + NodeMatrix[n + NODE_MASS]);\n\n          RegionMatrix[r + REGION_MASS] += NodeMatrix[n + NODE_MASS];\n\n          // Iterate on the right quadrant\n          r = q;\n          continue;\n        } else {\n          // There are no sub-regions: we are in a \"leaf\"\n\n          // Is there a node in this leave?\n          if (RegionMatrix[r + REGION_NODE] < 0) {\n            // There is no node in region:\n            // we record node n and go on\n            RegionMatrix[r + REGION_NODE] = n;\n            break;\n          } else {\n            // There is a node in this region\n\n            // We will need to create sub-regions, stick the two\n            // nodes (the old one r[0] and the new one n) in two\n            // subregions. If they fall in the same quadrant,\n            // we will iterate.\n\n            // Create sub-regions\n            RegionMatrix[r + REGION_FIRST_CHILD] = l * PPR;\n            w = RegionMatrix[r + REGION_SIZE] / 2; // new size (half)\n\n            // NOTE: we use screen coordinates\n            // from Top Left to Bottom Right\n\n            // Top Left sub-region\n            g = RegionMatrix[r + REGION_FIRST_CHILD];\n\n            RegionMatrix[g + REGION_NODE] = -1;\n            RegionMatrix[g + REGION_CENTER_X] =\n              RegionMatrix[r + REGION_CENTER_X] - w;\n            RegionMatrix[g + REGION_CENTER_Y] =\n              RegionMatrix[r + REGION_CENTER_Y] - w;\n            RegionMatrix[g + REGION_SIZE] = w;\n            RegionMatrix[g + REGION_NEXT_SIBLING] = g + PPR;\n            RegionMatrix[g + REGION_FIRST_CHILD] = -1;\n            RegionMatrix[g + REGION_MASS] = 0;\n            RegionMatrix[g + REGION_MASS_CENTER_X] = 0;\n            RegionMatrix[g + REGION_MASS_CENTER_Y] = 0;\n\n            // Bottom Left sub-region\n            g += PPR;\n            RegionMatrix[g + REGION_NODE] = -1;\n            RegionMatrix[g + REGION_CENTER_X] =\n              RegionMatrix[r + REGION_CENTER_X] - w;\n            RegionMatrix[g + REGION_CENTER_Y] =\n              RegionMatrix[r + REGION_CENTER_Y] + w;\n            RegionMatrix[g + REGION_SIZE] = w;\n            RegionMatrix[g + REGION_NEXT_SIBLING] = g + PPR;\n            RegionMatrix[g + REGION_FIRST_CHILD] = -1;\n            RegionMatrix[g + REGION_MASS] = 0;\n            RegionMatrix[g + REGION_MASS_CENTER_X] = 0;\n            RegionMatrix[g + REGION_MASS_CENTER_Y] = 0;\n\n            // Top Right sub-region\n            g += PPR;\n            RegionMatrix[g + REGION_NODE] = -1;\n            RegionMatrix[g + REGION_CENTER_X] =\n              RegionMatrix[r + REGION_CENTER_X] + w;\n            RegionMatrix[g + REGION_CENTER_Y] =\n              RegionMatrix[r + REGION_CENTER_Y] - w;\n            RegionMatrix[g + REGION_SIZE] = w;\n            RegionMatrix[g + REGION_NEXT_SIBLING] = g + PPR;\n            RegionMatrix[g + REGION_FIRST_CHILD] = -1;\n            RegionMatrix[g + REGION_MASS] = 0;\n            RegionMatrix[g + REGION_MASS_CENTER_X] = 0;\n            RegionMatrix[g + REGION_MASS_CENTER_Y] = 0;\n\n            // Bottom Right sub-region\n            g += PPR;\n            RegionMatrix[g + REGION_NODE] = -1;\n            RegionMatrix[g + REGION_CENTER_X] =\n              RegionMatrix[r + REGION_CENTER_X] + w;\n            RegionMatrix[g + REGION_CENTER_Y] =\n              RegionMatrix[r + REGION_CENTER_Y] + w;\n            RegionMatrix[g + REGION_SIZE] = w;\n            RegionMatrix[g + REGION_NEXT_SIBLING] =\n              RegionMatrix[r + REGION_NEXT_SIBLING];\n            RegionMatrix[g + REGION_FIRST_CHILD] = -1;\n            RegionMatrix[g + REGION_MASS] = 0;\n            RegionMatrix[g + REGION_MASS_CENTER_X] = 0;\n            RegionMatrix[g + REGION_MASS_CENTER_Y] = 0;\n\n            l += 4;\n\n            // Now the goal is to find two different sub-regions\n            // for the two nodes: the one previously recorded (r[0])\n            // and the one we want to add (n)\n\n            // Find the quadrant of the old node\n            if (\n              NodeMatrix[RegionMatrix[r + REGION_NODE] + NODE_X] <\n              RegionMatrix[r + REGION_CENTER_X]\n            ) {\n              if (\n                NodeMatrix[RegionMatrix[r + REGION_NODE] + NODE_Y] <\n                RegionMatrix[r + REGION_CENTER_Y]\n              ) {\n                // Top Left quarter\n                q = RegionMatrix[r + REGION_FIRST_CHILD];\n              } else {\n                // Bottom Left quarter\n                q = RegionMatrix[r + REGION_FIRST_CHILD] + PPR;\n              }\n            } else {\n              if (\n                NodeMatrix[RegionMatrix[r + REGION_NODE] + NODE_Y] <\n                RegionMatrix[r + REGION_CENTER_Y]\n              ) {\n                // Top Right quarter\n                q = RegionMatrix[r + REGION_FIRST_CHILD] + PPR * 2;\n              } else {\n                // Bottom Right quarter\n                q = RegionMatrix[r + REGION_FIRST_CHILD] + PPR * 3;\n              }\n            }\n\n            // We remove r[0] from the region r, add its mass to r and record it in q\n            RegionMatrix[r + REGION_MASS] =\n              NodeMatrix[RegionMatrix[r + REGION_NODE] + NODE_MASS];\n            RegionMatrix[r + REGION_MASS_CENTER_X] =\n              NodeMatrix[RegionMatrix[r + REGION_NODE] + NODE_X];\n            RegionMatrix[r + REGION_MASS_CENTER_Y] =\n              NodeMatrix[RegionMatrix[r + REGION_NODE] + NODE_Y];\n\n            RegionMatrix[q + REGION_NODE] = RegionMatrix[r + REGION_NODE];\n            RegionMatrix[r + REGION_NODE] = -1;\n\n            // Find the quadrant of n\n            if (NodeMatrix[n + NODE_X] < RegionMatrix[r + REGION_CENTER_X]) {\n              if (NodeMatrix[n + NODE_Y] < RegionMatrix[r + REGION_CENTER_Y]) {\n                // Top Left quarter\n                q2 = RegionMatrix[r + REGION_FIRST_CHILD];\n              } else {\n                // Bottom Left quarter\n                q2 = RegionMatrix[r + REGION_FIRST_CHILD] + PPR;\n              }\n            } else {\n              if (NodeMatrix[n + NODE_Y] < RegionMatrix[r + REGION_CENTER_Y]) {\n                // Top Right quarter\n                q2 = RegionMatrix[r + REGION_FIRST_CHILD] + PPR * 2;\n              } else {\n                // Bottom Right quarter\n                q2 = RegionMatrix[r + REGION_FIRST_CHILD] + PPR * 3;\n              }\n            }\n\n            if (q === q2) {\n              // If both nodes are in the same quadrant,\n              // we have to try it again on this quadrant\n              if (subdivisionAttempts--) {\n                r = q;\n                continue; // while\n              } else {\n                // we are out of precision here, and we cannot subdivide anymore\n                // but we have to break the loop anyway\n                subdivisionAttempts = SUBDIVISION_ATTEMPTS;\n                break; // while\n              }\n            }\n\n            // If both quadrants are different, we record n\n            // in its quadrant\n            RegionMatrix[q2 + REGION_NODE] = n;\n            break;\n          }\n        }\n      }\n    }\n  }\n\n  // 2) Repulsion\n  //--------------\n  // NOTES: adjustSizes = antiCollision & scalingRatio = coefficient\n\n  if (options.barnesHutOptimize) {\n    coefficient = options.scalingRatio;\n\n    // Applying repulsion through regions\n    for (n = 0; n < order; n += PPN) {\n      // Computing leaf quad nodes iteration\n\n      r = 0; // Starting with root region\n      while (true) {\n        if (RegionMatrix[r + REGION_FIRST_CHILD] >= 0) {\n          // The region has sub-regions\n\n          // We run the Barnes Hut test to see if we are at the right distance\n          distance =\n            Math.pow(\n              NodeMatrix[n + NODE_X] - RegionMatrix[r + REGION_MASS_CENTER_X],\n              2\n            ) +\n            Math.pow(\n              NodeMatrix[n + NODE_Y] - RegionMatrix[r + REGION_MASS_CENTER_Y],\n              2\n            );\n\n          s = RegionMatrix[r + REGION_SIZE];\n\n          if ((4 * s * s) / distance < thetaSquared) {\n            // We treat the region as a single body, and we repulse\n\n            xDist =\n              NodeMatrix[n + NODE_X] - RegionMatrix[r + REGION_MASS_CENTER_X];\n            yDist =\n              NodeMatrix[n + NODE_Y] - RegionMatrix[r + REGION_MASS_CENTER_Y];\n\n            if (adjustSizes === true) {\n              //-- Linear Anti-collision Repulsion\n              if (distance > 0) {\n                factor =\n                  (coefficient *\n                    NodeMatrix[n + NODE_MASS] *\n                    RegionMatrix[r + REGION_MASS]) /\n                  distance;\n\n                NodeMatrix[n + NODE_DX] += xDist * factor;\n                NodeMatrix[n + NODE_DY] += yDist * factor;\n              } else if (distance < 0) {\n                factor =\n                  (-coefficient *\n                    NodeMatrix[n + NODE_MASS] *\n                    RegionMatrix[r + REGION_MASS]) /\n                  Math.sqrt(distance);\n\n                NodeMatrix[n + NODE_DX] += xDist * factor;\n                NodeMatrix[n + NODE_DY] += yDist * factor;\n              }\n            } else {\n              //-- Linear Repulsion\n              if (distance > 0) {\n                factor =\n                  (coefficient *\n                    NodeMatrix[n + NODE_MASS] *\n                    RegionMatrix[r + REGION_MASS]) /\n                  distance;\n\n                NodeMatrix[n + NODE_DX] += xDist * factor;\n                NodeMatrix[n + NODE_DY] += yDist * factor;\n              }\n            }\n\n            // When this is done, we iterate. We have to look at the next sibling.\n            r = RegionMatrix[r + REGION_NEXT_SIBLING];\n            if (r < 0) break; // No next sibling: we have finished the tree\n\n            continue;\n          } else {\n            // The region is too close and we have to look at sub-regions\n            r = RegionMatrix[r + REGION_FIRST_CHILD];\n            continue;\n          }\n        } else {\n          // The region has no sub-region\n          // If there is a node r[0] and it is not n, then repulse\n          rn = RegionMatrix[r + REGION_NODE];\n\n          if (rn >= 0 && rn !== n) {\n            xDist = NodeMatrix[n + NODE_X] - NodeMatrix[rn + NODE_X];\n            yDist = NodeMatrix[n + NODE_Y] - NodeMatrix[rn + NODE_Y];\n\n            distance = xDist * xDist + yDist * yDist;\n\n            if (adjustSizes === true) {\n              //-- Linear Anti-collision Repulsion\n              if (distance > 0) {\n                factor =\n                  (coefficient *\n                    NodeMatrix[n + NODE_MASS] *\n                    NodeMatrix[rn + NODE_MASS]) /\n                  distance;\n\n                NodeMatrix[n + NODE_DX] += xDist * factor;\n                NodeMatrix[n + NODE_DY] += yDist * factor;\n              } else if (distance < 0) {\n                factor =\n                  (-coefficient *\n                    NodeMatrix[n + NODE_MASS] *\n                    NodeMatrix[rn + NODE_MASS]) /\n                  Math.sqrt(distance);\n\n                NodeMatrix[n + NODE_DX] += xDist * factor;\n                NodeMatrix[n + NODE_DY] += yDist * factor;\n              }\n            } else {\n              //-- Linear Repulsion\n              if (distance > 0) {\n                factor =\n                  (coefficient *\n                    NodeMatrix[n + NODE_MASS] *\n                    NodeMatrix[rn + NODE_MASS]) /\n                  distance;\n\n                NodeMatrix[n + NODE_DX] += xDist * factor;\n                NodeMatrix[n + NODE_DY] += yDist * factor;\n              }\n            }\n          }\n\n          // When this is done, we iterate. We have to look at the next sibling.\n          r = RegionMatrix[r + REGION_NEXT_SIBLING];\n\n          if (r < 0) break; // No next sibling: we have finished the tree\n\n          continue;\n        }\n      }\n    }\n  } else {\n    coefficient = options.scalingRatio;\n\n    // Square iteration\n    for (n1 = 0; n1 < order; n1 += PPN) {\n      for (n2 = 0; n2 < n1; n2 += PPN) {\n        // Common to both methods\n        xDist = NodeMatrix[n1 + NODE_X] - NodeMatrix[n2 + NODE_X];\n        yDist = NodeMatrix[n1 + NODE_Y] - NodeMatrix[n2 + NODE_Y];\n\n        if (adjustSizes === true) {\n          //-- Anticollision Linear Repulsion\n          distance =\n            Math.sqrt(xDist * xDist + yDist * yDist) -\n            NodeMatrix[n1 + NODE_SIZE] -\n            NodeMatrix[n2 + NODE_SIZE];\n\n          if (distance > 0) {\n            factor =\n              (coefficient *\n                NodeMatrix[n1 + NODE_MASS] *\n                NodeMatrix[n2 + NODE_MASS]) /\n              distance /\n              distance;\n\n            // Updating nodes' dx and dy\n            NodeMatrix[n1 + NODE_DX] += xDist * factor;\n            NodeMatrix[n1 + NODE_DY] += yDist * factor;\n\n            NodeMatrix[n2 + NODE_DX] -= xDist * factor;\n            NodeMatrix[n2 + NODE_DY] -= yDist * factor;\n          } else if (distance < 0) {\n            factor =\n              100 *\n              coefficient *\n              NodeMatrix[n1 + NODE_MASS] *\n              NodeMatrix[n2 + NODE_MASS];\n\n            // Updating nodes' dx and dy\n            NodeMatrix[n1 + NODE_DX] += xDist * factor;\n            NodeMatrix[n1 + NODE_DY] += yDist * factor;\n\n            NodeMatrix[n2 + NODE_DX] -= xDist * factor;\n            NodeMatrix[n2 + NODE_DY] -= yDist * factor;\n          }\n        } else {\n          //-- Linear Repulsion\n          distance = Math.sqrt(xDist * xDist + yDist * yDist);\n\n          if (distance > 0) {\n            factor =\n              (coefficient *\n                NodeMatrix[n1 + NODE_MASS] *\n                NodeMatrix[n2 + NODE_MASS]) /\n              distance /\n              distance;\n\n            // Updating nodes' dx and dy\n            NodeMatrix[n1 + NODE_DX] += xDist * factor;\n            NodeMatrix[n1 + NODE_DY] += yDist * factor;\n\n            NodeMatrix[n2 + NODE_DX] -= xDist * factor;\n            NodeMatrix[n2 + NODE_DY] -= yDist * factor;\n          }\n        }\n      }\n    }\n  }\n\n  // 3) Gravity\n  //------------\n  g = options.gravity / options.scalingRatio;\n  coefficient = options.scalingRatio;\n  for (n = 0; n < order; n += PPN) {\n    factor = 0;\n\n    // Common to both methods\n    xDist = NodeMatrix[n + NODE_X];\n    yDist = NodeMatrix[n + NODE_Y];\n    distance = Math.sqrt(Math.pow(xDist, 2) + Math.pow(yDist, 2));\n\n    if (options.strongGravityMode) {\n      //-- Strong gravity\n      if (distance > 0) factor = coefficient * NodeMatrix[n + NODE_MASS] * g;\n    } else {\n      //-- Linear Anti-collision Repulsion n\n      if (distance > 0)\n        factor = (coefficient * NodeMatrix[n + NODE_MASS] * g) / distance;\n    }\n\n    // Updating node's dx and dy\n    NodeMatrix[n + NODE_DX] -= xDist * factor;\n    NodeMatrix[n + NODE_DY] -= yDist * factor;\n  }\n\n  // 4) Attraction\n  //---------------\n  coefficient =\n    1 * (options.outboundAttractionDistribution ? outboundAttCompensation : 1);\n\n  // TODO: simplify distance\n  // TODO: coefficient is always used as -c --> optimize?\n  for (e = 0; e < size; e += PPE) {\n    n1 = EdgeMatrix[e + EDGE_SOURCE];\n    n2 = EdgeMatrix[e + EDGE_TARGET];\n    w = EdgeMatrix[e + EDGE_WEIGHT];\n\n    // Edge weight influence\n    ewc = Math.pow(w, options.edgeWeightInfluence);\n\n    // Common measures\n    xDist = NodeMatrix[n1 + NODE_X] - NodeMatrix[n2 + NODE_X];\n    yDist = NodeMatrix[n1 + NODE_Y] - NodeMatrix[n2 + NODE_Y];\n\n    // Applying attraction to nodes\n    if (adjustSizes === true) {\n      distance =\n        Math.sqrt(xDist * xDist + yDist * yDist) -\n        NodeMatrix[n1 + NODE_SIZE] -\n        NodeMatrix[n2 + NODE_SIZE];\n\n      if (options.linLogMode) {\n        if (options.outboundAttractionDistribution) {\n          //-- LinLog Degree Distributed Anti-collision Attraction\n          if (distance > 0) {\n            factor =\n              (-coefficient * ewc * Math.log(1 + distance)) /\n              distance /\n              NodeMatrix[n1 + NODE_MASS];\n          }\n        } else {\n          //-- LinLog Anti-collision Attraction\n          if (distance > 0) {\n            factor = (-coefficient * ewc * Math.log(1 + distance)) / distance;\n          }\n        }\n      } else {\n        if (options.outboundAttractionDistribution) {\n          //-- Linear Degree Distributed Anti-collision Attraction\n          if (distance > 0) {\n            factor = (-coefficient * ewc) / NodeMatrix[n1 + NODE_MASS];\n          }\n        } else {\n          //-- Linear Anti-collision Attraction\n          if (distance > 0) {\n            factor = -coefficient * ewc;\n          }\n        }\n      }\n    } else {\n      distance = Math.sqrt(Math.pow(xDist, 2) + Math.pow(yDist, 2));\n\n      if (options.linLogMode) {\n        if (options.outboundAttractionDistribution) {\n          //-- LinLog Degree Distributed Attraction\n          if (distance > 0) {\n            factor =\n              (-coefficient * ewc * Math.log(1 + distance)) /\n              distance /\n              NodeMatrix[n1 + NODE_MASS];\n          }\n        } else {\n          //-- LinLog Attraction\n          if (distance > 0)\n            factor = (-coefficient * ewc * Math.log(1 + distance)) / distance;\n        }\n      } else {\n        if (options.outboundAttractionDistribution) {\n          //-- Linear Attraction Mass Distributed\n          // NOTE: Distance is set to 1 to override next condition\n          distance = 1;\n          factor = (-coefficient * ewc) / NodeMatrix[n1 + NODE_MASS];\n        } else {\n          //-- Linear Attraction\n          // NOTE: Distance is set to 1 to override next condition\n          distance = 1;\n          factor = -coefficient * ewc;\n        }\n      }\n    }\n\n    // Updating nodes' dx and dy\n    // TODO: if condition or factor = 1?\n    if (distance > 0) {\n      // Updating nodes' dx and dy\n      NodeMatrix[n1 + NODE_DX] += xDist * factor;\n      NodeMatrix[n1 + NODE_DY] += yDist * factor;\n\n      NodeMatrix[n2 + NODE_DX] -= xDist * factor;\n      NodeMatrix[n2 + NODE_DY] -= yDist * factor;\n    }\n  }\n\n  // 5) Apply Forces\n  //-----------------\n  var force, swinging, traction, nodespeed, newX, newY;\n\n  // MATH: sqrt and square distances\n  if (adjustSizes === true) {\n    for (n = 0; n < order; n += PPN) {\n      if (NodeMatrix[n + NODE_FIXED] !== 1) {\n        force = Math.sqrt(\n          Math.pow(NodeMatrix[n + NODE_DX], 2) +\n            Math.pow(NodeMatrix[n + NODE_DY], 2)\n        );\n\n        if (force > MAX_FORCE) {\n          NodeMatrix[n + NODE_DX] =\n            (NodeMatrix[n + NODE_DX] * MAX_FORCE) / force;\n          NodeMatrix[n + NODE_DY] =\n            (NodeMatrix[n + NODE_DY] * MAX_FORCE) / force;\n        }\n\n        swinging =\n          NodeMatrix[n + NODE_MASS] *\n          Math.sqrt(\n            (NodeMatrix[n + NODE_OLD_DX] - NodeMatrix[n + NODE_DX]) *\n              (NodeMatrix[n + NODE_OLD_DX] - NodeMatrix[n + NODE_DX]) +\n              (NodeMatrix[n + NODE_OLD_DY] - NodeMatrix[n + NODE_DY]) *\n                (NodeMatrix[n + NODE_OLD_DY] - NodeMatrix[n + NODE_DY])\n          );\n\n        traction =\n          Math.sqrt(\n            (NodeMatrix[n + NODE_OLD_DX] + NodeMatrix[n + NODE_DX]) *\n              (NodeMatrix[n + NODE_OLD_DX] + NodeMatrix[n + NODE_DX]) +\n              (NodeMatrix[n + NODE_OLD_DY] + NodeMatrix[n + NODE_DY]) *\n                (NodeMatrix[n + NODE_OLD_DY] + NodeMatrix[n + NODE_DY])\n          ) / 2;\n\n        nodespeed = (0.1 * Math.log(1 + traction)) / (1 + Math.sqrt(swinging));\n\n        // Updating node's positon\n        newX =\n          NodeMatrix[n + NODE_X] +\n          NodeMatrix[n + NODE_DX] * (nodespeed / options.slowDown);\n        NodeMatrix[n + NODE_X] = newX;\n\n        newY =\n          NodeMatrix[n + NODE_Y] +\n          NodeMatrix[n + NODE_DY] * (nodespeed / options.slowDown);\n        NodeMatrix[n + NODE_Y] = newY;\n      }\n    }\n  } else {\n    for (n = 0; n < order; n += PPN) {\n      if (NodeMatrix[n + NODE_FIXED] !== 1) {\n        swinging =\n          NodeMatrix[n + NODE_MASS] *\n          Math.sqrt(\n            (NodeMatrix[n + NODE_OLD_DX] - NodeMatrix[n + NODE_DX]) *\n              (NodeMatrix[n + NODE_OLD_DX] - NodeMatrix[n + NODE_DX]) +\n              (NodeMatrix[n + NODE_OLD_DY] - NodeMatrix[n + NODE_DY]) *\n                (NodeMatrix[n + NODE_OLD_DY] - NodeMatrix[n + NODE_DY])\n          );\n\n        traction =\n          Math.sqrt(\n            (NodeMatrix[n + NODE_OLD_DX] + NodeMatrix[n + NODE_DX]) *\n              (NodeMatrix[n + NODE_OLD_DX] + NodeMatrix[n + NODE_DX]) +\n              (NodeMatrix[n + NODE_OLD_DY] + NodeMatrix[n + NODE_DY]) *\n                (NodeMatrix[n + NODE_OLD_DY] + NodeMatrix[n + NODE_DY])\n          ) / 2;\n\n        nodespeed =\n          (NodeMatrix[n + NODE_CONVERGENCE] * Math.log(1 + traction)) /\n          (1 + Math.sqrt(swinging));\n\n        // Updating node convergence\n        NodeMatrix[n + NODE_CONVERGENCE] = Math.min(\n          1,\n          Math.sqrt(\n            (nodespeed *\n              (Math.pow(NodeMatrix[n + NODE_DX], 2) +\n                Math.pow(NodeMatrix[n + NODE_DY], 2))) /\n              (1 + Math.sqrt(swinging))\n          )\n        );\n\n        // Updating node's positon\n        newX =\n          NodeMatrix[n + NODE_X] +\n          NodeMatrix[n + NODE_DX] * (nodespeed / options.slowDown);\n        NodeMatrix[n + NODE_X] = newX;\n\n        newY =\n          NodeMatrix[n + NODE_Y] +\n          NodeMatrix[n + NODE_DY] * (nodespeed / options.slowDown);\n        NodeMatrix[n + NODE_Y] = newY;\n      }\n    }\n  }\n\n  // We return the information about the layout (no need to return the matrices)\n  return {};\n};\n","/**\n * Graphology Betweenness Centrality\n * ==================================\n *\n * Function computing betweenness centrality.\n */\nvar isGraph = require('graphology-utils/is-graph');\nvar lib = require('graphology-shortest-path/indexed-brandes');\nvar resolveDefaults = require('graphology-utils/defaults');\n\nvar createUnweightedIndexedBrandes = lib.createUnweightedIndexedBrandes;\nvar createDijkstraIndexedBrandes = lib.createDijkstraIndexedBrandes;\n\n/**\n * Defaults.\n */\nvar DEFAULTS = {\n  nodeCentralityAttribute: 'betweennessCentrality',\n  getEdgeWeight: 'weight',\n  normalized: true\n};\n\n/**\n * Abstract function computing beetweenness centrality for the given graph.\n *\n * @param  {boolean} assign                      - Assign the results to node attributes?\n * @param  {Graph}   graph                       - Target graph.\n * @param  {object}  [options]                   - Options:\n * @param  {object}    [nodeCentralityAttribute] - Name of the attribute to assign.\n * @param  {string}    [getEdgeWeight]           - Name of the weight attribute or getter function.\n * @param  {boolean}   [normalized]              - Should the centrality be normalized?\n * @param  {object}\n */\nfunction abstractBetweennessCentrality(assign, graph, options) {\n  if (!isGraph(graph))\n    throw new Error(\n      'graphology-centrality/beetweenness-centrality: the given graph is not a valid graphology instance.'\n    );\n\n  // Solving options\n  options = resolveDefaults(options, DEFAULTS);\n\n  var outputName = options.nodeCentralityAttribute;\n  var normalized = options.normalized;\n\n  var brandes = options.getEdgeWeight\n    ? createDijkstraIndexedBrandes(graph, options.getEdgeWeight)\n    : createUnweightedIndexedBrandes(graph);\n\n  var N = graph.order;\n\n  var result, S, P, sigma, coefficient, i, j, m, v, w;\n\n  var delta = new Float64Array(N);\n  var centralities = new Float64Array(N);\n\n  // Iterating over each node\n  for (i = 0; i < N; i++) {\n    result = brandes(i);\n\n    S = result[0];\n    P = result[1];\n    sigma = result[2];\n\n    // Accumulating\n    j = S.size;\n\n    while (j--) delta[S.items[S.size - j]] = 0;\n\n    while (S.size !== 0) {\n      w = S.pop();\n      coefficient = (1 + delta[w]) / sigma[w];\n\n      for (j = 0, m = P[w].length; j < m; j++) {\n        v = P[w][j];\n        delta[v] += sigma[v] * coefficient;\n      }\n\n      if (w !== i) centralities[w] += delta[w];\n    }\n  }\n\n  // Rescaling\n  var scale = null;\n\n  if (normalized) scale = N <= 2 ? null : 1 / ((N - 1) * (N - 2));\n  else scale = graph.type === 'undirected' ? 0.5 : null;\n\n  if (scale !== null) {\n    for (i = 0; i < N; i++) centralities[i] *= scale;\n  }\n\n  if (assign) return brandes.index.assign(outputName, centralities);\n\n  return brandes.index.collect(centralities);\n}\n\n/**\n * Exporting.\n */\nvar betweennessCentrality = abstractBetweennessCentrality.bind(null, false);\nbetweennessCentrality.assign = abstractBetweennessCentrality.bind(null, true);\n\nmodule.exports = betweennessCentrality;\n","/**\n * Graphology Closeness Centrality\n * ================================\n *\n * JavaScript implementation of the closeness centrality\n *\n * [References]:\n * https://en.wikipedia.org/wiki/Closeness_centrality\n *\n * Linton C. Freeman: Centrality in networks: I.\n * Conceptual clarification. Social Networks 1:215-239, 1979.\n * https://doi.org/10.1016/0378-8733(78)90021-7\n *\n * pg. 201 of Wasserman, S. and Faust, K.,\n * Social Network Analysis: Methods and Applications, 1994,\n * Cambridge University Press.\n */\nvar isGraph = require('graphology-utils/is-graph');\nvar resolveDefaults = require('graphology-utils/defaults');\nvar FixedDeque = require('mnemonist/fixed-deque');\nvar SparseSet = require('mnemonist/sparse-set');\nvar NeighborhoodIndex =\n  require('graphology-indices/neighborhood').NeighborhoodIndex;\n\n// TODO: can be computed for a single node\n// TODO: weighted\n// TODO: abstract the single source indexed shortest path in lib\n// TODO: what about self loops?\n// TODO: refactor a BFSQueue working on integer ranges in graphology-indices?\n\n/**\n * Defaults.\n */\nvar DEFAULTS = {\n  nodeCentralityAttribute: 'closenessCentrality',\n  wassermanFaust: false\n};\n\n/**\n * Helpers.\n */\nfunction IndexedBFS(graph) {\n  this.index = new NeighborhoodIndex(graph, 'inbound');\n  this.queue = new FixedDeque(Array, graph.order);\n  this.seen = new SparseSet(graph.order);\n}\n\nIndexedBFS.prototype.fromNode = function (i) {\n  var index = this.index;\n  var queue = this.queue;\n  var seen = this.seen;\n\n  seen.clear();\n  queue.clear();\n\n  seen.add(i);\n  queue.push([i, 0]);\n\n  var item, n, d, j, l, neighbor;\n\n  var total = 0;\n  var count = 0;\n\n  while (queue.size !== 0) {\n    item = queue.shift();\n    n = item[0];\n    d = item[1];\n\n    if (d !== 0) {\n      total += d;\n      count += 1;\n    }\n\n    l = index.starts[n + 1];\n\n    for (j = index.starts[n]; j < l; j++) {\n      neighbor = index.neighborhood[j];\n\n      if (seen.has(neighbor)) continue;\n\n      seen.add(neighbor);\n      queue.push([neighbor, d + 1]);\n    }\n  }\n\n  return [count, total];\n};\n\n/**\n * Abstract function computing the closeness centrality of a graph's nodes.\n *\n * @param  {boolean}  assign        - Should we assign the result to nodes.\n * @param  {Graph}    graph         - Target graph.\n * @param  {?object}  option        - Options:\n * @param  {?string}   nodeCentralityAttribute - Name of the centrality attribute to assign.\n * @param  {?boolean}  wassermanFaust - Whether to compute the Wasserman & Faust\n *                                      variant of the metric.\n * @return {object|undefined}\n */\nfunction abstractClosenessCentrality(assign, graph, options) {\n  if (!isGraph(graph))\n    throw new Error(\n      'graphology-metrics/centrality/closeness: the given graph is not a valid graphology instance.'\n    );\n\n  options = resolveDefaults(options, DEFAULTS);\n\n  var wassermanFaust = options.wassermanFaust;\n\n  var bfs = new IndexedBFS(graph);\n\n  var N = graph.order;\n\n  var i, result, count, total, closeness;\n\n  var mapping = new Float64Array(N);\n\n  for (i = 0; i < N; i++) {\n    result = bfs.fromNode(i);\n    count = result[0];\n    total = result[1];\n\n    closeness = 0;\n\n    if (total > 0 && N > 1) {\n      closeness = count / total;\n\n      if (wassermanFaust) {\n        closeness *= count / (N - 1);\n      }\n    }\n\n    mapping[i] = closeness;\n  }\n\n  if (assign) {\n    return bfs.index.assign(options.nodeCentralityAttribute, mapping);\n  }\n\n  return bfs.index.collect(mapping);\n}\n\n/**\n * Exporting.\n */\nvar closenessCentrality = abstractClosenessCentrality.bind(null, false);\nclosenessCentrality.assign = abstractClosenessCentrality.bind(null, true);\n\nmodule.exports = closenessCentrality;\n","/**\n * Graphology Degree Centrality\n * =============================\n *\n * Function computing degree centrality.\n */\nvar isGraph = require('graphology-utils/is-graph');\n\n/**\n * Asbtract function to perform any kind of degree centrality.\n *\n * Intuitively, the degree centrality of a node is the fraction of nodes it\n * is connected to.\n *\n * @param  {boolean} assign           - Whether to assign the result to the nodes.\n * @param  {string}  method           - Method of the graph to get the degree.\n * @param  {Graph}   graph            - A graphology instance.\n * @param  {object}  [options]        - Options:\n * @param  {string}    [nodeCentralityAttribute] - Name of the attribute to assign.\n * @return {object|void}\n */\nfunction abstractDegreeCentrality(assign, method, graph, options) {\n  var name = method + 'Centrality';\n\n  if (!isGraph(graph))\n    throw new Error(\n      'graphology-centrality/' +\n        name +\n        ': the given graph is not a valid graphology instance.'\n    );\n\n  if (method !== 'degree' && graph.type === 'undirected')\n    throw new Error(\n      'graphology-centrality/' +\n        name +\n        ': cannot compute ' +\n        method +\n        ' centrality on an undirected graph.'\n    );\n\n  // Solving options\n  options = options || {};\n\n  var centralityAttribute = options.nodeCentralityAttribute || name;\n\n  var ratio = graph.order - 1;\n  var getDegree = graph[method].bind(graph);\n\n  if (assign) {\n    graph.updateEachNodeAttributes(\n      function (node, attr) {\n        attr[centralityAttribute] = getDegree(node) / ratio;\n        return attr;\n      },\n      {attributes: [centralityAttribute]}\n    );\n\n    return;\n  }\n\n  var centralities = {};\n\n  graph.forEachNode(function (node) {\n    centralities[node] = getDegree(node) / ratio;\n  });\n\n  return centralities;\n}\n\n/**\n * Building various functions to export.\n */\nvar degreeCentrality = abstractDegreeCentrality.bind(null, false, 'degree');\nvar inDegreeCentrality = abstractDegreeCentrality.bind(null, false, 'inDegree');\nvar outDegreeCentrality = abstractDegreeCentrality.bind(\n  null,\n  false,\n  'outDegree'\n);\n\ndegreeCentrality.assign = abstractDegreeCentrality.bind(null, true, 'degree');\ninDegreeCentrality.assign = abstractDegreeCentrality.bind(\n  null,\n  true,\n  'inDegree'\n);\noutDegreeCentrality.assign = abstractDegreeCentrality.bind(\n  null,\n  true,\n  'outDegree'\n);\n\n/**\n * Exporting.\n */\nexports.degreeCentrality = degreeCentrality;\nexports.inDegreeCentrality = inDegreeCentrality;\nexports.outDegreeCentrality = outDegreeCentrality;\n","/**\n * Graphology Eigenvector Centrality\n * ==================================\n *\n * JavaScript implementation of the eigenvector centrality.\n *\n * [References]:\n * https://en.wikipedia.org/wiki/Eigenvector_centrality\n *\n * Phillip Bonacich. \"Power and Centrality: A Family of Measures.\"\n * American Journal of Sociology, 92(5):1170–1182, 1986\n * http://www.leonidzhukov.net/hse/2014/socialnetworks/papers/Bonacich-Centrality.pdf\n *\n * Mark E. J. Newman.\n * Networks: An Introduct *\n * Oxford University Press, USA, 2010, pp. 169.\n */\nvar isGraph = require('graphology-utils/is-graph');\nvar resolveDefaults = require('graphology-utils/defaults');\nvar WeightedNeighborhoodIndex =\n  require('graphology-indices/neighborhood').WeightedNeighborhoodIndex;\n\n/**\n * Defaults.\n */\nvar DEFAULTS = {\n  nodeCentralityAttribute: 'eigenvectorCentrality',\n  getEdgeWeight: 'weight',\n  maxIterations: 100,\n  tolerance: 1e-6\n};\n\n/**\n * Helpers.\n */\nfunction safeVariadicHypot(x) {\n  var max = 0;\n  var s = 0;\n\n  for (var i = 0, l = x.length; i < l; i++) {\n    var n = Math.abs(x[i]);\n\n    if (n > max) {\n      s *= (max / n) * (max / n);\n      max = n;\n    }\n    s += n === 0 && max === 0 ? 0 : (n / max) * (n / max);\n  }\n\n  // NOTE: In case of numerical error we'll assume the norm is 1 in our case!\n  return max === Infinity ? 1 : max * Math.sqrt(s);\n}\n\n/**\n * Abstract function computing the eigenvector centrality of a graph's nodes.\n *\n * @param  {boolean}  assign        - Should we assign the result to nodes.\n * @param  {Graph}    graph         - Target graph.\n * @param  {?object}  option        - Options:\n * @param  {?string}    nodeCentralityAttribute - Name of the centrality attribute to assign.\n * @param  {?string}    getEdgeWeight - Name of the weight algorithm or getter function.\n * @param  {?number}    maxIterations - Maximum number of iterations to perform.\n * @param  {?number}    tolerance     - Error tolerance when checking for convergence.\n * @return {object|undefined}\n */\nfunction abstractEigenvectorCentrality(assign, graph, options) {\n  if (!isGraph(graph))\n    throw new Error(\n      'graphology-metrics/centrality/eigenvector: the given graph is not a valid graphology instance.'\n    );\n\n  options = resolveDefaults(options, DEFAULTS);\n\n  var maxIterations = options.maxIterations;\n  var tolerance = options.tolerance;\n\n  var N = graph.order;\n\n  var index = new WeightedNeighborhoodIndex(graph, options.getEdgeWeight);\n\n  var i, j, l, w;\n\n  var x = new Float64Array(graph.order);\n\n  // Initializing\n  for (i = 0; i < N; i++) {\n    x[i] = 1 / N;\n  }\n\n  // Power iterations\n  var iteration = 0;\n  var error = 0;\n  var neighbor, xLast, norm;\n  var converged = false;\n\n  while (iteration < maxIterations) {\n    xLast = x;\n    x = new Float64Array(xLast);\n\n    for (i = 0; i < N; i++) {\n      l = index.starts[i + 1];\n\n      for (j = index.starts[i]; j < l; j++) {\n        neighbor = index.neighborhood[j];\n        w = index.weights[j];\n        x[neighbor] += xLast[i] * w;\n      }\n    }\n\n    norm = safeVariadicHypot(x);\n\n    for (i = 0; i < N; i++) {\n      x[i] /= norm;\n    }\n\n    // Checking convergence\n    error = 0;\n\n    for (i = 0; i < N; i++) {\n      error += Math.abs(x[i] - xLast[i]);\n    }\n\n    if (error < N * tolerance) {\n      converged = true;\n      break;\n    }\n\n    iteration++;\n  }\n\n  if (!converged)\n    throw Error(\n      'graphology-metrics/centrality/eigenvector: failed to converge.'\n    );\n\n  if (assign) {\n    index.assign(options.nodeCentralityAttribute, x);\n    return;\n  }\n\n  return index.collect(x);\n}\n\n/**\n * Exporting.\n */\nvar eigenvectorCentrality = abstractEigenvectorCentrality.bind(null, false);\neigenvectorCentrality.assign = abstractEigenvectorCentrality.bind(null, true);\n\nmodule.exports = eigenvectorCentrality;\n","/**\n * Graphology HITS Algorithm\n * ==========================\n *\n * Implementation of the HITS algorithm for the graphology specs.\n */\nvar resolveDefaults = require('graphology-utils/defaults');\nvar isGraph = require('graphology-utils/is-graph');\nvar createEdgeWeightGetter =\n  require('graphology-utils/getters').createEdgeWeightGetter;\n\n// TODO: optimize using NeighborhoodIndex\n\n/**\n * Defaults.\n */\nvar DEFAULTS = {\n  nodeAuthorityAttribute: 'authority',\n  nodeHubAttribute: 'hub',\n  getEdgeWeight: 'weight',\n  maxIterations: 100,\n  normalize: true,\n  tolerance: 1e-8\n};\n\n/**\n * Function returning an object with the given keys set to the given value.\n *\n * @param  {array}  keys  - Keys to set.\n * @param  {number} value - Value to set.\n * @return {object}       - The created object.\n */\nfunction dict(keys, value) {\n  var o = Object.create(null);\n\n  var i, l;\n\n  for (i = 0, l = keys.length; i < l; i++) o[keys[i]] = value;\n\n  return o;\n}\n\n/**\n * Function returning the sum of an object's values.\n *\n * @param  {object} o - Target object.\n * @return {number}   - The sum.\n */\nfunction sum(o) {\n  var nb = 0;\n\n  for (var k in o) nb += o[k];\n\n  return nb;\n}\n\n/**\n * HITS function taking a Graph instance & some options and returning a map\n * of nodes to their hubs & authorities.\n *\n * @param  {boolean} assign    - Should we assign the results as node attributes?\n * @param  {Graph}   graph     - A Graph instance.\n * @param  {object}  [options] - Options:\n * @param  {number}    [maxIterations] - Maximum number of iterations to perform.\n * @param  {boolean}   [normalize]     - Whether to normalize the results by the\n *                                       sum of all values.\n * @param  {number}    [tolerance]     - Error tolerance used to check\n *                                       convergence in power method iteration.\n */\nfunction hits(assign, graph, options) {\n  if (!isGraph(graph))\n    throw new Error(\n      'graphology-hits: the given graph is not a valid graphology instance.'\n    );\n\n  if (graph.multi)\n    throw new Error(\n      'graphology-hits: the HITS algorithm does not work with MultiGraphs.'\n    );\n\n  options = resolveDefaults(options, DEFAULTS);\n\n  var getEdgeWeight = createEdgeWeightGetter(options.getEdgeWeight).fromEntry;\n\n  // Variables\n  var order = graph.order;\n  var nodes = graph.nodes();\n  var edges;\n  var hubs = dict(nodes, 1 / order);\n  var weights = {};\n  var converged = false;\n  var lastHubs;\n  var authorities;\n\n  // Iteration variables\n  var node, neighbor, edge, iteration, maxAuthority, maxHub, error, S, i, j, m;\n\n  // Indexing weights\n  graph.forEachEdge(function (e, a, s, t, sa, ta, u) {\n    weights[e] = getEdgeWeight(e, a, s, t, sa, ta, u);\n  });\n\n  // Performing iterations\n  for (iteration = 0; iteration < options.maxIterations; iteration++) {\n    lastHubs = hubs;\n    hubs = dict(nodes, 0);\n    authorities = dict(nodes, 0);\n    maxHub = 0;\n    maxAuthority = 0;\n\n    // Iterating over nodes to update authorities\n    for (i = 0; i < order; i++) {\n      node = nodes[i];\n      edges = graph.outboundEdges(node);\n\n      // Iterating over neighbors\n      for (j = 0, m = edges.length; j < m; j++) {\n        edge = edges[j];\n        neighbor = graph.opposite(node, edge);\n\n        authorities[neighbor] += lastHubs[node] * weights[edge];\n\n        if (authorities[neighbor] > maxAuthority)\n          maxAuthority = authorities[neighbor];\n      }\n    }\n\n    // Iterating over nodes to update hubs\n    for (i = 0; i < order; i++) {\n      node = nodes[i];\n      edges = graph.outboundEdges(node);\n\n      for (j = 0, m = edges.length; j < m; j++) {\n        edge = edges[j];\n        neighbor = graph.opposite(node, edge);\n\n        hubs[node] += authorities[neighbor] * weights[edge];\n\n        if (hubs[neighbor] > maxHub) maxHub = hubs[neighbor];\n      }\n    }\n\n    // Normalizing\n    S = 1 / maxHub;\n\n    for (node in hubs) hubs[node] *= S;\n\n    S = 1 / maxAuthority;\n\n    for (node in authorities) authorities[node] *= S;\n\n    // Checking convergence\n    error = 0;\n\n    for (node in hubs) error += Math.abs(hubs[node] - lastHubs[node]);\n\n    if (error < options.tolerance) {\n      converged = true;\n      break;\n    }\n  }\n\n  if (!converged)\n    throw Error('graphology-metrics/centrality/hits: failed to converge.');\n\n  // Should we normalize the result?\n  if (options.normalize) {\n    S = 1 / sum(authorities);\n\n    for (node in authorities) authorities[node] *= S;\n\n    S = 1 / sum(hubs);\n\n    for (node in hubs) hubs[node] *= S;\n  }\n\n  // Should we assign the results to the graph?\n  if (assign) {\n    graph.updateEachNodeAttributes(\n      function (n, attr) {\n        attr[options.nodeAuthorityAttribute] = authorities[n];\n        attr[options.nodeHubAttribute] = hubs[n];\n\n        return attr;\n      },\n      {\n        attributes: [options.nodeAuthorityAttribute, options.nodeHubAttribute]\n      }\n    );\n\n    return;\n  }\n\n  return {hubs: hubs, authorities: authorities};\n}\n\n/**\n * Exporting.\n */\nvar main = hits.bind(null, false);\nmain.assign = hits.bind(null, true);\n\nmodule.exports = main;\n","/**\n * Graphology Pagerank\n * ====================\n *\n * JavaScript implementation of the pagerank algorithm for graphology.\n *\n * [Reference]:\n * Page, Lawrence; Brin, Sergey; Motwani, Rajeev and Winograd, Terry,\n * The PageRank citation ranking: Bringing order to the Web. 1999\n */\nvar isGraph = require('graphology-utils/is-graph');\nvar resolveDefaults = require('graphology-utils/defaults');\nvar WeightedNeighborhoodIndex =\n  require('graphology-indices/neighborhood').WeightedNeighborhoodIndex;\n\n/**\n * Defaults.\n */\nvar DEFAULTS = {\n  nodePagerankAttribute: 'pagerank',\n  getEdgeWeight: 'weight',\n  alpha: 0.85,\n  maxIterations: 100,\n  tolerance: 1e-6\n};\n\n/**\n * Abstract function applying the pagerank algorithm to the given graph.\n *\n * @param  {boolean}  assign        - Should we assign the result to nodes.\n * @param  {Graph}    graph         - Target graph.\n * @param  {?object}  option        - Options:\n * @param  {?object}    attributes  - Custom attribute names:\n * @param  {?string}      pagerank  - Name of the pagerank attribute to assign.\n * @param  {?string}      weight    - Name of the weight algorithm.\n * @param  {?number}  alpha         - Damping parameter.\n * @param  {?number}  maxIterations - Maximum number of iterations to perform.\n * @param  {?number}  tolerance     - Error tolerance when checking for convergence.\n * @param  {?boolean} weighted      - Should we use the graph's weights.\n * @return {object|undefined}\n */\nfunction abstractPagerank(assign, graph, options) {\n  if (!isGraph(graph))\n    throw new Error(\n      'graphology-metrics/centrality/pagerank: the given graph is not a valid graphology instance.'\n    );\n\n  options = resolveDefaults(options, DEFAULTS);\n\n  var alpha = options.alpha;\n  var maxIterations = options.maxIterations;\n  var tolerance = options.tolerance;\n\n  var pagerankAttribute = options.nodePagerankAttribute;\n\n  var N = graph.order;\n  var p = 1 / N;\n\n  var index = new WeightedNeighborhoodIndex(graph, options.getEdgeWeight);\n\n  var i, j, l, d;\n\n  var x = new Float64Array(graph.order);\n\n  // Normalizing edge weights & indexing dangling nodes\n  var normalizedEdgeWeights = new Float64Array(index.weights.length);\n  var danglingNodes = [];\n\n  for (i = 0; i < N; i++) {\n    x[i] = p;\n    l = index.starts[i + 1];\n    d = index.outDegrees[i];\n\n    if (d === 0) danglingNodes.push(i);\n\n    for (j = index.starts[i]; j < l; j++) {\n      normalizedEdgeWeights[j] = index.weights[j] / d;\n    }\n  }\n\n  // Power iterations\n  var iteration = 0;\n  var error = 0;\n  var dangleSum, neighbor, xLast;\n  var converged = false;\n\n  while (iteration < maxIterations) {\n    xLast = x;\n    x = new Float64Array(graph.order); // TODO: it should be possible to swap two arrays to avoid allocations (bench)\n\n    dangleSum = 0;\n\n    for (i = 0, l = danglingNodes.length; i < l; i++)\n      dangleSum += xLast[danglingNodes[i]];\n\n    dangleSum *= alpha;\n\n    for (i = 0; i < N; i++) {\n      l = index.starts[i + 1];\n\n      for (j = index.starts[i]; j < l; j++) {\n        neighbor = index.neighborhood[j];\n        x[neighbor] += alpha * xLast[i] * normalizedEdgeWeights[j];\n      }\n\n      x[i] += dangleSum * p + (1 - alpha) * p;\n    }\n\n    // Checking convergence\n    error = 0;\n\n    for (i = 0; i < N; i++) {\n      error += Math.abs(x[i] - xLast[i]);\n    }\n\n    if (error < N * tolerance) {\n      converged = true;\n      break;\n    }\n\n    iteration++;\n  }\n\n  if (!converged)\n    throw Error('graphology-metrics/centrality/pagerank: failed to converge.');\n\n  if (assign) {\n    index.assign(pagerankAttribute, x);\n    return;\n  }\n\n  return index.collect(x);\n}\n\n/**\n * Exporting.\n */\nvar pagerank = abstractPagerank.bind(null, false);\npagerank.assign = abstractPagerank.bind(null, true);\n\nmodule.exports = pagerank;\n","/**\n * Graphology Simmelian Strength\n * ==============================\n *\n * Function computing the Simmelian strength, i.e. the number of triangles in\n * which an edge stands, for each edge in a given graph.\n */\nvar isGraph = require('graphology-utils/is-graph');\nvar intersectionSize = require('mnemonist/set').intersectionSize;\n\nfunction abstractSimmelianStrength(assign, graph) {\n  if (!isGraph(graph))\n    throw new Error(\n      'graphology-metrics/simmelian-strength: given graph is not a valid graphology instance.'\n    );\n\n  // Indexing neighborhoods\n  var neighborhoods = {};\n\n  graph.forEachNode(function (node) {\n    neighborhoods[node] = new Set(graph.neighbors(node));\n  });\n\n  if (!assign) {\n    var strengths = {};\n\n    graph.forEachEdge(function (edge, _, source, target) {\n      strengths[edge] = intersectionSize(\n        neighborhoods[source],\n        neighborhoods[target]\n      );\n    });\n\n    return strengths;\n  }\n\n  graph.updateEachEdgeAttributes(\n    function (_, attr, source, target) {\n      attr.simmelianStrength = intersectionSize(\n        neighborhoods[source],\n        neighborhoods[target]\n      );\n\n      return attr;\n    },\n    {attributes: ['simmelianStrength']}\n  );\n}\n\nvar simmelianStrength = abstractSimmelianStrength.bind(null, false);\nsimmelianStrength.assign = abstractSimmelianStrength.bind(null, true);\n\nmodule.exports = simmelianStrength;\n","/**\n * Graphology Operators To Mixed Caster\n * =====================================\n *\n * Function used to cast any graph to a mixed one.\n */\nvar isGraph = require('graphology-utils/is-graph');\n\nmodule.exports = function toMixed(graph) {\n  if (!isGraph(graph))\n    throw new Error(\n      'graphology-operators/to-mixed: expecting a valid graphology instance.'\n    );\n\n  return graph.copy({type: 'mixed'});\n};\n","/**\n * Graphology Operators To Multi Caster\n * =====================================\n *\n * Function used to cast any graph to a multi one.\n */\nvar isGraph = require('graphology-utils/is-graph');\n\nmodule.exports = function toMulti(graph) {\n  if (!isGraph(graph))\n    throw new Error(\n      'graphology-operators/to-multi: expecting a valid graphology instance.'\n    );\n\n  return graph.copy({multi: true});\n};\n","/**\n * Graphology Indexed Brandes Routine\n * ===================================\n *\n * Indexed version of the famous Brandes routine aiming at computing\n * betweenness centrality efficiently.\n */\nvar FixedDeque = require('mnemonist/fixed-deque');\nvar FixedStack = require('mnemonist/fixed-stack');\nvar Heap = require('mnemonist/heap');\nvar typed = require('mnemonist/utils/typed-arrays');\nvar neighborhoodIndices = require('graphology-indices/neighborhood');\n\nvar NeighborhoodIndex = neighborhoodIndices.NeighborhoodIndex;\nvar WeightedNeighborhoodIndex = neighborhoodIndices.WeightedNeighborhoodIndex;\n\n/**\n * Indexed unweighted Brandes routine.\n *\n * [Reference]:\n * Ulrik Brandes: A Faster Algorithm for Betweenness Centrality.\n * Journal of Mathematical Sociology 25(2):163-177, 2001.\n *\n * @param  {Graph}    graph - The graphology instance.\n * @return {function}\n */\nexports.createUnweightedIndexedBrandes =\n  function createUnweightedIndexedBrandes(graph) {\n    var neighborhoodIndex = new NeighborhoodIndex(graph);\n\n    var neighborhood = neighborhoodIndex.neighborhood,\n      starts = neighborhoodIndex.starts;\n\n    var order = graph.order;\n\n    var S = new FixedStack(typed.getPointerArray(order), order),\n      sigma = new Uint32Array(order),\n      P = new Array(order),\n      D = new Int32Array(order);\n\n    var Q = new FixedDeque(Uint32Array, order);\n\n    var brandes = function (sourceIndex) {\n      var Dv, sigmav, start, stop, j, v, w;\n\n      for (v = 0; v < order; v++) {\n        P[v] = [];\n        sigma[v] = 0;\n        D[v] = -1;\n      }\n\n      sigma[sourceIndex] = 1;\n      D[sourceIndex] = 0;\n\n      Q.push(sourceIndex);\n\n      while (Q.size !== 0) {\n        v = Q.shift();\n        S.push(v);\n\n        Dv = D[v];\n        sigmav = sigma[v];\n\n        start = starts[v];\n        stop = starts[v + 1];\n\n        for (j = start; j < stop; j++) {\n          w = neighborhood[j];\n\n          if (D[w] === -1) {\n            Q.push(w);\n            D[w] = Dv + 1;\n          }\n\n          if (D[w] === Dv + 1) {\n            sigma[w] += sigmav;\n            P[w].push(v);\n          }\n        }\n      }\n\n      return [S, P, sigma];\n    };\n\n    brandes.index = neighborhoodIndex;\n\n    return brandes;\n  };\n\nfunction BRANDES_DIJKSTRA_HEAP_COMPARATOR(a, b) {\n  if (a[0] > b[0]) return 1;\n  if (a[0] < b[0]) return -1;\n\n  if (a[1] > b[1]) return 1;\n  if (a[1] < b[1]) return -1;\n\n  if (a[2] > b[2]) return 1;\n  if (a[2] < b[2]) return -1;\n\n  if (a[3] > b[3]) return 1;\n  if (a[3] < b[3]) return -1;\n\n  return 0;\n}\n\n/**\n * Indexed Dijkstra Brandes routine.\n *\n * [Reference]:\n * Ulrik Brandes: A Faster Algorithm for Betweenness Centrality.\n * Journal of Mathematical Sociology 25(2):163-177, 2001.\n *\n * @param  {Graph}    graph         - The graphology instance.\n * @param  {string}   getEdgeWeight - Name of the weight attribute or getter function.\n * @return {function}\n */\nexports.createDijkstraIndexedBrandes = function createDijkstraIndexedBrandes(\n  graph,\n  getEdgeWeight\n) {\n  var neighborhoodIndex = new WeightedNeighborhoodIndex(\n    graph,\n    getEdgeWeight || 'weight'\n  );\n\n  var neighborhood = neighborhoodIndex.neighborhood,\n    weights = neighborhoodIndex.weights,\n    starts = neighborhoodIndex.starts;\n\n  var order = graph.order;\n\n  var S = new FixedStack(typed.getPointerArray(order), order),\n    sigma = new Uint32Array(order),\n    P = new Array(order),\n    D = new Float64Array(order),\n    seen = new Float64Array(order);\n\n  // TODO: use fixed-size heap\n  var Q = new Heap(BRANDES_DIJKSTRA_HEAP_COMPARATOR);\n\n  var brandes = function (sourceIndex) {\n    var start, stop, item, dist, pred, cost, j, v, w;\n\n    var count = 0;\n\n    for (v = 0; v < order; v++) {\n      P[v] = [];\n      sigma[v] = 0;\n      D[v] = -1;\n      seen[v] = -1;\n    }\n\n    sigma[sourceIndex] = 1;\n    seen[sourceIndex] = 0;\n\n    Q.push([0, count++, sourceIndex, sourceIndex]);\n\n    while (Q.size !== 0) {\n      item = Q.pop();\n      dist = item[0];\n      pred = item[2];\n      v = item[3];\n\n      if (D[v] !== -1) continue;\n\n      S.push(v);\n      D[v] = dist;\n      sigma[v] += sigma[pred];\n\n      start = starts[v];\n      stop = starts[v + 1];\n\n      for (j = start; j < stop; j++) {\n        w = neighborhood[j];\n        cost = dist + weights[j];\n\n        if (D[w] === -1 && (seen[w] === -1 || cost < seen[w])) {\n          seen[w] = cost;\n          Q.push([cost, count++, v, w]);\n          sigma[w] = 0;\n          P[w] = [v];\n        } else if (cost === seen[w]) {\n          sigma[w] += sigma[v];\n          P[w].push(v);\n        }\n      }\n    }\n\n    return [S, P, sigma];\n  };\n\n  brandes.index = neighborhoodIndex;\n\n  return brandes;\n};\n","/**\n * Graphology Edge Adders\n * =======================\n *\n * Generic edge addition functions that can be used to avoid nasty repetitive\n * conditions.\n */\nexports.addEdge = function addEdge(\n  graph,\n  undirected,\n  key,\n  source,\n  target,\n  attributes\n) {\n  if (undirected) {\n    if (key === null || key === undefined)\n      return graph.addUndirectedEdge(source, target, attributes);\n    else return graph.addUndirectedEdgeWithKey(key, source, target, attributes);\n  } else {\n    if (key === null || key === undefined)\n      return graph.addDirectedEdge(source, target, attributes);\n    else return graph.addDirectedEdgeWithKey(key, source, target, attributes);\n  }\n};\n\nexports.copyEdge = function copyEdge(\n  graph,\n  undirected,\n  key,\n  source,\n  target,\n  attributes\n) {\n  attributes = Object.assign({}, attributes);\n\n  if (undirected) {\n    if (key === null || key === undefined)\n      return graph.addUndirectedEdge(source, target, attributes);\n    else return graph.addUndirectedEdgeWithKey(key, source, target, attributes);\n  } else {\n    if (key === null || key === undefined)\n      return graph.addDirectedEdge(source, target, attributes);\n    else return graph.addDirectedEdgeWithKey(key, source, target, attributes);\n  }\n};\n\nexports.mergeEdge = function mergeEdge(\n  graph,\n  undirected,\n  key,\n  source,\n  target,\n  attributes\n) {\n  if (undirected) {\n    if (key === null || key === undefined)\n      return graph.mergeUndirectedEdge(source, target, attributes);\n    else\n      return graph.mergeUndirectedEdgeWithKey(key, source, target, attributes);\n  } else {\n    if (key === null || key === undefined)\n      return graph.mergeDirectedEdge(source, target, attributes);\n    else return graph.mergeDirectedEdgeWithKey(key, source, target, attributes);\n  }\n};\n\nexports.updateEdge = function updateEdge(\n  graph,\n  undirected,\n  key,\n  source,\n  target,\n  updater\n) {\n  if (undirected) {\n    if (key === null || key === undefined)\n      return graph.updateUndirectedEdge(source, target, updater);\n    else return graph.updateUndirectedEdgeWithKey(key, source, target, updater);\n  } else {\n    if (key === null || key === undefined)\n      return graph.updateDirectedEdge(source, target, updater);\n    else return graph.updateDirectedEdgeWithKey(key, source, target, updater);\n  }\n};\n","/**\n * Graphology Node Adders\n * =======================\n *\n * Generic node addition functions that can be used to avoid nasty repetitive\n * conditions.\n */\nexports.copyNode = function (graph, key, attributes) {\n  attributes = Object.assign({}, attributes);\n  return graph.addNode(key, attributes);\n};\n","/**\n * Graphology Defaults\n * ====================\n *\n * Helper function used throughout the standard lib to resolve defaults.\n */\nfunction isLeaf(o) {\n  return (\n    !o ||\n    typeof o !== 'object' ||\n    typeof o === 'function' ||\n    Array.isArray(o) ||\n    o instanceof Set ||\n    o instanceof Map ||\n    o instanceof RegExp ||\n    o instanceof Date\n  );\n}\n\nfunction resolveDefaults(target, defaults) {\n  target = target || {};\n\n  var output = {};\n\n  for (var k in defaults) {\n    var existing = target[k];\n    var def = defaults[k];\n\n    // Recursion\n    if (!isLeaf(def)) {\n      output[k] = resolveDefaults(existing, def);\n\n      continue;\n    }\n\n    // Leaf\n    if (existing === undefined) {\n      output[k] = def;\n    } else {\n      output[k] = existing;\n    }\n  }\n\n  return output;\n}\n\nmodule.exports = resolveDefaults;\n","/**\n * Graphology Weight Getter\n * =========================\n *\n * Function creating weight getters.\n */\nfunction coerceWeight(value) {\n  // Ensuring target value is a correct number\n  if (typeof value !== 'number' || isNaN(value)) return 1;\n\n  return value;\n}\n\nfunction createNodeValueGetter(nameOrFunction, defaultValue) {\n  var getter = {};\n\n  var coerceToDefault = function (v) {\n    if (typeof v === 'undefined') return defaultValue;\n\n    return v;\n  };\n\n  if (typeof defaultValue === 'function') coerceToDefault = defaultValue;\n\n  var get = function (attributes) {\n    return coerceToDefault(attributes[nameOrFunction]);\n  };\n\n  var returnDefault = function () {\n    return coerceToDefault(undefined);\n  };\n\n  if (typeof nameOrFunction === 'string') {\n    getter.fromAttributes = get;\n    getter.fromGraph = function (graph, node) {\n      return get(graph.getNodeAttributes(node));\n    };\n    getter.fromEntry = function (node, attributes) {\n      return get(attributes);\n    };\n  } else if (typeof nameOrFunction === 'function') {\n    getter.fromAttributes = function () {\n      throw new Error(\n        'graphology-utils/getters/createNodeValueGetter: irrelevant usage.'\n      );\n    };\n    getter.fromGraph = function (graph, node) {\n      return coerceToDefault(\n        nameOrFunction(node, graph.getNodeAttributes(node))\n      );\n    };\n    getter.fromEntry = function (node, attributes) {\n      return coerceToDefault(nameOrFunction(node, attributes));\n    };\n  } else {\n    getter.fromAttributes = returnDefault;\n    getter.fromGraph = returnDefault;\n    getter.fromEntry = returnDefault;\n  }\n\n  return getter;\n}\n\nfunction createEdgeValueGetter(nameOrFunction, defaultValue) {\n  var getter = {};\n\n  var coerceToDefault = function (v) {\n    if (typeof v === 'undefined') return defaultValue;\n\n    return v;\n  };\n\n  if (typeof defaultValue === 'function') coerceToDefault = defaultValue;\n\n  var get = function (attributes) {\n    return coerceToDefault(attributes[nameOrFunction]);\n  };\n\n  var returnDefault = function () {\n    return coerceToDefault(undefined);\n  };\n\n  if (typeof nameOrFunction === 'string') {\n    getter.fromAttributes = get;\n    getter.fromGraph = function (graph, edge) {\n      return get(graph.getEdgeAttributes(edge));\n    };\n    getter.fromEntry = function (edge, attributes) {\n      return get(attributes);\n    };\n    getter.fromPartialEntry = getter.fromEntry;\n    getter.fromMinimalEntry = getter.fromEntry;\n  } else if (typeof nameOrFunction === 'function') {\n    getter.fromAttributes = function () {\n      throw new Error(\n        'graphology-utils/getters/createEdgeValueGetter: irrelevant usage.'\n      );\n    };\n    getter.fromGraph = function (graph, edge) {\n      // TODO: we can do better, check #310\n      var extremities = graph.extremities(edge);\n      return coerceToDefault(\n        nameOrFunction(\n          edge,\n          graph.getEdgeAttributes(edge),\n          extremities[0],\n          extremities[1],\n          graph.getNodeAttributes(extremities[0]),\n          graph.getNodeAttributes(extremities[1]),\n          graph.isUndirected(edge)\n        )\n      );\n    };\n    getter.fromEntry = function (e, a, s, t, sa, ta, u) {\n      return coerceToDefault(nameOrFunction(e, a, s, t, sa, ta, u));\n    };\n    getter.fromPartialEntry = function (e, a, s, t) {\n      return coerceToDefault(nameOrFunction(e, a, s, t));\n    };\n    getter.fromMinimalEntry = function (e, a) {\n      return coerceToDefault(nameOrFunction(e, a));\n    };\n  } else {\n    getter.fromAttributes = returnDefault;\n    getter.fromGraph = returnDefault;\n    getter.fromEntry = returnDefault;\n    getter.fromMinimalEntry = returnDefault;\n  }\n\n  return getter;\n}\n\nexports.createNodeValueGetter = createNodeValueGetter;\nexports.createEdgeValueGetter = createEdgeValueGetter;\nexports.createEdgeWeightGetter = function (name) {\n  return createEdgeValueGetter(name, coerceWeight);\n};\n","/**\n * Graphology inferType\n * =====================\n *\n * Useful function used to \"guess\" the real type of the given Graph using\n * introspection.\n */\nvar isGraph = require('./is-graph.js');\n\n/**\n * Returning the inferred type of the given graph.\n *\n * @param  {Graph}   graph - Target graph.\n * @return {boolean}\n */\nmodule.exports = function inferType(graph) {\n  if (!isGraph(graph))\n    throw new Error(\n      'graphology-utils/infer-type: expecting a valid graphology instance.'\n    );\n\n  var declaredType = graph.type;\n\n  if (declaredType !== 'mixed') return declaredType;\n\n  if (\n    (graph.directedSize === 0 && graph.undirectedSize === 0) ||\n    (graph.directedSize > 0 && graph.undirectedSize > 0)\n  )\n    return 'mixed';\n\n  if (graph.directedSize > 0) return 'directed';\n\n  return 'undirected';\n};\n","/**\n * Graphology isGraphConstructor\n * ==============================\n *\n * Very simple function aiming at ensuring the given variable is a\n * graphology constructor.\n */\n\n/**\n * Checking the value is a graphology constructor.\n *\n * @param  {any}     value - Target value.\n * @return {boolean}\n */\nmodule.exports = function isGraphConstructor(value) {\n  return (\n    value !== null &&\n    typeof value === 'function' &&\n    typeof value.prototype === 'object' &&\n    typeof value.prototype.addUndirectedEdgeWithKey === 'function' &&\n    typeof value.prototype.dropNode === 'function'\n  );\n};\n","/**\n * Graphology isGraph\n * ===================\n *\n * Very simple function aiming at ensuring the given variable is a\n * graphology instance.\n */\n\n/**\n * Checking the value is a graphology instance.\n *\n * @param  {any}     value - Target value.\n * @return {boolean}\n */\nmodule.exports = function isGraph(value) {\n  return (\n    value !== null &&\n    typeof value === 'object' &&\n    typeof value.addUndirectedEdgeWithKey === 'function' &&\n    typeof value.dropNode === 'function' &&\n    typeof value.multi === 'boolean'\n  );\n};\n","!function(t,e){\"object\"==typeof exports&&\"undefined\"!=typeof module?module.exports=e():\"function\"==typeof define&&define.amd?define(e):(t=\"undefined\"!=typeof globalThis?globalThis:t||self).graphology=e()}(this,(function(){\"use strict\";function t(e){return t=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t},t(e)}function e(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,r(t,e)}function n(t){return n=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},n(t)}function r(t,e){return r=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},r(t,e)}function i(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function o(t,e,n){return o=i()?Reflect.construct.bind():function(t,e,n){var i=[null];i.push.apply(i,e);var o=new(Function.bind.apply(t,i));return n&&r(o,n.prototype),o},o.apply(null,arguments)}function a(t){var e=\"function\"==typeof Map?new Map:void 0;return a=function(t){if(null===t||(i=t,-1===Function.toString.call(i).indexOf(\"[native code]\")))return t;var i;if(\"function\"!=typeof t)throw new TypeError(\"Super expression must either be null or a function\");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,a)}function a(){return o(t,arguments,n(this).constructor)}return a.prototype=Object.create(t.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),r(a,t)},a(t)}function c(t){if(void 0===t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return t}var u=function(){for(var t=arguments[0],e=1,n=arguments.length;e<n;e++)if(arguments[e])for(var r in arguments[e])t[r]=arguments[e][r];return t};function d(t,e,n,r){var i=t._nodes.get(e),o=null;return i?o=\"mixed\"===r?i.out&&i.out[n]||i.undirected&&i.undirected[n]:\"directed\"===r?i.out&&i.out[n]:i.undirected&&i.undirected[n]:o}function s(e){return\"object\"===t(e)&&null!==e&&e.constructor===Object}function h(t){var e;for(e in t)return!1;return!0}function p(t,e,n){Object.defineProperty(t,e,{enumerable:!1,configurable:!1,writable:!0,value:n})}function f(t,e,n){var r={enumerable:!0,configurable:!0};\"function\"==typeof n?r.get=n:(r.value=n,r.writable=!1),Object.defineProperty(t,e,r)}function l(t){return!!s(t)&&!(t.attributes&&!Array.isArray(t.attributes))}\"function\"==typeof Object.assign&&(u=Object.assign);var g,y={exports:{}},w=\"object\"==typeof Reflect?Reflect:null,v=w&&\"function\"==typeof w.apply?w.apply:function(t,e,n){return Function.prototype.apply.call(t,e,n)};g=w&&\"function\"==typeof w.ownKeys?w.ownKeys:Object.getOwnPropertySymbols?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:function(t){return Object.getOwnPropertyNames(t)};var b=Number.isNaN||function(t){return t!=t};function m(){m.init.call(this)}y.exports=m,y.exports.once=function(t,e){return new Promise((function(n,r){function i(n){t.removeListener(e,o),r(n)}function o(){\"function\"==typeof t.removeListener&&t.removeListener(\"error\",i),n([].slice.call(arguments))}U(t,e,o,{once:!0}),\"error\"!==e&&function(t,e,n){\"function\"==typeof t.on&&U(t,\"error\",e,n)}(t,i,{once:!0})}))},m.EventEmitter=m,m.prototype._events=void 0,m.prototype._eventsCount=0,m.prototype._maxListeners=void 0;var k=10;function _(t){if(\"function\"!=typeof t)throw new TypeError('The \"listener\" argument must be of type Function. Received type '+typeof t)}function G(t){return void 0===t._maxListeners?m.defaultMaxListeners:t._maxListeners}function x(t,e,n,r){var i,o,a,c;if(_(n),void 0===(o=t._events)?(o=t._events=Object.create(null),t._eventsCount=0):(void 0!==o.newListener&&(t.emit(\"newListener\",e,n.listener?n.listener:n),o=t._events),a=o[e]),void 0===a)a=o[e]=n,++t._eventsCount;else if(\"function\"==typeof a?a=o[e]=r?[n,a]:[a,n]:r?a.unshift(n):a.push(n),(i=G(t))>0&&a.length>i&&!a.warned){a.warned=!0;var u=new Error(\"Possible EventEmitter memory leak detected. \"+a.length+\" \"+String(e)+\" listeners added. Use emitter.setMaxListeners() to increase limit\");u.name=\"MaxListenersExceededWarning\",u.emitter=t,u.type=e,u.count=a.length,c=u,console&&console.warn&&console.warn(c)}return t}function E(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function A(t,e,n){var r={fired:!1,wrapFn:void 0,target:t,type:e,listener:n},i=E.bind(r);return i.listener=n,r.wrapFn=i,i}function L(t,e,n){var r=t._events;if(void 0===r)return[];var i=r[e];return void 0===i?[]:\"function\"==typeof i?n?[i.listener||i]:[i]:n?function(t){for(var e=new Array(t.length),n=0;n<e.length;++n)e[n]=t[n].listener||t[n];return e}(i):D(i,i.length)}function S(t){var e=this._events;if(void 0!==e){var n=e[t];if(\"function\"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function D(t,e){for(var n=new Array(e),r=0;r<e;++r)n[r]=t[r];return n}function U(t,e,n,r){if(\"function\"==typeof t.on)r.once?t.once(e,n):t.on(e,n);else{if(\"function\"!=typeof t.addEventListener)throw new TypeError('The \"emitter\" argument must be of type EventEmitter. Received type '+typeof t);t.addEventListener(e,(function i(o){r.once&&t.removeEventListener(e,i),n(o)}))}}function N(t){if(\"function\"!=typeof t)throw new Error(\"obliterator/iterator: expecting a function!\");this.next=t}Object.defineProperty(m,\"defaultMaxListeners\",{enumerable:!0,get:function(){return k},set:function(t){if(\"number\"!=typeof t||t<0||b(t))throw new RangeError('The value of \"defaultMaxListeners\" is out of range. It must be a non-negative number. Received '+t+\".\");k=t}}),m.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},m.prototype.setMaxListeners=function(t){if(\"number\"!=typeof t||t<0||b(t))throw new RangeError('The value of \"n\" is out of range. It must be a non-negative number. Received '+t+\".\");return this._maxListeners=t,this},m.prototype.getMaxListeners=function(){return G(this)},m.prototype.emit=function(t){for(var e=[],n=1;n<arguments.length;n++)e.push(arguments[n]);var r=\"error\"===t,i=this._events;if(void 0!==i)r=r&&void 0===i.error;else if(!r)return!1;if(r){var o;if(e.length>0&&(o=e[0]),o instanceof Error)throw o;var a=new Error(\"Unhandled error.\"+(o?\" (\"+o.message+\")\":\"\"));throw a.context=o,a}var c=i[t];if(void 0===c)return!1;if(\"function\"==typeof c)v(c,this,e);else{var u=c.length,d=D(c,u);for(n=0;n<u;++n)v(d[n],this,e)}return!0},m.prototype.addListener=function(t,e){return x(this,t,e,!1)},m.prototype.on=m.prototype.addListener,m.prototype.prependListener=function(t,e){return x(this,t,e,!0)},m.prototype.once=function(t,e){return _(e),this.on(t,A(this,t,e)),this},m.prototype.prependOnceListener=function(t,e){return _(e),this.prependListener(t,A(this,t,e)),this},m.prototype.removeListener=function(t,e){var n,r,i,o,a;if(_(e),void 0===(r=this._events))return this;if(void 0===(n=r[t]))return this;if(n===e||n.listener===e)0==--this._eventsCount?this._events=Object.create(null):(delete r[t],r.removeListener&&this.emit(\"removeListener\",t,n.listener||e));else if(\"function\"!=typeof n){for(i=-1,o=n.length-1;o>=0;o--)if(n[o]===e||n[o].listener===e){a=n[o].listener,i=o;break}if(i<0)return this;0===i?n.shift():function(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}(n,i),1===n.length&&(r[t]=n[0]),void 0!==r.removeListener&&this.emit(\"removeListener\",t,a||e)}return this},m.prototype.off=m.prototype.removeListener,m.prototype.removeAllListeners=function(t){var e,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[t]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[t]),this;if(0===arguments.length){var i,o=Object.keys(n);for(r=0;r<o.length;++r)\"removeListener\"!==(i=o[r])&&this.removeAllListeners(i);return this.removeAllListeners(\"removeListener\"),this._events=Object.create(null),this._eventsCount=0,this}if(\"function\"==typeof(e=n[t]))this.removeListener(t,e);else if(void 0!==e)for(r=e.length-1;r>=0;r--)this.removeListener(t,e[r]);return this},m.prototype.listeners=function(t){return L(this,t,!0)},m.prototype.rawListeners=function(t){return L(this,t,!1)},m.listenerCount=function(t,e){return\"function\"==typeof t.listenerCount?t.listenerCount(e):S.call(t,e)},m.prototype.listenerCount=S,m.prototype.eventNames=function(){return this._eventsCount>0?g(this._events):[]},\"undefined\"!=typeof Symbol&&(N.prototype[Symbol.iterator]=function(){return this}),N.of=function(){var t=arguments,e=t.length,n=0;return new N((function(){return n>=e?{done:!0}:{done:!1,value:t[n++]}}))},N.empty=function(){return new N((function(){return{done:!0}}))},N.fromSequence=function(t){var e=0,n=t.length;return new N((function(){return e>=n?{done:!0}:{done:!1,value:t[e++]}}))},N.is=function(t){return t instanceof N||\"object\"==typeof t&&null!==t&&\"function\"==typeof t.next};var O=N,j={};j.ARRAY_BUFFER_SUPPORT=\"undefined\"!=typeof ArrayBuffer,j.SYMBOL_SUPPORT=\"undefined\"!=typeof Symbol;var C=O,M=j,z=M.ARRAY_BUFFER_SUPPORT,W=M.SYMBOL_SUPPORT;var P=function(t){var e=function(t){return\"string\"==typeof t||Array.isArray(t)||z&&ArrayBuffer.isView(t)?C.fromSequence(t):\"object\"!=typeof t||null===t?null:W&&\"function\"==typeof t[Symbol.iterator]?t[Symbol.iterator]():\"function\"==typeof t.next?t:null}(t);if(!e)throw new Error(\"obliterator: target is not iterable nor a valid iterator.\");return e},R=P,K=function(t,e){for(var n,r=arguments.length>1?e:1/0,i=r!==1/0?new Array(r):[],o=0,a=R(t);;){if(o===r)return i;if((n=a.next()).done)return o!==e&&(i.length=o),i;i[o++]=n.value}},T=function(t){function n(e){var n;return(n=t.call(this)||this).name=\"GraphError\",n.message=e,n}return e(n,t),n}(a(Error)),B=function(t){function n(e){var r;return(r=t.call(this,e)||this).name=\"InvalidArgumentsGraphError\",\"function\"==typeof Error.captureStackTrace&&Error.captureStackTrace(c(r),n.prototype.constructor),r}return e(n,t),n}(T),F=function(t){function n(e){var r;return(r=t.call(this,e)||this).name=\"NotFoundGraphError\",\"function\"==typeof Error.captureStackTrace&&Error.captureStackTrace(c(r),n.prototype.constructor),r}return e(n,t),n}(T),I=function(t){function n(e){var r;return(r=t.call(this,e)||this).name=\"UsageGraphError\",\"function\"==typeof Error.captureStackTrace&&Error.captureStackTrace(c(r),n.prototype.constructor),r}return e(n,t),n}(T);function Y(t,e){this.key=t,this.attributes=e,this.clear()}function q(t,e){this.key=t,this.attributes=e,this.clear()}function J(t,e){this.key=t,this.attributes=e,this.clear()}function V(t,e,n,r,i){this.key=e,this.attributes=i,this.undirected=t,this.source=n,this.target=r}Y.prototype.clear=function(){this.inDegree=0,this.outDegree=0,this.undirectedDegree=0,this.undirectedLoops=0,this.directedLoops=0,this.in={},this.out={},this.undirected={}},q.prototype.clear=function(){this.inDegree=0,this.outDegree=0,this.directedLoops=0,this.in={},this.out={}},J.prototype.clear=function(){this.undirectedDegree=0,this.undirectedLoops=0,this.undirected={}},V.prototype.attach=function(){var t=\"out\",e=\"in\";this.undirected&&(t=e=\"undirected\");var n=this.source.key,r=this.target.key;this.source[t][r]=this,this.undirected&&n===r||(this.target[e][n]=this)},V.prototype.attachMulti=function(){var t=\"out\",e=\"in\",n=this.source.key,r=this.target.key;this.undirected&&(t=e=\"undirected\");var i=this.source[t],o=i[r];if(void 0===o)return i[r]=this,void(this.undirected&&n===r||(this.target[e][n]=this));o.previous=this,this.next=o,i[r]=this,this.target[e][n]=this},V.prototype.detach=function(){var t=this.source.key,e=this.target.key,n=\"out\",r=\"in\";this.undirected&&(n=r=\"undirected\"),delete this.source[n][e],delete this.target[r][t]},V.prototype.detachMulti=function(){var t=this.source.key,e=this.target.key,n=\"out\",r=\"in\";this.undirected&&(n=r=\"undirected\"),void 0===this.previous?void 0===this.next?(delete this.source[n][e],delete this.target[r][t]):(this.next.previous=void 0,this.source[n][e]=this.next,this.target[r][t]=this.next):(this.previous.next=this.next,void 0!==this.next&&(this.next.previous=this.previous))};function H(t,e,n,r,i,o,a){var c,u,d,s;if(r=\"\"+r,0===n){if(!(c=t._nodes.get(r)))throw new F(\"Graph.\".concat(e,': could not find the \"').concat(r,'\" node in the graph.'));d=i,s=o}else if(3===n){if(i=\"\"+i,!(u=t._edges.get(i)))throw new F(\"Graph.\".concat(e,': could not find the \"').concat(i,'\" edge in the graph.'));var h=u.source.key,p=u.target.key;if(r===h)c=u.target;else{if(r!==p)throw new F(\"Graph.\".concat(e,': the \"').concat(r,'\" node is not attached to the \"').concat(i,'\" edge (').concat(h,\", \").concat(p,\").\"));c=u.source}d=o,s=a}else{if(!(u=t._edges.get(r)))throw new F(\"Graph.\".concat(e,': could not find the \"').concat(r,'\" edge in the graph.'));c=1===n?u.source:u.target,d=i,s=o}return[c,d,s]}var Q=[{name:function(t){return\"get\".concat(t,\"Attribute\")},attacher:function(t,e,n){t.prototype[e]=function(t,r,i){var o=H(this,e,n,t,r,i),a=o[0],c=o[1];return a.attributes[c]}}},{name:function(t){return\"get\".concat(t,\"Attributes\")},attacher:function(t,e,n){t.prototype[e]=function(t,r){return H(this,e,n,t,r)[0].attributes}}},{name:function(t){return\"has\".concat(t,\"Attribute\")},attacher:function(t,e,n){t.prototype[e]=function(t,r,i){var o=H(this,e,n,t,r,i),a=o[0],c=o[1];return a.attributes.hasOwnProperty(c)}}},{name:function(t){return\"set\".concat(t,\"Attribute\")},attacher:function(t,e,n){t.prototype[e]=function(t,r,i,o){var a=H(this,e,n,t,r,i,o),c=a[0],u=a[1],d=a[2];return c.attributes[u]=d,this.emit(\"nodeAttributesUpdated\",{key:c.key,type:\"set\",attributes:c.attributes,name:u}),this}}},{name:function(t){return\"update\".concat(t,\"Attribute\")},attacher:function(t,e,n){t.prototype[e]=function(t,r,i,o){var a=H(this,e,n,t,r,i,o),c=a[0],u=a[1],d=a[2];if(\"function\"!=typeof d)throw new B(\"Graph.\".concat(e,\": updater should be a function.\"));var s=c.attributes,h=d(s[u]);return s[u]=h,this.emit(\"nodeAttributesUpdated\",{key:c.key,type:\"set\",attributes:c.attributes,name:u}),this}}},{name:function(t){return\"remove\".concat(t,\"Attribute\")},attacher:function(t,e,n){t.prototype[e]=function(t,r,i){var o=H(this,e,n,t,r,i),a=o[0],c=o[1];return delete a.attributes[c],this.emit(\"nodeAttributesUpdated\",{key:a.key,type:\"remove\",attributes:a.attributes,name:c}),this}}},{name:function(t){return\"replace\".concat(t,\"Attributes\")},attacher:function(t,e,n){t.prototype[e]=function(t,r,i){var o=H(this,e,n,t,r,i),a=o[0],c=o[1];if(!s(c))throw new B(\"Graph.\".concat(e,\": provided attributes are not a plain object.\"));return a.attributes=c,this.emit(\"nodeAttributesUpdated\",{key:a.key,type:\"replace\",attributes:a.attributes}),this}}},{name:function(t){return\"merge\".concat(t,\"Attributes\")},attacher:function(t,e,n){t.prototype[e]=function(t,r,i){var o=H(this,e,n,t,r,i),a=o[0],c=o[1];if(!s(c))throw new B(\"Graph.\".concat(e,\": provided attributes are not a plain object.\"));return u(a.attributes,c),this.emit(\"nodeAttributesUpdated\",{key:a.key,type:\"merge\",attributes:a.attributes,data:c}),this}}},{name:function(t){return\"update\".concat(t,\"Attributes\")},attacher:function(t,e,n){t.prototype[e]=function(t,r,i){var o=H(this,e,n,t,r,i),a=o[0],c=o[1];if(\"function\"!=typeof c)throw new B(\"Graph.\".concat(e,\": provided updater is not a function.\"));return a.attributes=c(a.attributes),this.emit(\"nodeAttributesUpdated\",{key:a.key,type:\"update\",attributes:a.attributes}),this}}}];var X=[{name:function(t){return\"get\".concat(t,\"Attribute\")},attacher:function(t,e,n){t.prototype[e]=function(t,r){var i;if(\"mixed\"!==this.type&&\"mixed\"!==n&&n!==this.type)throw new I(\"Graph.\".concat(e,\": cannot find this type of edges in your \").concat(this.type,\" graph.\"));if(arguments.length>2){if(this.multi)throw new I(\"Graph.\".concat(e,\": cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about.\"));var o=\"\"+t,a=\"\"+r;if(r=arguments[2],!(i=d(this,o,a,n)))throw new F(\"Graph.\".concat(e,': could not find an edge for the given path (\"').concat(o,'\" - \"').concat(a,'\").'))}else{if(\"mixed\"!==n)throw new I(\"Graph.\".concat(e,\": calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type.\"));if(t=\"\"+t,!(i=this._edges.get(t)))throw new F(\"Graph.\".concat(e,': could not find the \"').concat(t,'\" edge in the graph.'))}return i.attributes[r]}}},{name:function(t){return\"get\".concat(t,\"Attributes\")},attacher:function(t,e,n){t.prototype[e]=function(t){var r;if(\"mixed\"!==this.type&&\"mixed\"!==n&&n!==this.type)throw new I(\"Graph.\".concat(e,\": cannot find this type of edges in your \").concat(this.type,\" graph.\"));if(arguments.length>1){if(this.multi)throw new I(\"Graph.\".concat(e,\": cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about.\"));var i=\"\"+t,o=\"\"+arguments[1];if(!(r=d(this,i,o,n)))throw new F(\"Graph.\".concat(e,': could not find an edge for the given path (\"').concat(i,'\" - \"').concat(o,'\").'))}else{if(\"mixed\"!==n)throw new I(\"Graph.\".concat(e,\": calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type.\"));if(t=\"\"+t,!(r=this._edges.get(t)))throw new F(\"Graph.\".concat(e,': could not find the \"').concat(t,'\" edge in the graph.'))}return r.attributes}}},{name:function(t){return\"has\".concat(t,\"Attribute\")},attacher:function(t,e,n){t.prototype[e]=function(t,r){var i;if(\"mixed\"!==this.type&&\"mixed\"!==n&&n!==this.type)throw new I(\"Graph.\".concat(e,\": cannot find this type of edges in your \").concat(this.type,\" graph.\"));if(arguments.length>2){if(this.multi)throw new I(\"Graph.\".concat(e,\": cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about.\"));var o=\"\"+t,a=\"\"+r;if(r=arguments[2],!(i=d(this,o,a,n)))throw new F(\"Graph.\".concat(e,': could not find an edge for the given path (\"').concat(o,'\" - \"').concat(a,'\").'))}else{if(\"mixed\"!==n)throw new I(\"Graph.\".concat(e,\": calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type.\"));if(t=\"\"+t,!(i=this._edges.get(t)))throw new F(\"Graph.\".concat(e,': could not find the \"').concat(t,'\" edge in the graph.'))}return i.attributes.hasOwnProperty(r)}}},{name:function(t){return\"set\".concat(t,\"Attribute\")},attacher:function(t,e,n){t.prototype[e]=function(t,r,i){var o;if(\"mixed\"!==this.type&&\"mixed\"!==n&&n!==this.type)throw new I(\"Graph.\".concat(e,\": cannot find this type of edges in your \").concat(this.type,\" graph.\"));if(arguments.length>3){if(this.multi)throw new I(\"Graph.\".concat(e,\": cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about.\"));var a=\"\"+t,c=\"\"+r;if(r=arguments[2],i=arguments[3],!(o=d(this,a,c,n)))throw new F(\"Graph.\".concat(e,': could not find an edge for the given path (\"').concat(a,'\" - \"').concat(c,'\").'))}else{if(\"mixed\"!==n)throw new I(\"Graph.\".concat(e,\": calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type.\"));if(t=\"\"+t,!(o=this._edges.get(t)))throw new F(\"Graph.\".concat(e,': could not find the \"').concat(t,'\" edge in the graph.'))}return o.attributes[r]=i,this.emit(\"edgeAttributesUpdated\",{key:o.key,type:\"set\",attributes:o.attributes,name:r}),this}}},{name:function(t){return\"update\".concat(t,\"Attribute\")},attacher:function(t,e,n){t.prototype[e]=function(t,r,i){var o;if(\"mixed\"!==this.type&&\"mixed\"!==n&&n!==this.type)throw new I(\"Graph.\".concat(e,\": cannot find this type of edges in your \").concat(this.type,\" graph.\"));if(arguments.length>3){if(this.multi)throw new I(\"Graph.\".concat(e,\": cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about.\"));var a=\"\"+t,c=\"\"+r;if(r=arguments[2],i=arguments[3],!(o=d(this,a,c,n)))throw new F(\"Graph.\".concat(e,': could not find an edge for the given path (\"').concat(a,'\" - \"').concat(c,'\").'))}else{if(\"mixed\"!==n)throw new I(\"Graph.\".concat(e,\": calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type.\"));if(t=\"\"+t,!(o=this._edges.get(t)))throw new F(\"Graph.\".concat(e,': could not find the \"').concat(t,'\" edge in the graph.'))}if(\"function\"!=typeof i)throw new B(\"Graph.\".concat(e,\": updater should be a function.\"));return o.attributes[r]=i(o.attributes[r]),this.emit(\"edgeAttributesUpdated\",{key:o.key,type:\"set\",attributes:o.attributes,name:r}),this}}},{name:function(t){return\"remove\".concat(t,\"Attribute\")},attacher:function(t,e,n){t.prototype[e]=function(t,r){var i;if(\"mixed\"!==this.type&&\"mixed\"!==n&&n!==this.type)throw new I(\"Graph.\".concat(e,\": cannot find this type of edges in your \").concat(this.type,\" graph.\"));if(arguments.length>2){if(this.multi)throw new I(\"Graph.\".concat(e,\": cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about.\"));var o=\"\"+t,a=\"\"+r;if(r=arguments[2],!(i=d(this,o,a,n)))throw new F(\"Graph.\".concat(e,': could not find an edge for the given path (\"').concat(o,'\" - \"').concat(a,'\").'))}else{if(\"mixed\"!==n)throw new I(\"Graph.\".concat(e,\": calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type.\"));if(t=\"\"+t,!(i=this._edges.get(t)))throw new F(\"Graph.\".concat(e,': could not find the \"').concat(t,'\" edge in the graph.'))}return delete i.attributes[r],this.emit(\"edgeAttributesUpdated\",{key:i.key,type:\"remove\",attributes:i.attributes,name:r}),this}}},{name:function(t){return\"replace\".concat(t,\"Attributes\")},attacher:function(t,e,n){t.prototype[e]=function(t,r){var i;if(\"mixed\"!==this.type&&\"mixed\"!==n&&n!==this.type)throw new I(\"Graph.\".concat(e,\": cannot find this type of edges in your \").concat(this.type,\" graph.\"));if(arguments.length>2){if(this.multi)throw new I(\"Graph.\".concat(e,\": cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about.\"));var o=\"\"+t,a=\"\"+r;if(r=arguments[2],!(i=d(this,o,a,n)))throw new F(\"Graph.\".concat(e,': could not find an edge for the given path (\"').concat(o,'\" - \"').concat(a,'\").'))}else{if(\"mixed\"!==n)throw new I(\"Graph.\".concat(e,\": calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type.\"));if(t=\"\"+t,!(i=this._edges.get(t)))throw new F(\"Graph.\".concat(e,': could not find the \"').concat(t,'\" edge in the graph.'))}if(!s(r))throw new B(\"Graph.\".concat(e,\": provided attributes are not a plain object.\"));return i.attributes=r,this.emit(\"edgeAttributesUpdated\",{key:i.key,type:\"replace\",attributes:i.attributes}),this}}},{name:function(t){return\"merge\".concat(t,\"Attributes\")},attacher:function(t,e,n){t.prototype[e]=function(t,r){var i;if(\"mixed\"!==this.type&&\"mixed\"!==n&&n!==this.type)throw new I(\"Graph.\".concat(e,\": cannot find this type of edges in your \").concat(this.type,\" graph.\"));if(arguments.length>2){if(this.multi)throw new I(\"Graph.\".concat(e,\": cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about.\"));var o=\"\"+t,a=\"\"+r;if(r=arguments[2],!(i=d(this,o,a,n)))throw new F(\"Graph.\".concat(e,': could not find an edge for the given path (\"').concat(o,'\" - \"').concat(a,'\").'))}else{if(\"mixed\"!==n)throw new I(\"Graph.\".concat(e,\": calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type.\"));if(t=\"\"+t,!(i=this._edges.get(t)))throw new F(\"Graph.\".concat(e,': could not find the \"').concat(t,'\" edge in the graph.'))}if(!s(r))throw new B(\"Graph.\".concat(e,\": provided attributes are not a plain object.\"));return u(i.attributes,r),this.emit(\"edgeAttributesUpdated\",{key:i.key,type:\"merge\",attributes:i.attributes,data:r}),this}}},{name:function(t){return\"update\".concat(t,\"Attributes\")},attacher:function(t,e,n){t.prototype[e]=function(t,r){var i;if(\"mixed\"!==this.type&&\"mixed\"!==n&&n!==this.type)throw new I(\"Graph.\".concat(e,\": cannot find this type of edges in your \").concat(this.type,\" graph.\"));if(arguments.length>2){if(this.multi)throw new I(\"Graph.\".concat(e,\": cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about.\"));var o=\"\"+t,a=\"\"+r;if(r=arguments[2],!(i=d(this,o,a,n)))throw new F(\"Graph.\".concat(e,': could not find an edge for the given path (\"').concat(o,'\" - \"').concat(a,'\").'))}else{if(\"mixed\"!==n)throw new I(\"Graph.\".concat(e,\": calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type.\"));if(t=\"\"+t,!(i=this._edges.get(t)))throw new F(\"Graph.\".concat(e,': could not find the \"').concat(t,'\" edge in the graph.'))}if(\"function\"!=typeof r)throw new B(\"Graph.\".concat(e,\": provided updater is not a function.\"));return i.attributes=r(i.attributes),this.emit(\"edgeAttributesUpdated\",{key:i.key,type:\"update\",attributes:i.attributes}),this}}}];var Z=O,$=P,tt=function(){var t=arguments,e=null,n=-1;return new Z((function(){for(var r=null;;){if(null===e){if(++n>=t.length)return{done:!0};e=$(t[n])}if(!0!==(r=e.next()).done)break;e=null}return r}))},et=[{name:\"edges\",type:\"mixed\"},{name:\"inEdges\",type:\"directed\",direction:\"in\"},{name:\"outEdges\",type:\"directed\",direction:\"out\"},{name:\"inboundEdges\",type:\"mixed\",direction:\"in\"},{name:\"outboundEdges\",type:\"mixed\",direction:\"out\"},{name:\"directedEdges\",type:\"directed\"},{name:\"undirectedEdges\",type:\"undirected\"}];function nt(t,e,n,r){var i=!1;for(var o in e)if(o!==r){var a=e[o];if(i=n(a.key,a.attributes,a.source.key,a.target.key,a.source.attributes,a.target.attributes,a.undirected),t&&i)return a.key}}function rt(t,e,n,r){var i,o,a,c=!1;for(var u in e)if(u!==r){i=e[u];do{if(o=i.source,a=i.target,c=n(i.key,i.attributes,o.key,a.key,o.attributes,a.attributes,i.undirected),t&&c)return i.key;i=i.next}while(void 0!==i)}}function it(t,e){var n,r=Object.keys(t),i=r.length,o=0;return new O((function(){do{if(n)n=n.next;else{if(o>=i)return{done:!0};var a=r[o++];if(a===e){n=void 0;continue}n=t[a]}}while(!n);return{done:!1,value:{edge:n.key,attributes:n.attributes,source:n.source.key,target:n.target.key,sourceAttributes:n.source.attributes,targetAttributes:n.target.attributes,undirected:n.undirected}}}))}function ot(t,e,n,r){var i=e[n];if(i){var o=i.source,a=i.target;return r(i.key,i.attributes,o.key,a.key,o.attributes,a.attributes,i.undirected)&&t?i.key:void 0}}function at(t,e,n,r){var i=e[n];if(i){var o=!1;do{if(o=r(i.key,i.attributes,i.source.key,i.target.key,i.source.attributes,i.target.attributes,i.undirected),t&&o)return i.key;i=i.next}while(void 0!==i)}}function ct(t,e){var n=t[e];return void 0!==n.next?new O((function(){if(!n)return{done:!0};var t={edge:n.key,attributes:n.attributes,source:n.source.key,target:n.target.key,sourceAttributes:n.source.attributes,targetAttributes:n.target.attributes,undirected:n.undirected};return n=n.next,{done:!1,value:t}})):O.of({edge:n.key,attributes:n.attributes,source:n.source.key,target:n.target.key,sourceAttributes:n.source.attributes,targetAttributes:n.target.attributes,undirected:n.undirected})}function ut(t,e){if(0===t.size)return[];if(\"mixed\"===e||e===t.type)return\"function\"==typeof Array.from?Array.from(t._edges.keys()):K(t._edges.keys(),t._edges.size);for(var n,r,i=\"undirected\"===e?t.undirectedSize:t.directedSize,o=new Array(i),a=\"undirected\"===e,c=t._edges.values(),u=0;!0!==(n=c.next()).done;)(r=n.value).undirected===a&&(o[u++]=r.key);return o}function dt(t,e,n,r){if(0!==e.size)for(var i,o,a=\"mixed\"!==n&&n!==e.type,c=\"undirected\"===n,u=!1,d=e._edges.values();!0!==(i=d.next()).done;)if(o=i.value,!a||o.undirected===c){var s=o,h=s.key,p=s.attributes,f=s.source,l=s.target;if(u=r(h,p,f.key,l.key,f.attributes,l.attributes,o.undirected),t&&u)return h}}function st(t,e){if(0===t.size)return O.empty();var n=\"mixed\"!==e&&e!==t.type,r=\"undirected\"===e,i=t._edges.values();return new O((function(){for(var t,e;;){if((t=i.next()).done)return t;if(e=t.value,!n||e.undirected===r)break}return{value:{edge:e.key,attributes:e.attributes,source:e.source.key,target:e.target.key,sourceAttributes:e.source.attributes,targetAttributes:e.target.attributes,undirected:e.undirected},done:!1}}))}function ht(t,e,n,r,i,o){var a,c=e?rt:nt;if(\"undirected\"!==n){if(\"out\"!==r&&(a=c(t,i.in,o),t&&a))return a;if(\"in\"!==r&&(a=c(t,i.out,o,r?void 0:i.key),t&&a))return a}if(\"directed\"!==n&&(a=c(t,i.undirected,o),t&&a))return a}function pt(t,e,n,r){var i=[];return ht(!1,t,e,n,r,(function(t){i.push(t)})),i}function ft(t,e,n){var r=O.empty();return\"undirected\"!==t&&(\"out\"!==e&&void 0!==n.in&&(r=tt(r,it(n.in))),\"in\"!==e&&void 0!==n.out&&(r=tt(r,it(n.out,e?void 0:n.key)))),\"directed\"!==t&&void 0!==n.undirected&&(r=tt(r,it(n.undirected))),r}function lt(t,e,n,r,i,o,a){var c,u=n?at:ot;if(\"undirected\"!==e){if(void 0!==i.in&&\"out\"!==r&&(c=u(t,i.in,o,a),t&&c))return c;if(void 0!==i.out&&\"in\"!==r&&(r||i.key!==o)&&(c=u(t,i.out,o,a),t&&c))return c}if(\"directed\"!==e&&void 0!==i.undirected&&(c=u(t,i.undirected,o,a),t&&c))return c}function gt(t,e,n,r,i){var o=[];return lt(!1,t,e,n,r,i,(function(t){o.push(t)})),o}function yt(t,e,n,r){var i=O.empty();return\"undirected\"!==t&&(void 0!==n.in&&\"out\"!==e&&r in n.in&&(i=tt(i,ct(n.in,r))),void 0!==n.out&&\"in\"!==e&&r in n.out&&(e||n.key!==r)&&(i=tt(i,ct(n.out,r)))),\"directed\"!==t&&void 0!==n.undirected&&r in n.undirected&&(i=tt(i,ct(n.undirected,r))),i}var wt=[{name:\"neighbors\",type:\"mixed\"},{name:\"inNeighbors\",type:\"directed\",direction:\"in\"},{name:\"outNeighbors\",type:\"directed\",direction:\"out\"},{name:\"inboundNeighbors\",type:\"mixed\",direction:\"in\"},{name:\"outboundNeighbors\",type:\"mixed\",direction:\"out\"},{name:\"directedNeighbors\",type:\"directed\"},{name:\"undirectedNeighbors\",type:\"undirected\"}];function vt(){this.A=null,this.B=null}function bt(t,e,n,r,i){for(var o in r){var a=r[o],c=a.source,u=a.target,d=c===n?u:c;if(!e||!e.has(d.key)){var s=i(d.key,d.attributes);if(t&&s)return d.key}}}function mt(t,e,n,r,i){if(\"mixed\"!==e){if(\"undirected\"===e)return bt(t,null,r,r.undirected,i);if(\"string\"==typeof n)return bt(t,null,r,r[n],i)}var o,a=new vt;if(\"undirected\"!==e){if(\"out\"!==n){if(o=bt(t,null,r,r.in,i),t&&o)return o;a.wrap(r.in)}if(\"in\"!==n){if(o=bt(t,a,r,r.out,i),t&&o)return o;a.wrap(r.out)}}if(\"directed\"!==e&&(o=bt(t,a,r,r.undirected,i),t&&o))return o}function kt(t,e,n){var r=Object.keys(n),i=r.length,o=0;return new O((function(){var a=null;do{if(o>=i)return t&&t.wrap(n),{done:!0};var c=n[r[o++]],u=c.source,d=c.target;a=u===e?d:u,t&&t.has(a.key)&&(a=null)}while(null===a);return{done:!1,value:{neighbor:a.key,attributes:a.attributes}}}))}function _t(t,e){var n=e.name,r=e.type,i=e.direction;t.prototype[n]=function(t){if(\"mixed\"!==r&&\"mixed\"!==this.type&&r!==this.type)return[];t=\"\"+t;var e=this._nodes.get(t);if(void 0===e)throw new F(\"Graph.\".concat(n,': could not find the \"').concat(t,'\" node in the graph.'));return function(t,e,n){if(\"mixed\"!==t){if(\"undirected\"===t)return Object.keys(n.undirected);if(\"string\"==typeof e)return Object.keys(n[e])}var r=[];return mt(!1,t,e,n,(function(t){r.push(t)})),r}(\"mixed\"===r?this.type:r,i,e)}}function Gt(t,e){var n=e.name,r=e.type,i=e.direction,o=n.slice(0,-1)+\"Entries\";t.prototype[o]=function(t){if(\"mixed\"!==r&&\"mixed\"!==this.type&&r!==this.type)return O.empty();t=\"\"+t;var e=this._nodes.get(t);if(void 0===e)throw new F(\"Graph.\".concat(o,': could not find the \"').concat(t,'\" node in the graph.'));return function(t,e,n){if(\"mixed\"!==t){if(\"undirected\"===t)return kt(null,n,n.undirected);if(\"string\"==typeof e)return kt(null,n,n[e])}var r=O.empty(),i=new vt;return\"undirected\"!==t&&(\"out\"!==e&&(r=tt(r,kt(i,n,n.in))),\"in\"!==e&&(r=tt(r,kt(i,n,n.out)))),\"directed\"!==t&&(r=tt(r,kt(i,n,n.undirected))),r}(\"mixed\"===r?this.type:r,i,e)}}function xt(t,e,n,r,i){for(var o,a,c,u,d,s,h,p=r._nodes.values(),f=r.type;!0!==(o=p.next()).done;){var l=!1;if(a=o.value,\"undirected\"!==f)for(c in u=a.out){d=u[c];do{if(s=d.target,l=!0,h=i(a.key,s.key,a.attributes,s.attributes,d.key,d.attributes,d.undirected),t&&h)return d;d=d.next}while(d)}if(\"directed\"!==f)for(c in u=a.undirected)if(!(e&&a.key>c)){d=u[c];do{if((s=d.target).key!==c&&(s=d.source),l=!0,h=i(a.key,s.key,a.attributes,s.attributes,d.key,d.attributes,d.undirected),t&&h)return d;d=d.next}while(d)}if(n&&!l&&(h=i(a.key,null,a.attributes,null,null,null,null),t&&h))return null}}function Et(t){if(!s(t))throw new B('Graph.import: invalid serialized node. A serialized node should be a plain object with at least a \"key\" property.');if(!(\"key\"in t))throw new B(\"Graph.import: serialized node is missing its key.\");if(\"attributes\"in t&&(!s(t.attributes)||null===t.attributes))throw new B(\"Graph.import: invalid attributes. Attributes should be a plain object, null or omitted.\")}function At(t){if(!s(t))throw new B('Graph.import: invalid serialized edge. A serialized edge should be a plain object with at least a \"source\" & \"target\" property.');if(!(\"source\"in t))throw new B(\"Graph.import: serialized edge is missing its source.\");if(!(\"target\"in t))throw new B(\"Graph.import: serialized edge is missing its target.\");if(\"attributes\"in t&&(!s(t.attributes)||null===t.attributes))throw new B(\"Graph.import: invalid attributes. Attributes should be a plain object, null or omitted.\");if(\"undirected\"in t&&\"boolean\"!=typeof t.undirected)throw new B(\"Graph.import: invalid undirectedness information. Undirected should be boolean or omitted.\")}vt.prototype.wrap=function(t){null===this.A?this.A=t:null===this.B&&(this.B=t)},vt.prototype.has=function(t){return null!==this.A&&t in this.A||null!==this.B&&t in this.B};var Lt,St=(Lt=255&Math.floor(256*Math.random()),function(){return Lt++}),Dt=new Set([\"directed\",\"undirected\",\"mixed\"]),Ut=new Set([\"domain\",\"_events\",\"_eventsCount\",\"_maxListeners\"]),Nt={allowSelfLoops:!0,multi:!1,type:\"mixed\"};function Ot(t,e,n){var r=new t.NodeDataClass(e,n);return t._nodes.set(e,r),t.emit(\"nodeAdded\",{key:e,attributes:n}),r}function jt(t,e,n,r,i,o,a,c){if(!r&&\"undirected\"===t.type)throw new I(\"Graph.\".concat(e,\": you cannot add a directed edge to an undirected graph. Use the #.addEdge or #.addUndirectedEdge instead.\"));if(r&&\"directed\"===t.type)throw new I(\"Graph.\".concat(e,\": you cannot add an undirected edge to a directed graph. Use the #.addEdge or #.addDirectedEdge instead.\"));if(c&&!s(c))throw new B(\"Graph.\".concat(e,': invalid attributes. Expecting an object but got \"').concat(c,'\"'));if(o=\"\"+o,a=\"\"+a,c=c||{},!t.allowSelfLoops&&o===a)throw new I(\"Graph.\".concat(e,': source & target are the same (\"').concat(o,\"\\\"), thus creating a loop explicitly forbidden by this graph 'allowSelfLoops' option set to false.\"));var u=t._nodes.get(o),d=t._nodes.get(a);if(!u)throw new F(\"Graph.\".concat(e,': source node \"').concat(o,'\" not found.'));if(!d)throw new F(\"Graph.\".concat(e,': target node \"').concat(a,'\" not found.'));var h={key:null,undirected:r,source:o,target:a,attributes:c};if(n)i=t._edgeKeyGenerator();else if(i=\"\"+i,t._edges.has(i))throw new I(\"Graph.\".concat(e,': the \"').concat(i,'\" edge already exists in the graph.'));if(!t.multi&&(r?void 0!==u.undirected[a]:void 0!==u.out[a]))throw new I(\"Graph.\".concat(e,': an edge linking \"').concat(o,'\" to \"').concat(a,\"\\\" already exists. If you really want to add multiple edges linking those nodes, you should create a multi graph by using the 'multi' option.\"));var p=new V(r,i,u,d,c);t._edges.set(i,p);var f=o===a;return r?(u.undirectedDegree++,d.undirectedDegree++,f&&(u.undirectedLoops++,t._undirectedSelfLoopCount++)):(u.outDegree++,d.inDegree++,f&&(u.directedLoops++,t._directedSelfLoopCount++)),t.multi?p.attachMulti():p.attach(),r?t._undirectedSize++:t._directedSize++,h.key=i,t.emit(\"edgeAdded\",h),i}function Ct(t,e,n,r,i,o,a,c,d){if(!r&&\"undirected\"===t.type)throw new I(\"Graph.\".concat(e,\": you cannot merge/update a directed edge to an undirected graph. Use the #.mergeEdge/#.updateEdge or #.addUndirectedEdge instead.\"));if(r&&\"directed\"===t.type)throw new I(\"Graph.\".concat(e,\": you cannot merge/update an undirected edge to a directed graph. Use the #.mergeEdge/#.updateEdge or #.addDirectedEdge instead.\"));if(c)if(d){if(\"function\"!=typeof c)throw new B(\"Graph.\".concat(e,': invalid updater function. Expecting a function but got \"').concat(c,'\"'))}else if(!s(c))throw new B(\"Graph.\".concat(e,': invalid attributes. Expecting an object but got \"').concat(c,'\"'));var h;if(o=\"\"+o,a=\"\"+a,d&&(h=c,c=void 0),!t.allowSelfLoops&&o===a)throw new I(\"Graph.\".concat(e,': source & target are the same (\"').concat(o,\"\\\"), thus creating a loop explicitly forbidden by this graph 'allowSelfLoops' option set to false.\"));var p,f,l=t._nodes.get(o),g=t._nodes.get(a);if(!n&&(p=t._edges.get(i))){if(!(p.source.key===o&&p.target.key===a||r&&p.source.key===a&&p.target.key===o))throw new I(\"Graph.\".concat(e,': inconsistency detected when attempting to merge the \"').concat(i,'\" edge with \"').concat(o,'\" source & \"').concat(a,'\" target vs. (\"').concat(p.source.key,'\", \"').concat(p.target.key,'\").'));f=p}if(f||t.multi||!l||(f=r?l.undirected[a]:l.out[a]),f){var y=[f.key,!1,!1,!1];if(d?!h:!c)return y;if(d){var w=f.attributes;f.attributes=h(w),t.emit(\"edgeAttributesUpdated\",{type:\"replace\",key:f.key,attributes:f.attributes})}else u(f.attributes,c),t.emit(\"edgeAttributesUpdated\",{type:\"merge\",key:f.key,attributes:f.attributes,data:c});return y}c=c||{},d&&h&&(c=h(c));var v={key:null,undirected:r,source:o,target:a,attributes:c};if(n)i=t._edgeKeyGenerator();else if(i=\"\"+i,t._edges.has(i))throw new I(\"Graph.\".concat(e,': the \"').concat(i,'\" edge already exists in the graph.'));var b=!1,m=!1;l||(l=Ot(t,o,{}),b=!0,o===a&&(g=l,m=!0)),g||(g=Ot(t,a,{}),m=!0),p=new V(r,i,l,g,c),t._edges.set(i,p);var k=o===a;return r?(l.undirectedDegree++,g.undirectedDegree++,k&&(l.undirectedLoops++,t._undirectedSelfLoopCount++)):(l.outDegree++,g.inDegree++,k&&(l.directedLoops++,t._directedSelfLoopCount++)),t.multi?p.attachMulti():p.attach(),r?t._undirectedSize++:t._directedSize++,v.key=i,t.emit(\"edgeAdded\",v),[i,!0,b,m]}function Mt(t,e){t._edges.delete(e.key);var n=e.source,r=e.target,i=e.attributes,o=e.undirected,a=n===r;o?(n.undirectedDegree--,r.undirectedDegree--,a&&(n.undirectedLoops--,t._undirectedSelfLoopCount--)):(n.outDegree--,r.inDegree--,a&&(n.directedLoops--,t._directedSelfLoopCount--)),t.multi?e.detachMulti():e.detach(),o?t._undirectedSize--:t._directedSize--,t.emit(\"edgeDropped\",{key:e.key,attributes:i,source:n.key,target:r.key,undirected:o})}var zt=function(n){function r(t){var e;if(e=n.call(this)||this,\"boolean\"!=typeof(t=u({},Nt,t)).multi)throw new B(\"Graph.constructor: invalid 'multi' option. Expecting a boolean but got \\\"\".concat(t.multi,'\".'));if(!Dt.has(t.type))throw new B('Graph.constructor: invalid \\'type\\' option. Should be one of \"mixed\", \"directed\" or \"undirected\" but got \"'.concat(t.type,'\".'));if(\"boolean\"!=typeof t.allowSelfLoops)throw new B(\"Graph.constructor: invalid 'allowSelfLoops' option. Expecting a boolean but got \\\"\".concat(t.allowSelfLoops,'\".'));var r=\"mixed\"===t.type?Y:\"directed\"===t.type?q:J;p(c(e),\"NodeDataClass\",r);var i=\"geid_\"+St()+\"_\",o=0;return p(c(e),\"_attributes\",{}),p(c(e),\"_nodes\",new Map),p(c(e),\"_edges\",new Map),p(c(e),\"_directedSize\",0),p(c(e),\"_undirectedSize\",0),p(c(e),\"_directedSelfLoopCount\",0),p(c(e),\"_undirectedSelfLoopCount\",0),p(c(e),\"_edgeKeyGenerator\",(function(){var t;do{t=i+o++}while(e._edges.has(t));return t})),p(c(e),\"_options\",t),Ut.forEach((function(t){return p(c(e),t,e[t])})),f(c(e),\"order\",(function(){return e._nodes.size})),f(c(e),\"size\",(function(){return e._edges.size})),f(c(e),\"directedSize\",(function(){return e._directedSize})),f(c(e),\"undirectedSize\",(function(){return e._undirectedSize})),f(c(e),\"selfLoopCount\",(function(){return e._directedSelfLoopCount+e._undirectedSelfLoopCount})),f(c(e),\"directedSelfLoopCount\",(function(){return e._directedSelfLoopCount})),f(c(e),\"undirectedSelfLoopCount\",(function(){return e._undirectedSelfLoopCount})),f(c(e),\"multi\",e._options.multi),f(c(e),\"type\",e._options.type),f(c(e),\"allowSelfLoops\",e._options.allowSelfLoops),f(c(e),\"implementation\",(function(){return\"graphology\"})),e}e(r,n);var i=r.prototype;return i._resetInstanceCounters=function(){this._directedSize=0,this._undirectedSize=0,this._directedSelfLoopCount=0,this._undirectedSelfLoopCount=0},i.hasNode=function(t){return this._nodes.has(\"\"+t)},i.hasDirectedEdge=function(t,e){if(\"undirected\"===this.type)return!1;if(1===arguments.length){var n=\"\"+t,r=this._edges.get(n);return!!r&&!r.undirected}if(2===arguments.length){t=\"\"+t,e=\"\"+e;var i=this._nodes.get(t);return!!i&&i.out.hasOwnProperty(e)}throw new B(\"Graph.hasDirectedEdge: invalid arity (\".concat(arguments.length,\", instead of 1 or 2). You can either ask for an edge id or for the existence of an edge between a source & a target.\"))},i.hasUndirectedEdge=function(t,e){if(\"directed\"===this.type)return!1;if(1===arguments.length){var n=\"\"+t,r=this._edges.get(n);return!!r&&r.undirected}if(2===arguments.length){t=\"\"+t,e=\"\"+e;var i=this._nodes.get(t);return!!i&&i.undirected.hasOwnProperty(e)}throw new B(\"Graph.hasDirectedEdge: invalid arity (\".concat(arguments.length,\", instead of 1 or 2). You can either ask for an edge id or for the existence of an edge between a source & a target.\"))},i.hasEdge=function(t,e){if(1===arguments.length){var n=\"\"+t;return this._edges.has(n)}if(2===arguments.length){t=\"\"+t,e=\"\"+e;var r=this._nodes.get(t);return!!r&&(void 0!==r.out&&r.out.hasOwnProperty(e)||void 0!==r.undirected&&r.undirected.hasOwnProperty(e))}throw new B(\"Graph.hasEdge: invalid arity (\".concat(arguments.length,\", instead of 1 or 2). You can either ask for an edge id or for the existence of an edge between a source & a target.\"))},i.directedEdge=function(t,e){if(\"undirected\"!==this.type){if(t=\"\"+t,e=\"\"+e,this.multi)throw new I(\"Graph.directedEdge: this method is irrelevant with multigraphs since there might be multiple edges between source & target. See #.directedEdges instead.\");var n=this._nodes.get(t);if(!n)throw new F('Graph.directedEdge: could not find the \"'.concat(t,'\" source node in the graph.'));if(!this._nodes.has(e))throw new F('Graph.directedEdge: could not find the \"'.concat(e,'\" target node in the graph.'));var r=n.out&&n.out[e]||void 0;return r?r.key:void 0}},i.undirectedEdge=function(t,e){if(\"directed\"!==this.type){if(t=\"\"+t,e=\"\"+e,this.multi)throw new I(\"Graph.undirectedEdge: this method is irrelevant with multigraphs since there might be multiple edges between source & target. See #.undirectedEdges instead.\");var n=this._nodes.get(t);if(!n)throw new F('Graph.undirectedEdge: could not find the \"'.concat(t,'\" source node in the graph.'));if(!this._nodes.has(e))throw new F('Graph.undirectedEdge: could not find the \"'.concat(e,'\" target node in the graph.'));var r=n.undirected&&n.undirected[e]||void 0;return r?r.key:void 0}},i.edge=function(t,e){if(this.multi)throw new I(\"Graph.edge: this method is irrelevant with multigraphs since there might be multiple edges between source & target. See #.edges instead.\");t=\"\"+t,e=\"\"+e;var n=this._nodes.get(t);if(!n)throw new F('Graph.edge: could not find the \"'.concat(t,'\" source node in the graph.'));if(!this._nodes.has(e))throw new F('Graph.edge: could not find the \"'.concat(e,'\" target node in the graph.'));var r=n.out&&n.out[e]||n.undirected&&n.undirected[e]||void 0;if(r)return r.key},i.areDirectedNeighbors=function(t,e){t=\"\"+t,e=\"\"+e;var n=this._nodes.get(t);if(!n)throw new F('Graph.areDirectedNeighbors: could not find the \"'.concat(t,'\" node in the graph.'));return\"undirected\"!==this.type&&(e in n.in||e in n.out)},i.areOutNeighbors=function(t,e){t=\"\"+t,e=\"\"+e;var n=this._nodes.get(t);if(!n)throw new F('Graph.areOutNeighbors: could not find the \"'.concat(t,'\" node in the graph.'));return\"undirected\"!==this.type&&e in n.out},i.areInNeighbors=function(t,e){t=\"\"+t,e=\"\"+e;var n=this._nodes.get(t);if(!n)throw new F('Graph.areInNeighbors: could not find the \"'.concat(t,'\" node in the graph.'));return\"undirected\"!==this.type&&e in n.in},i.areUndirectedNeighbors=function(t,e){t=\"\"+t,e=\"\"+e;var n=this._nodes.get(t);if(!n)throw new F('Graph.areUndirectedNeighbors: could not find the \"'.concat(t,'\" node in the graph.'));return\"directed\"!==this.type&&e in n.undirected},i.areNeighbors=function(t,e){t=\"\"+t,e=\"\"+e;var n=this._nodes.get(t);if(!n)throw new F('Graph.areNeighbors: could not find the \"'.concat(t,'\" node in the graph.'));return\"undirected\"!==this.type&&(e in n.in||e in n.out)||\"directed\"!==this.type&&e in n.undirected},i.areInboundNeighbors=function(t,e){t=\"\"+t,e=\"\"+e;var n=this._nodes.get(t);if(!n)throw new F('Graph.areInboundNeighbors: could not find the \"'.concat(t,'\" node in the graph.'));return\"undirected\"!==this.type&&e in n.in||\"directed\"!==this.type&&e in n.undirected},i.areOutboundNeighbors=function(t,e){t=\"\"+t,e=\"\"+e;var n=this._nodes.get(t);if(!n)throw new F('Graph.areOutboundNeighbors: could not find the \"'.concat(t,'\" node in the graph.'));return\"undirected\"!==this.type&&e in n.out||\"directed\"!==this.type&&e in n.undirected},i.inDegree=function(t){t=\"\"+t;var e=this._nodes.get(t);if(!e)throw new F('Graph.inDegree: could not find the \"'.concat(t,'\" node in the graph.'));return\"undirected\"===this.type?0:e.inDegree},i.outDegree=function(t){t=\"\"+t;var e=this._nodes.get(t);if(!e)throw new F('Graph.outDegree: could not find the \"'.concat(t,'\" node in the graph.'));return\"undirected\"===this.type?0:e.outDegree},i.directedDegree=function(t){t=\"\"+t;var e=this._nodes.get(t);if(!e)throw new F('Graph.directedDegree: could not find the \"'.concat(t,'\" node in the graph.'));return\"undirected\"===this.type?0:e.inDegree+e.outDegree},i.undirectedDegree=function(t){t=\"\"+t;var e=this._nodes.get(t);if(!e)throw new F('Graph.undirectedDegree: could not find the \"'.concat(t,'\" node in the graph.'));return\"directed\"===this.type?0:e.undirectedDegree},i.inboundDegree=function(t){t=\"\"+t;var e=this._nodes.get(t);if(!e)throw new F('Graph.inboundDegree: could not find the \"'.concat(t,'\" node in the graph.'));var n=0;return\"directed\"!==this.type&&(n+=e.undirectedDegree),\"undirected\"!==this.type&&(n+=e.inDegree),n},i.outboundDegree=function(t){t=\"\"+t;var e=this._nodes.get(t);if(!e)throw new F('Graph.outboundDegree: could not find the \"'.concat(t,'\" node in the graph.'));var n=0;return\"directed\"!==this.type&&(n+=e.undirectedDegree),\"undirected\"!==this.type&&(n+=e.outDegree),n},i.degree=function(t){t=\"\"+t;var e=this._nodes.get(t);if(!e)throw new F('Graph.degree: could not find the \"'.concat(t,'\" node in the graph.'));var n=0;return\"directed\"!==this.type&&(n+=e.undirectedDegree),\"undirected\"!==this.type&&(n+=e.inDegree+e.outDegree),n},i.inDegreeWithoutSelfLoops=function(t){t=\"\"+t;var e=this._nodes.get(t);if(!e)throw new F('Graph.inDegreeWithoutSelfLoops: could not find the \"'.concat(t,'\" node in the graph.'));return\"undirected\"===this.type?0:e.inDegree-e.directedLoops},i.outDegreeWithoutSelfLoops=function(t){t=\"\"+t;var e=this._nodes.get(t);if(!e)throw new F('Graph.outDegreeWithoutSelfLoops: could not find the \"'.concat(t,'\" node in the graph.'));return\"undirected\"===this.type?0:e.outDegree-e.directedLoops},i.directedDegreeWithoutSelfLoops=function(t){t=\"\"+t;var e=this._nodes.get(t);if(!e)throw new F('Graph.directedDegreeWithoutSelfLoops: could not find the \"'.concat(t,'\" node in the graph.'));return\"undirected\"===this.type?0:e.inDegree+e.outDegree-2*e.directedLoops},i.undirectedDegreeWithoutSelfLoops=function(t){t=\"\"+t;var e=this._nodes.get(t);if(!e)throw new F('Graph.undirectedDegreeWithoutSelfLoops: could not find the \"'.concat(t,'\" node in the graph.'));return\"directed\"===this.type?0:e.undirectedDegree-2*e.undirectedLoops},i.inboundDegreeWithoutSelfLoops=function(t){t=\"\"+t;var e=this._nodes.get(t);if(!e)throw new F('Graph.inboundDegreeWithoutSelfLoops: could not find the \"'.concat(t,'\" node in the graph.'));var n=0,r=0;return\"directed\"!==this.type&&(n+=e.undirectedDegree,r+=2*e.undirectedLoops),\"undirected\"!==this.type&&(n+=e.inDegree,r+=e.directedLoops),n-r},i.outboundDegreeWithoutSelfLoops=function(t){t=\"\"+t;var e=this._nodes.get(t);if(!e)throw new F('Graph.outboundDegreeWithoutSelfLoops: could not find the \"'.concat(t,'\" node in the graph.'));var n=0,r=0;return\"directed\"!==this.type&&(n+=e.undirectedDegree,r+=2*e.undirectedLoops),\"undirected\"!==this.type&&(n+=e.outDegree,r+=e.directedLoops),n-r},i.degreeWithoutSelfLoops=function(t){t=\"\"+t;var e=this._nodes.get(t);if(!e)throw new F('Graph.degreeWithoutSelfLoops: could not find the \"'.concat(t,'\" node in the graph.'));var n=0,r=0;return\"directed\"!==this.type&&(n+=e.undirectedDegree,r+=2*e.undirectedLoops),\"undirected\"!==this.type&&(n+=e.inDegree+e.outDegree,r+=2*e.directedLoops),n-r},i.source=function(t){t=\"\"+t;var e=this._edges.get(t);if(!e)throw new F('Graph.source: could not find the \"'.concat(t,'\" edge in the graph.'));return e.source.key},i.target=function(t){t=\"\"+t;var e=this._edges.get(t);if(!e)throw new F('Graph.target: could not find the \"'.concat(t,'\" edge in the graph.'));return e.target.key},i.extremities=function(t){t=\"\"+t;var e=this._edges.get(t);if(!e)throw new F('Graph.extremities: could not find the \"'.concat(t,'\" edge in the graph.'));return[e.source.key,e.target.key]},i.opposite=function(t,e){t=\"\"+t,e=\"\"+e;var n=this._edges.get(e);if(!n)throw new F('Graph.opposite: could not find the \"'.concat(e,'\" edge in the graph.'));var r=n.source.key,i=n.target.key;if(t===r)return i;if(t===i)return r;throw new F('Graph.opposite: the \"'.concat(t,'\" node is not attached to the \"').concat(e,'\" edge (').concat(r,\", \").concat(i,\").\"))},i.hasExtremity=function(t,e){t=\"\"+t,e=\"\"+e;var n=this._edges.get(t);if(!n)throw new F('Graph.hasExtremity: could not find the \"'.concat(t,'\" edge in the graph.'));return n.source.key===e||n.target.key===e},i.isUndirected=function(t){t=\"\"+t;var e=this._edges.get(t);if(!e)throw new F('Graph.isUndirected: could not find the \"'.concat(t,'\" edge in the graph.'));return e.undirected},i.isDirected=function(t){t=\"\"+t;var e=this._edges.get(t);if(!e)throw new F('Graph.isDirected: could not find the \"'.concat(t,'\" edge in the graph.'));return!e.undirected},i.isSelfLoop=function(t){t=\"\"+t;var e=this._edges.get(t);if(!e)throw new F('Graph.isSelfLoop: could not find the \"'.concat(t,'\" edge in the graph.'));return e.source===e.target},i.addNode=function(t,e){var n=function(t,e,n){if(n&&!s(n))throw new B('Graph.addNode: invalid attributes. Expecting an object but got \"'.concat(n,'\"'));if(e=\"\"+e,n=n||{},t._nodes.has(e))throw new I('Graph.addNode: the \"'.concat(e,'\" node already exist in the graph.'));var r=new t.NodeDataClass(e,n);return t._nodes.set(e,r),t.emit(\"nodeAdded\",{key:e,attributes:n}),r}(this,t,e);return n.key},i.mergeNode=function(t,e){if(e&&!s(e))throw new B('Graph.mergeNode: invalid attributes. Expecting an object but got \"'.concat(e,'\"'));t=\"\"+t,e=e||{};var n=this._nodes.get(t);return n?(e&&(u(n.attributes,e),this.emit(\"nodeAttributesUpdated\",{type:\"merge\",key:t,attributes:n.attributes,data:e})),[t,!1]):(n=new this.NodeDataClass(t,e),this._nodes.set(t,n),this.emit(\"nodeAdded\",{key:t,attributes:e}),[t,!0])},i.updateNode=function(t,e){if(e&&\"function\"!=typeof e)throw new B('Graph.updateNode: invalid updater function. Expecting a function but got \"'.concat(e,'\"'));t=\"\"+t;var n=this._nodes.get(t);if(n){if(e){var r=n.attributes;n.attributes=e(r),this.emit(\"nodeAttributesUpdated\",{type:\"replace\",key:t,attributes:n.attributes})}return[t,!1]}var i=e?e({}):{};return n=new this.NodeDataClass(t,i),this._nodes.set(t,n),this.emit(\"nodeAdded\",{key:t,attributes:i}),[t,!0]},i.dropNode=function(t){t=\"\"+t;var e,n=this._nodes.get(t);if(!n)throw new F('Graph.dropNode: could not find the \"'.concat(t,'\" node in the graph.'));if(\"undirected\"!==this.type){for(var r in n.out){e=n.out[r];do{Mt(this,e),e=e.next}while(e)}for(var i in n.in){e=n.in[i];do{Mt(this,e),e=e.next}while(e)}}if(\"directed\"!==this.type)for(var o in n.undirected){e=n.undirected[o];do{Mt(this,e),e=e.next}while(e)}this._nodes.delete(t),this.emit(\"nodeDropped\",{key:t,attributes:n.attributes})},i.dropEdge=function(t){var e;if(arguments.length>1){var n=\"\"+arguments[0],r=\"\"+arguments[1];if(!(e=d(this,n,r,this.type)))throw new F('Graph.dropEdge: could not find the \"'.concat(n,'\" -> \"').concat(r,'\" edge in the graph.'))}else if(t=\"\"+t,!(e=this._edges.get(t)))throw new F('Graph.dropEdge: could not find the \"'.concat(t,'\" edge in the graph.'));return Mt(this,e),this},i.dropDirectedEdge=function(t,e){if(arguments.length<2)throw new I(\"Graph.dropDirectedEdge: it does not make sense to try and drop a directed edge by key. What if the edge with this key is undirected? Use #.dropEdge for this purpose instead.\");if(this.multi)throw new I(\"Graph.dropDirectedEdge: cannot use a {source,target} combo when dropping an edge in a MultiGraph since we cannot infer the one you want to delete as there could be multiple ones.\");var n=d(this,t=\"\"+t,e=\"\"+e,\"directed\");if(!n)throw new F('Graph.dropDirectedEdge: could not find a \"'.concat(t,'\" -> \"').concat(e,'\" edge in the graph.'));return Mt(this,n),this},i.dropUndirectedEdge=function(t,e){if(arguments.length<2)throw new I(\"Graph.dropUndirectedEdge: it does not make sense to drop a directed edge by key. What if the edge with this key is undirected? Use #.dropEdge for this purpose instead.\");if(this.multi)throw new I(\"Graph.dropUndirectedEdge: cannot use a {source,target} combo when dropping an edge in a MultiGraph since we cannot infer the one you want to delete as there could be multiple ones.\");var n=d(this,t,e,\"undirected\");if(!n)throw new F('Graph.dropUndirectedEdge: could not find a \"'.concat(t,'\" -> \"').concat(e,'\" edge in the graph.'));return Mt(this,n),this},i.clear=function(){this._edges.clear(),this._nodes.clear(),this._resetInstanceCounters(),this.emit(\"cleared\")},i.clearEdges=function(){for(var t,e=this._nodes.values();!0!==(t=e.next()).done;)t.value.clear();this._edges.clear(),this._resetInstanceCounters(),this.emit(\"edgesCleared\")},i.getAttribute=function(t){return this._attributes[t]},i.getAttributes=function(){return this._attributes},i.hasAttribute=function(t){return this._attributes.hasOwnProperty(t)},i.setAttribute=function(t,e){return this._attributes[t]=e,this.emit(\"attributesUpdated\",{type:\"set\",attributes:this._attributes,name:t}),this},i.updateAttribute=function(t,e){if(\"function\"!=typeof e)throw new B(\"Graph.updateAttribute: updater should be a function.\");var n=this._attributes[t];return this._attributes[t]=e(n),this.emit(\"attributesUpdated\",{type:\"set\",attributes:this._attributes,name:t}),this},i.removeAttribute=function(t){return delete this._attributes[t],this.emit(\"attributesUpdated\",{type:\"remove\",attributes:this._attributes,name:t}),this},i.replaceAttributes=function(t){if(!s(t))throw new B(\"Graph.replaceAttributes: provided attributes are not a plain object.\");return this._attributes=t,this.emit(\"attributesUpdated\",{type:\"replace\",attributes:this._attributes}),this},i.mergeAttributes=function(t){if(!s(t))throw new B(\"Graph.mergeAttributes: provided attributes are not a plain object.\");return u(this._attributes,t),this.emit(\"attributesUpdated\",{type:\"merge\",attributes:this._attributes,data:t}),this},i.updateAttributes=function(t){if(\"function\"!=typeof t)throw new B(\"Graph.updateAttributes: provided updater is not a function.\");return this._attributes=t(this._attributes),this.emit(\"attributesUpdated\",{type:\"update\",attributes:this._attributes}),this},i.updateEachNodeAttributes=function(t,e){if(\"function\"!=typeof t)throw new B(\"Graph.updateEachNodeAttributes: expecting an updater function.\");if(e&&!l(e))throw new B(\"Graph.updateEachNodeAttributes: invalid hints. Expecting an object having the following shape: {attributes?: [string]}\");for(var n,r,i=this._nodes.values();!0!==(n=i.next()).done;)(r=n.value).attributes=t(r.key,r.attributes);this.emit(\"eachNodeAttributesUpdated\",{hints:e||null})},i.updateEachEdgeAttributes=function(t,e){if(\"function\"!=typeof t)throw new B(\"Graph.updateEachEdgeAttributes: expecting an updater function.\");if(e&&!l(e))throw new B(\"Graph.updateEachEdgeAttributes: invalid hints. Expecting an object having the following shape: {attributes?: [string]}\");for(var n,r,i,o,a=this._edges.values();!0!==(n=a.next()).done;)i=(r=n.value).source,o=r.target,r.attributes=t(r.key,r.attributes,i.key,o.key,i.attributes,o.attributes,r.undirected);this.emit(\"eachEdgeAttributesUpdated\",{hints:e||null})},i.forEachAdjacencyEntry=function(t){if(\"function\"!=typeof t)throw new B(\"Graph.forEachAdjacencyEntry: expecting a callback.\");xt(!1,!1,!1,this,t)},i.forEachAdjacencyEntryWithOrphans=function(t){if(\"function\"!=typeof t)throw new B(\"Graph.forEachAdjacencyEntryWithOrphans: expecting a callback.\");xt(!1,!1,!0,this,t)},i.forEachAssymetricAdjacencyEntry=function(t){if(\"function\"!=typeof t)throw new B(\"Graph.forEachAssymetricAdjacencyEntry: expecting a callback.\");xt(!1,!0,!1,this,t)},i.forEachAssymetricAdjacencyEntryWithOrphans=function(t){if(\"function\"!=typeof t)throw new B(\"Graph.forEachAssymetricAdjacencyEntryWithOrphans: expecting a callback.\");xt(!1,!0,!0,this,t)},i.nodes=function(){return\"function\"==typeof Array.from?Array.from(this._nodes.keys()):K(this._nodes.keys(),this._nodes.size)},i.forEachNode=function(t){if(\"function\"!=typeof t)throw new B(\"Graph.forEachNode: expecting a callback.\");for(var e,n,r=this._nodes.values();!0!==(e=r.next()).done;)t((n=e.value).key,n.attributes)},i.findNode=function(t){if(\"function\"!=typeof t)throw new B(\"Graph.findNode: expecting a callback.\");for(var e,n,r=this._nodes.values();!0!==(e=r.next()).done;)if(t((n=e.value).key,n.attributes))return n.key},i.mapNodes=function(t){if(\"function\"!=typeof t)throw new B(\"Graph.mapNode: expecting a callback.\");for(var e,n,r=this._nodes.values(),i=new Array(this.order),o=0;!0!==(e=r.next()).done;)n=e.value,i[o++]=t(n.key,n.attributes);return i},i.someNode=function(t){if(\"function\"!=typeof t)throw new B(\"Graph.someNode: expecting a callback.\");for(var e,n,r=this._nodes.values();!0!==(e=r.next()).done;)if(t((n=e.value).key,n.attributes))return!0;return!1},i.everyNode=function(t){if(\"function\"!=typeof t)throw new B(\"Graph.everyNode: expecting a callback.\");for(var e,n,r=this._nodes.values();!0!==(e=r.next()).done;)if(!t((n=e.value).key,n.attributes))return!1;return!0},i.filterNodes=function(t){if(\"function\"!=typeof t)throw new B(\"Graph.filterNodes: expecting a callback.\");for(var e,n,r=this._nodes.values(),i=[];!0!==(e=r.next()).done;)t((n=e.value).key,n.attributes)&&i.push(n.key);return i},i.reduceNodes=function(t,e){if(\"function\"!=typeof t)throw new B(\"Graph.reduceNodes: expecting a callback.\");if(arguments.length<2)throw new B(\"Graph.reduceNodes: missing initial value. You must provide it because the callback takes more than one argument and we cannot infer the initial value from the first iteration, as you could with a simple array.\");for(var n,r,i=e,o=this._nodes.values();!0!==(n=o.next()).done;)i=t(i,(r=n.value).key,r.attributes);return i},i.nodeEntries=function(){var t=this._nodes.values();return new O((function(){var e=t.next();if(e.done)return e;var n=e.value;return{value:{node:n.key,attributes:n.attributes},done:!1}}))},i.export=function(){var t=this,e=new Array(this._nodes.size),n=0;this._nodes.forEach((function(t,r){e[n++]=function(t,e){var n={key:t};return h(e.attributes)||(n.attributes=u({},e.attributes)),n}(r,t)}));var r=new Array(this._edges.size);return n=0,this._edges.forEach((function(e,i){r[n++]=function(t,e,n){var r={key:e,source:n.source.key,target:n.target.key};return h(n.attributes)||(r.attributes=u({},n.attributes)),\"mixed\"===t&&n.undirected&&(r.undirected=!0),r}(t.type,i,e)})),{options:{type:this.type,multi:this.multi,allowSelfLoops:this.allowSelfLoops},attributes:this.getAttributes(),nodes:e,edges:r}},i.import=function(t){var e,n,i,o,a,c=this,u=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(t instanceof r)return t.forEachNode((function(t,e){u?c.mergeNode(t,e):c.addNode(t,e)})),t.forEachEdge((function(t,e,n,r,i,o,a){u?a?c.mergeUndirectedEdgeWithKey(t,n,r,e):c.mergeDirectedEdgeWithKey(t,n,r,e):a?c.addUndirectedEdgeWithKey(t,n,r,e):c.addDirectedEdgeWithKey(t,n,r,e)})),this;if(!s(t))throw new B(\"Graph.import: invalid argument. Expecting a serialized graph or, alternatively, a Graph instance.\");if(t.attributes){if(!s(t.attributes))throw new B(\"Graph.import: invalid attributes. Expecting a plain object.\");u?this.mergeAttributes(t.attributes):this.replaceAttributes(t.attributes)}if(t.nodes){if(i=t.nodes,!Array.isArray(i))throw new B(\"Graph.import: invalid nodes. Expecting an array.\");for(e=0,n=i.length;e<n;e++){Et(o=i[e]);var d=o,h=d.key,p=d.attributes;u?this.mergeNode(h,p):this.addNode(h,p)}}if(t.edges){var f=!1;if(\"undirected\"===this.type&&(f=!0),i=t.edges,!Array.isArray(i))throw new B(\"Graph.import: invalid edges. Expecting an array.\");for(e=0,n=i.length;e<n;e++){At(a=i[e]);var l=a,g=l.source,y=l.target,w=l.attributes,v=l.undirected,b=void 0===v?f:v;\"key\"in a?(u?b?this.mergeUndirectedEdgeWithKey:this.mergeDirectedEdgeWithKey:b?this.addUndirectedEdgeWithKey:this.addDirectedEdgeWithKey).call(this,a.key,g,y,w):(u?b?this.mergeUndirectedEdge:this.mergeDirectedEdge:b?this.addUndirectedEdge:this.addDirectedEdge).call(this,g,y,w)}}return this},i.nullCopy=function(t){var e=new r(u({},this._options,t));return e.replaceAttributes(u({},this.getAttributes())),e},i.emptyCopy=function(t){var e=this.nullCopy(t);return this._nodes.forEach((function(t,n){var r=u({},t.attributes);t=new e.NodeDataClass(n,r),e._nodes.set(n,t)})),e},i.copy=function(t){if(\"string\"==typeof(t=t||{}).type&&t.type!==this.type&&\"mixed\"!==t.type)throw new I('Graph.copy: cannot create an incompatible copy from \"'.concat(this.type,'\" type to \"').concat(t.type,'\" because this would mean losing information about the current graph.'));if(\"boolean\"==typeof t.multi&&t.multi!==this.multi&&!0!==t.multi)throw new I(\"Graph.copy: cannot create an incompatible copy by downgrading a multi graph to a simple one because this would mean losing information about the current graph.\");if(\"boolean\"==typeof t.allowSelfLoops&&t.allowSelfLoops!==this.allowSelfLoops&&!0!==t.allowSelfLoops)throw new I(\"Graph.copy: cannot create an incompatible copy from a graph allowing self loops to one that does not because this would mean losing information about the current graph.\");for(var e,n,r=this.emptyCopy(t),i=this._edges.values();!0!==(e=i.next()).done;)jt(r,\"copy\",!1,(n=e.value).undirected,n.key,n.source.key,n.target.key,u({},n.attributes));return r},i.toJSON=function(){return this.export()},i.toString=function(){return\"[object Graph]\"},i.inspect=function(){var e=this,n={};this._nodes.forEach((function(t,e){n[e]=t.attributes}));var r={},i={};this._edges.forEach((function(t,n){var o,a=t.undirected?\"--\":\"->\",c=\"\",u=t.source.key,d=t.target.key;t.undirected&&u>d&&(o=u,u=d,d=o);var s=\"(\".concat(u,\")\").concat(a,\"(\").concat(d,\")\");n.startsWith(\"geid_\")?e.multi&&(void 0===i[s]?i[s]=0:i[s]++,c+=\"\".concat(i[s],\". \")):c+=\"[\".concat(n,\"]: \"),r[c+=s]=t.attributes}));var o={};for(var a in this)this.hasOwnProperty(a)&&!Ut.has(a)&&\"function\"!=typeof this[a]&&\"symbol\"!==t(a)&&(o[a]=this[a]);return o.attributes=this._attributes,o.nodes=n,o.edges=r,p(o,\"constructor\",this.constructor),o},r}(y.exports.EventEmitter);\"undefined\"!=typeof Symbol&&(zt.prototype[Symbol.for(\"nodejs.util.inspect.custom\")]=zt.prototype.inspect),[{name:function(t){return\"\".concat(t,\"Edge\")},generateKey:!0},{name:function(t){return\"\".concat(t,\"DirectedEdge\")},generateKey:!0,type:\"directed\"},{name:function(t){return\"\".concat(t,\"UndirectedEdge\")},generateKey:!0,type:\"undirected\"},{name:function(t){return\"\".concat(t,\"EdgeWithKey\")}},{name:function(t){return\"\".concat(t,\"DirectedEdgeWithKey\")},type:\"directed\"},{name:function(t){return\"\".concat(t,\"UndirectedEdgeWithKey\")},type:\"undirected\"}].forEach((function(t){[\"add\",\"merge\",\"update\"].forEach((function(e){var n=t.name(e),r=\"add\"===e?jt:Ct;t.generateKey?zt.prototype[n]=function(i,o,a){return r(this,n,!0,\"undirected\"===(t.type||this.type),null,i,o,a,\"update\"===e)}:zt.prototype[n]=function(i,o,a,c){return r(this,n,!1,\"undirected\"===(t.type||this.type),i,o,a,c,\"update\"===e)}}))})),function(t){Q.forEach((function(e){var n=e.name,r=e.attacher;r(t,n(\"Node\"),0),r(t,n(\"Source\"),1),r(t,n(\"Target\"),2),r(t,n(\"Opposite\"),3)}))}(zt),function(t){X.forEach((function(e){var n=e.name,r=e.attacher;r(t,n(\"Edge\"),\"mixed\"),r(t,n(\"DirectedEdge\"),\"directed\"),r(t,n(\"UndirectedEdge\"),\"undirected\")}))}(zt),function(t){et.forEach((function(e){!function(t,e){var n=e.name,r=e.type,i=e.direction;t.prototype[n]=function(t,e){if(\"mixed\"!==r&&\"mixed\"!==this.type&&r!==this.type)return[];if(!arguments.length)return ut(this,r);if(1===arguments.length){t=\"\"+t;var o=this._nodes.get(t);if(void 0===o)throw new F(\"Graph.\".concat(n,': could not find the \"').concat(t,'\" node in the graph.'));return pt(this.multi,\"mixed\"===r?this.type:r,i,o)}if(2===arguments.length){t=\"\"+t,e=\"\"+e;var a=this._nodes.get(t);if(!a)throw new F(\"Graph.\".concat(n,':  could not find the \"').concat(t,'\" source node in the graph.'));if(!this._nodes.has(e))throw new F(\"Graph.\".concat(n,':  could not find the \"').concat(e,'\" target node in the graph.'));return gt(r,this.multi,i,a,e)}throw new B(\"Graph.\".concat(n,\": too many arguments (expecting 0, 1 or 2 and got \").concat(arguments.length,\").\"))}}(t,e),function(t,e){var n=e.name,r=e.type,i=e.direction,o=\"forEach\"+n[0].toUpperCase()+n.slice(1,-1);t.prototype[o]=function(t,e,n){if(\"mixed\"===r||\"mixed\"===this.type||r===this.type){if(1===arguments.length)return dt(!1,this,r,n=t);if(2===arguments.length){t=\"\"+t,n=e;var a=this._nodes.get(t);if(void 0===a)throw new F(\"Graph.\".concat(o,': could not find the \"').concat(t,'\" node in the graph.'));return ht(!1,this.multi,\"mixed\"===r?this.type:r,i,a,n)}if(3===arguments.length){t=\"\"+t,e=\"\"+e;var c=this._nodes.get(t);if(!c)throw new F(\"Graph.\".concat(o,':  could not find the \"').concat(t,'\" source node in the graph.'));if(!this._nodes.has(e))throw new F(\"Graph.\".concat(o,':  could not find the \"').concat(e,'\" target node in the graph.'));return lt(!1,r,this.multi,i,c,e,n)}throw new B(\"Graph.\".concat(o,\": too many arguments (expecting 1, 2 or 3 and got \").concat(arguments.length,\").\"))}};var a=\"map\"+n[0].toUpperCase()+n.slice(1);t.prototype[a]=function(){var t,e=Array.prototype.slice.call(arguments),n=e.pop();if(0===e.length){var i=0;\"directed\"!==r&&(i+=this.undirectedSize),\"undirected\"!==r&&(i+=this.directedSize),t=new Array(i);var a=0;e.push((function(e,r,i,o,c,u,d){t[a++]=n(e,r,i,o,c,u,d)}))}else t=[],e.push((function(e,r,i,o,a,c,u){t.push(n(e,r,i,o,a,c,u))}));return this[o].apply(this,e),t};var c=\"filter\"+n[0].toUpperCase()+n.slice(1);t.prototype[c]=function(){var t=Array.prototype.slice.call(arguments),e=t.pop(),n=[];return t.push((function(t,r,i,o,a,c,u){e(t,r,i,o,a,c,u)&&n.push(t)})),this[o].apply(this,t),n};var u=\"reduce\"+n[0].toUpperCase()+n.slice(1);t.prototype[u]=function(){var t,e,n=Array.prototype.slice.call(arguments);if(n.length<2||n.length>4)throw new B(\"Graph.\".concat(u,\": invalid number of arguments (expecting 2, 3 or 4 and got \").concat(n.length,\").\"));if(\"function\"==typeof n[n.length-1]&&\"function\"!=typeof n[n.length-2])throw new B(\"Graph.\".concat(u,\": missing initial value. You must provide it because the callback takes more than one argument and we cannot infer the initial value from the first iteration, as you could with a simple array.\"));2===n.length?(t=n[0],e=n[1],n=[]):3===n.length?(t=n[1],e=n[2],n=[n[0]]):4===n.length&&(t=n[2],e=n[3],n=[n[0],n[1]]);var r=e;return n.push((function(e,n,i,o,a,c,u){r=t(r,e,n,i,o,a,c,u)})),this[o].apply(this,n),r}}(t,e),function(t,e){var n=e.name,r=e.type,i=e.direction,o=\"find\"+n[0].toUpperCase()+n.slice(1,-1);t.prototype[o]=function(t,e,n){if(\"mixed\"!==r&&\"mixed\"!==this.type&&r!==this.type)return!1;if(1===arguments.length)return dt(!0,this,r,n=t);if(2===arguments.length){t=\"\"+t,n=e;var a=this._nodes.get(t);if(void 0===a)throw new F(\"Graph.\".concat(o,': could not find the \"').concat(t,'\" node in the graph.'));return ht(!0,this.multi,\"mixed\"===r?this.type:r,i,a,n)}if(3===arguments.length){t=\"\"+t,e=\"\"+e;var c=this._nodes.get(t);if(!c)throw new F(\"Graph.\".concat(o,':  could not find the \"').concat(t,'\" source node in the graph.'));if(!this._nodes.has(e))throw new F(\"Graph.\".concat(o,':  could not find the \"').concat(e,'\" target node in the graph.'));return lt(!0,r,this.multi,i,c,e,n)}throw new B(\"Graph.\".concat(o,\": too many arguments (expecting 1, 2 or 3 and got \").concat(arguments.length,\").\"))};var a=\"some\"+n[0].toUpperCase()+n.slice(1,-1);t.prototype[a]=function(){var t=Array.prototype.slice.call(arguments),e=t.pop();return t.push((function(t,n,r,i,o,a,c){return e(t,n,r,i,o,a,c)})),!!this[o].apply(this,t)};var c=\"every\"+n[0].toUpperCase()+n.slice(1,-1);t.prototype[c]=function(){var t=Array.prototype.slice.call(arguments),e=t.pop();return t.push((function(t,n,r,i,o,a,c){return!e(t,n,r,i,o,a,c)})),!this[o].apply(this,t)}}(t,e),function(t,e){var n=e.name,r=e.type,i=e.direction,o=n.slice(0,-1)+\"Entries\";t.prototype[o]=function(t,e){if(\"mixed\"!==r&&\"mixed\"!==this.type&&r!==this.type)return O.empty();if(!arguments.length)return st(this,r);if(1===arguments.length){t=\"\"+t;var n=this._nodes.get(t);if(!n)throw new F(\"Graph.\".concat(o,': could not find the \"').concat(t,'\" node in the graph.'));return ft(r,i,n)}if(2===arguments.length){t=\"\"+t,e=\"\"+e;var a=this._nodes.get(t);if(!a)throw new F(\"Graph.\".concat(o,':  could not find the \"').concat(t,'\" source node in the graph.'));if(!this._nodes.has(e))throw new F(\"Graph.\".concat(o,':  could not find the \"').concat(e,'\" target node in the graph.'));return yt(r,i,a,e)}throw new B(\"Graph.\".concat(o,\": too many arguments (expecting 0, 1 or 2 and got \").concat(arguments.length,\").\"))}}(t,e)}))}(zt),function(t){wt.forEach((function(e){_t(t,e),function(t,e){var n=e.name,r=e.type,i=e.direction,o=\"forEach\"+n[0].toUpperCase()+n.slice(1,-1);t.prototype[o]=function(t,e){if(\"mixed\"===r||\"mixed\"===this.type||r===this.type){t=\"\"+t;var n=this._nodes.get(t);if(void 0===n)throw new F(\"Graph.\".concat(o,': could not find the \"').concat(t,'\" node in the graph.'));mt(!1,\"mixed\"===r?this.type:r,i,n,e)}};var a=\"map\"+n[0].toUpperCase()+n.slice(1);t.prototype[a]=function(t,e){var n=[];return this[o](t,(function(t,r){n.push(e(t,r))})),n};var c=\"filter\"+n[0].toUpperCase()+n.slice(1);t.prototype[c]=function(t,e){var n=[];return this[o](t,(function(t,r){e(t,r)&&n.push(t)})),n};var u=\"reduce\"+n[0].toUpperCase()+n.slice(1);t.prototype[u]=function(t,e,n){if(arguments.length<3)throw new B(\"Graph.\".concat(u,\": missing initial value. You must provide it because the callback takes more than one argument and we cannot infer the initial value from the first iteration, as you could with a simple array.\"));var r=n;return this[o](t,(function(t,n){r=e(r,t,n)})),r}}(t,e),function(t,e){var n=e.name,r=e.type,i=e.direction,o=n[0].toUpperCase()+n.slice(1,-1),a=\"find\"+o;t.prototype[a]=function(t,e){if(\"mixed\"===r||\"mixed\"===this.type||r===this.type){t=\"\"+t;var n=this._nodes.get(t);if(void 0===n)throw new F(\"Graph.\".concat(a,': could not find the \"').concat(t,'\" node in the graph.'));return mt(!0,\"mixed\"===r?this.type:r,i,n,e)}};var c=\"some\"+o;t.prototype[c]=function(t,e){return!!this[a](t,e)};var u=\"every\"+o;t.prototype[u]=function(t,e){return!this[a](t,(function(t,n){return!e(t,n)}))}}(t,e),Gt(t,e)}))}(zt);var Wt=function(t){function n(e){var n=u({type:\"directed\"},e);if(\"multi\"in n&&!1!==n.multi)throw new B(\"DirectedGraph.from: inconsistent indication that the graph should be multi in given options!\");if(\"directed\"!==n.type)throw new B('DirectedGraph.from: inconsistent \"'+n.type+'\" type in given options!');return t.call(this,n)||this}return e(n,t),n}(zt),Pt=function(t){function n(e){var n=u({type:\"undirected\"},e);if(\"multi\"in n&&!1!==n.multi)throw new B(\"UndirectedGraph.from: inconsistent indication that the graph should be multi in given options!\");if(\"undirected\"!==n.type)throw new B('UndirectedGraph.from: inconsistent \"'+n.type+'\" type in given options!');return t.call(this,n)||this}return e(n,t),n}(zt),Rt=function(t){function n(e){var n=u({multi:!0},e);if(\"multi\"in n&&!0!==n.multi)throw new B(\"MultiGraph.from: inconsistent indication that the graph should be simple in given options!\");return t.call(this,n)||this}return e(n,t),n}(zt),Kt=function(t){function n(e){var n=u({type:\"directed\",multi:!0},e);if(\"multi\"in n&&!0!==n.multi)throw new B(\"MultiDirectedGraph.from: inconsistent indication that the graph should be simple in given options!\");if(\"directed\"!==n.type)throw new B('MultiDirectedGraph.from: inconsistent \"'+n.type+'\" type in given options!');return t.call(this,n)||this}return e(n,t),n}(zt),Tt=function(t){function n(e){var n=u({type:\"undirected\",multi:!0},e);if(\"multi\"in n&&!0!==n.multi)throw new B(\"MultiUndirectedGraph.from: inconsistent indication that the graph should be simple in given options!\");if(\"undirected\"!==n.type)throw new B('MultiUndirectedGraph.from: inconsistent \"'+n.type+'\" type in given options!');return t.call(this,n)||this}return e(n,t),n}(zt);function Bt(t){t.from=function(e,n){var r=u({},e.options,n),i=new t(r);return i.import(e),i}}return Bt(zt),Bt(Wt),Bt(Pt),Bt(Rt),Bt(Kt),Bt(Tt),zt.Graph=zt,zt.DirectedGraph=Wt,zt.UndirectedGraph=Pt,zt.MultiGraph=Rt,zt.MultiDirectedGraph=Kt,zt.MultiUndirectedGraph=Tt,zt.InvalidArgumentsGraphError=B,zt.NotFoundGraphError=F,zt.UsageGraphError=I,zt}));\n//# sourceMappingURL=graphology.umd.min.js.map\n","/**\n * Iwanthue Distance Functions\n * ============================\n *\n * Bunch of color-related distance functions, some of which take daltonism\n * into account.\n */\nvar helpers = require('./helpers.js');\n\nvar CONFUSION_LINES = {\n  protanope: {\n    x: 0.7465,\n    y: 0.2535,\n    m: 1.273463,\n    yint: -0.073894\n  },\n  deuteranope: {\n    x: 1.4,\n    y: -0.4,\n    m: 0.968437,\n    yint: 0.003331\n  },\n  tritanope: {\n    x: 0.1748,\n    y: 0.0,\n    m: 0.062921,\n    yint: 0.292119\n  }\n};\n\nfunction euclidean(lab1, lab2) {\n  return Math.sqrt(\n    Math.pow(lab1[0] - lab2[0], 2) +\n    Math.pow(lab1[1] - lab2[1], 2) +\n    Math.pow(lab1[2] - lab2[2], 2)\n  );\n}\n\nfunction cmc(l, c, lab1, lab2) {\n  var L1 = lab1[0];\n  var L2 = lab2[0];\n  var a1 = lab1[1];\n  var a2 = lab2[1];\n  var b1 = lab1[2];\n  var b2 = lab2[2];\n  var C1 = Math.sqrt(Math.pow(a1, 2) + Math.pow(b1, 2));\n  var C2 = Math.sqrt(Math.pow(a2, 2) + Math.pow(b2, 2));\n  var deltaC = C1 - C2;\n  var deltaL = L1 - L2;\n  var deltaa = a1 - a2;\n  var deltab = b1 - b2;\n  var deltaH = Math.sqrt(\n    Math.pow(deltaa, 2) + Math.pow(deltab, 2) + Math.pow(deltaC, 2)\n  );\n  var H1 = Math.atan2(b1, a1) * (180 / Math.PI);\n  while (H1 < 0) {\n    H1 += 360;\n  }\n  var F = Math.sqrt(Math.pow(C1, 4) / (Math.pow(C1, 4) + 1900));\n  var T =\n    H1 >= 164 && H1 <= 345\n      ? 0.56 + Math.abs(0.2 * Math.cos(H1 + 168))\n      : 0.36 + Math.abs(0.4 * Math.cos(H1 + 35));\n  var S_L = lab1[0] < 16 ? 0.511 : (0.040975 * L1) / (1 + 0.01765 * L1);\n  var S_C = (0.0638 * C1) / (1 + 0.0131 * C1) + 0.638;\n  var S_H = S_C * (F * T + 1 - F);\n  var result = Math.sqrt(\n    Math.pow(deltaL / (l * S_L), 2) +\n      Math.pow(deltaC / (c * S_C), 2) +\n      Math.pow(deltaH / S_H, 2)\n  );\n  return result;\n}\n\nfunction CachedDistances() {\n  this.cache = {};\n}\n\nCachedDistances.prototype.simulate = function(lab, type, amount) {\n  amount = amount || 1;\n\n  // Cache\n  var key = lab.join('-') + '-' + type + '-' + amount;\n  var cache = this.cache[key];\n  if (cache)\n    return cache;\n\n  // Get data from type\n  var confuseX = CONFUSION_LINES[type].x;\n  var confuseY = CONFUSION_LINES[type].y;\n  var confuseM = CONFUSION_LINES[type].m;\n  var confuseYint = CONFUSION_LINES[type].yint;\n\n  // Code adapted from http://galacticmilk.com/labs/Color-Vision/Javascript/Color.Vision.Simulate.js\n  var color = helpers.labToRgb(lab);\n\n  var sr = color[0];\n  var sg = color[1];\n  var sb = color[2];\n  var dr = sr; // destination color\n  var dg = sg;\n  var db = sb;\n  // Convert source color into XYZ color space\n  var powR = Math.pow(sr, 2.2);\n  var powG = Math.pow(sg, 2.2);\n  var powB = Math.pow(sb, 2.2);\n  var X = powR * 0.412424 + powG * 0.357579 + powB * 0.180464; // RGB->XYZ (sRGB:D65)\n  var Y = powR * 0.212656 + powG * 0.715158 + powB * 0.0721856;\n  var Z = powR * 0.0193324 + powG * 0.119193 + powB * 0.950444;\n  // Convert XYZ into xyY Chromacity Coordinates (xy) and Luminance (Y)\n  var chromaX = X / (X + Y + Z);\n  var chromaY = Y / (X + Y + Z);\n  // Generate the \"Confusion Line\" between the source color and the Confusion Point\n  var m = (chromaY - confuseY) / (chromaX - confuseX); // slope of Confusion Line\n  var yint = chromaY - chromaX * m; // y-intercept of confusion line (x-intercept = 0.0)\n  // How far the xy coords deviate from the simulation\n  var deviateX = (confuseYint - yint) / (m - confuseM);\n  var deviateY = m * deviateX + yint;\n  // Compute the simulated color's XYZ coords\n  X = (deviateX * Y) / deviateY;\n  Z = ((1.0 - (deviateX + deviateY)) * Y) / deviateY;\n  // Neutral grey calculated from luminance (in D65)\n  var neutralX = (0.312713 * Y) / 0.329016;\n  var neutralZ = (0.358271 * Y) / 0.329016;\n  // Difference between simulated color and neutral grey\n  var diffX = neutralX - X;\n  var diffZ = neutralZ - Z;\n  var diffR = diffX * 3.24071 + diffZ * -0.498571; // XYZ->RGB (sRGB:D65)\n  var diffG = diffX * -0.969258 + diffZ * 0.0415557;\n  var diffB = diffX * 0.0556352 + diffZ * 1.05707;\n  // Convert to RGB color space\n  dr = X * 3.24071 + Y * -1.53726 + Z * -0.498571; // XYZ->RGB (sRGB:D65)\n  dg = X * -0.969258 + Y * 1.87599 + Z * 0.0415557;\n  db = X * 0.0556352 + Y * -0.203996 + Z * 1.05707;\n  // Compensate simulated color towards a neutral fit in RGB space\n  var fitR = ((dr < 0.0 ? 0.0 : 1.0) - dr) / diffR;\n  var fitG = ((dg < 0.0 ? 0.0 : 1.0) - dg) / diffG;\n  var fitB = ((db < 0.0 ? 0.0 : 1.0) - db) / diffB;\n  var adjust = Math.max(\n    // highest value\n    fitR > 1.0 || fitR < 0.0 ? 0.0 : fitR,\n    fitG > 1.0 || fitG < 0.0 ? 0.0 : fitG,\n    fitB > 1.0 || fitB < 0.0 ? 0.0 : fitB\n  );\n  // Shift proportional to the greatest shift\n  dr = dr + adjust * diffR;\n  dg = dg + adjust * diffG;\n  db = db + adjust * diffB;\n  // Apply gamma correction\n  dr = Math.pow(dr, 1.0 / 2.2);\n  dg = Math.pow(dg, 1.0 / 2.2);\n  db = Math.pow(db, 1.0 / 2.2);\n  // Anomylize colors\n  dr = sr * (1.0 - amount) + dr * amount;\n  dg = sg * (1.0 - amount) + dg * amount;\n  db = sb * (1.0 - amount) + db * amount;\n  var dcolor = [dr, dg, db];\n  var result = helpers.rgbToLab(dcolor);\n  this.cache[key] = result;\n\n  return result;\n};\n\nCachedDistances.prototype.euclidean = euclidean;\nCachedDistances.prototype.cmc = cmc.bind(null, 2, 1);\n\nCachedDistances.prototype.colorblind = function(type, lab1, lab2) {\n  lab1 = this.simulate(lab1, type);\n  lab2 = this.simulate(lab2, type);\n\n  return this.cmc(lab1, lab2);\n};\n\nObject.keys(CONFUSION_LINES).forEach(function(type) {\n  CachedDistances.prototype[type] = function(lab1, lab2) {\n    return this.colorblind(type, lab1, lab2);\n  };\n});\n\nvar COMPROMISE_COUNT = 1000 + 100 + 500 + 1;\n\nCachedDistances.prototype.compromise = function(lab1, lab2) {\n  var total = 0;\n\n  var d = this.cmc(lab1, lab2);\n  total += d * 1000;\n\n  d = this.colorblind('protanope', lab1, lab2);\n  if (!isNaN(d))\n    total += d * 100;\n\n  d = this.colorblind('deuteranope', lab1, lab2);\n  if (!isNaN(d))\n    total += d * 500;\n\n  d = this.colorblind('tritanope', lab1, lab2);\n  if (!isNaN(d))\n    total += d * 1;\n\n  return total / COMPROMISE_COUNT;\n};\n\nCachedDistances.prototype.get = function(name) {\n  if (name in CONFUSION_LINES)\n    return this.colorblind.bind(this, name);\n\n  return this[name].bind(this);\n};\n\nmodule.exports = CachedDistances;\n","/**\n * Iwanthue Library Helpers\n * =========================\n *\n * Collection of color-related helpers used throughout the library.\n */\nvar LAB_CONSTANTS = {\n  // Corresponds roughly to RGB brighter/darker\n  Kn: 18,\n\n  // D65 standard referent\n  Xn: 0.95047,\n  Yn: 1,\n  Zn: 1.08883,\n\n  t0: 0.137931034, // 4 / 29\n  t1: 0.206896552, // 6 / 29\n  t2: 0.12841855, // 3 * t1 * t1\n  t3: 0.008856452 // t1 * t1 * t1\n};\n\nfunction xyzToRgb(r) {\n  return Math.round(\n    255 *\n    (r <= 0.00304 ? 12.92 * r : 1.055 * Math.pow(r, 1 / 2.4) - 0.055)\n  );\n}\n\nfunction rgbToXyzHelper(r) {\n  if ((r /= 255) <= 0.04045)\n    return r / 12.92;\n\n  return Math.pow((r + 0.055) / 1.055, 2.4);\n}\n\nfunction xyzToLab(t) {\n  if (t > LAB_CONSTANTS.t3)\n    return Math.pow(t, 1 / 3);\n\n    return t / LAB_CONSTANTS.t2 + LAB_CONSTANTS.t0;\n}\n\nfunction rgbToXyz(rgb) {\n  var r = rgb[0],\n      g = rgb[1],\n      b = rgb[2];\n\n  r = rgbToXyzHelper(r);\n  g = rgbToXyzHelper(g);\n  b = rgbToXyzHelper(b);\n\n  var x = xyzToLab((0.4124564 * r + 0.3575761 * g + 0.1804375 * b) / LAB_CONSTANTS.Xn),\n      y = xyzToLab((0.2126729 * r + 0.7151522 * g + 0.0721750 * b) / LAB_CONSTANTS.Yn),\n      z = xyzToLab((0.0193339 * r + 0.1191920 * g + 0.9503041 * b) / LAB_CONSTANTS.Zn);\n\n  return [x, y, z];\n}\n\nfunction labToXyz(t) {\n  return t > LAB_CONSTANTS.t1 ?\n    t * t * t :\n    LAB_CONSTANTS.t2 * (t - LAB_CONSTANTS.t0);\n}\n\nfunction labToRgb(lab) {\n  var l = lab[0];\n  var a = lab[1];\n  var b = lab[2];\n\n  var y = (l + 16) / 116;\n  var x = isNaN(a) ? y : y + a / 500;\n  var z = isNaN(b) ? y : y - b / 200;\n\n  y = LAB_CONSTANTS.Yn * labToXyz(y);\n  x = LAB_CONSTANTS.Xn * labToXyz(x);\n  z = LAB_CONSTANTS.Zn * labToXyz(z);\n\n  var r = xyzToRgb(3.2404542 * x - 1.5371385 * y - 0.4985314 * z); // D65 -> sRGB\n  var g = xyzToRgb(-0.969266 * x + 1.8760108 * y + 0.041556 * z);\n  b = xyzToRgb(0.0556434 * x - 0.2040259 * y + 1.0572252 * z);\n\n  // r, g or b can be -0, beware...\n  return [r, g, b];\n}\n\nfunction rgbToLab(rgb) {\n  var xyz = rgbToXyz(rgb);\n\n  var x = xyz[0],\n      y = xyz[1],\n      z = xyz[2];\n\n  var l = 116 * y - 16;\n\n  return [l < 0 ? 0 : l, 500 * (x - y), 200 * (y - z)];\n}\n\nfunction validateRgb(rgb) {\n  var r = rgb[0];\n  var g = rgb[1];\n  var b = rgb[2];\n\n  return r >= 0 && r <= 255 && g >= 0 && g <= 255 && b >= 0 && b <= 255;\n}\n\nfunction hexPad(x) {\n  return ('0' + x.toString(16)).slice(-2);\n}\n\nfunction labToRgbHex(lab) {\n  var rgb = labToRgb(lab);\n\n  return (\n    '#' +\n    hexPad(rgb[0]) +\n    hexPad(rgb[1]) +\n    hexPad(rgb[2])\n  );\n}\n\nvar RAD_TO_DEG = 180 / Math.PI;\n\nfunction labToHcl(lab) {\n  var l = lab[0];\n  var a = lab[1];\n  var b = lab[2];\n\n  var c = Math.sqrt(a * a + b * b);\n  var h = (Math.atan2(b, a) * RAD_TO_DEG + 360) % 360;\n\n  if (Math.round(c * 10000) === 0)\n    h = NaN;\n\n  return [h, c, l];\n}\n\nfunction diffSort(distance, colors) {\n  colors = colors.slice();\n\n  var diffColors = [colors.shift()];\n\n  var index, maxDistance, candidateIndex;\n\n  var A, B, d, i;\n\n  while (colors.length > 0) {\n    index = -1;\n    maxDistance = -Infinity;\n\n    for (candidateIndex = 0; candidateIndex < colors.length; candidateIndex++) {\n      A = colors[candidateIndex];\n\n      for (i = 0; i < diffColors.length; i++) {\n        B = diffColors[i];\n        d = distance(A, B);\n\n        if (d > maxDistance) {\n          maxDistance = d;\n          index = candidateIndex;\n        }\n      }\n    }\n\n    diffColors.push(colors[index]);\n    colors.splice(index, 1);\n  }\n\n  return diffColors;\n}\n\nfunction computeQualityMetrics(distance, colors) {\n  var i, j, l;\n\n  var min = Infinity, d;\n\n  var S = 0, t = 0;\n\n  for (i = 0, l = colors.length; i < l; i++) {\n    for (j = i + 1; j < l; j++) {\n      d = distance(colors[i], colors[j]);\n\n      if (d < min)\n        min = d;\n\n      S += d;\n      t++;\n    }\n  }\n\n  return {min: min, mean: S / t};\n}\n\nexports.validateRgb = validateRgb;\nexports.labToRgb = labToRgb;\nexports.labToRgbHex = labToRgbHex;\nexports.rgbToLab = rgbToLab;\nexports.labToHcl = labToHcl;\nexports.diffSort = diffSort;\nexports.computeQualityMetrics = computeQualityMetrics;\n","/**\n * Iwanthue Library Endpoint\n * ==========================\n *\n * Exporting the main utilities of the library.\n */\nvar Random = require('./rng.js');\nvar CachedDistances = require('./distances.js');\nvar helpers = require('./helpers.js');\nvar presets = require('./presets.js');\n\nvar validateRgb = helpers.validateRgb;\nvar labToRgb = helpers.labToRgb;\nvar labToRgbHex = helpers.labToRgbHex;\nvar labToHcl = helpers.labToHcl;\nvar diffSort = helpers.diffSort;\n\n/**\n * Constants.\n */\nvar DEFAULT_SETTINGS = {\n  attempts: 1,\n  colorFilter: null,\n  colorSpace: 'default',\n  clustering: 'k-means',\n  quality: 50,\n  ultraPrecision: false,\n  distance: 'euclidean',\n  seed: null\n};\n\nvar VALID_CLUSTERINGS = new Set(['force-vector', 'k-means']);\n\nvar VALID_DISTANCES = new Set([\n  'euclidean',\n  'cmc',\n  'compromise',\n  'protanope',\n  'deuteranope',\n  'tritanope'\n]);\n\nvar VALID_PRESETS = new Set(Object.keys(presets));\n\n/**\n * Helpers.\n */\nfunction stringSum(string) {\n  var sum = 0;\n\n  for (var i = 0, l = string.length; i < l; i++)\n    sum += string.charCodeAt(i);\n\n  return sum;\n}\n\nfunction resolveAndValidateSettings(userSettings) {\n  var settings = Object.assign({}, DEFAULT_SETTINGS, userSettings);\n\n  if (typeof settings.attempts !== 'number' || settings.attempts <= 0)\n    throw new Error('iwanthue: invalid `attempts` setting. Expecting a positive number.');\n\n  if (settings.colorFilter && typeof settings.colorFilter !== 'function')\n    throw new Error('iwanthue: invalid `colorFilter` setting. Expecting a function.');\n\n  if (!VALID_CLUSTERINGS.has(settings.clustering))\n    throw new Error('iwanthue: unknown `clustering` \"' + settings.clustering + '\".');\n\n  if (typeof settings.quality !== 'number' || isNaN(settings.quality) || settings.quality < 1)\n    throw new Error('iwanthue: invalid `quality`. Expecting a number > 0.');\n\n  if (typeof settings.ultraPrecision !== 'boolean')\n    throw new Error('iwanthue: invalid `ultraPrecision`. Expecting a boolean.');\n\n  if (!VALID_DISTANCES.has(settings.distance))\n    throw new Error('iwanthue: unknown `distance` \"' + settings.distance + '\".');\n\n  if (typeof settings.seed === 'string')\n    settings.seed = stringSum(settings.seed);\n\n  if (settings.seed !== null && typeof settings.seed !== 'number')\n    throw new Error('iwanthue: invalid `seed`. Expecting an integer or a string.');\n\n  // Building color filter from preset?\n  if (!settings.colorFilter) {\n    if (\n      settings.colorSpace &&\n      settings.colorSpace !== 'all'\n    ) {\n\n      var preset;\n\n      if (typeof settings.colorSpace === 'string') {\n        if (!VALID_PRESETS.has(settings.colorSpace))\n          throw new Error('iwanthue: unknown `colorSpace` \"' + settings.colorSpace + '\".');\n\n        preset = presets[settings.colorSpace];\n      }\n      else if (Array.isArray(settings.colorSpace)) {\n\n        if (settings.colorSpace.length !== 6)\n          throw new Error('iwanthue: expecting a `colorSpace` array of length 6 ([hmin, hmax, cmin, cmax, lmin, lmax]).');\n\n        preset = settings.colorSpace;\n      }\n      else {\n        preset = [\n          settings.colorSpace.hmin || 0,\n          settings.colorSpace.hmax || 360,\n          settings.colorSpace.cmin || 0,\n          settings.colorSpace.cmax || 100,\n          settings.colorSpace.lmin || 0,\n          settings.colorSpace.lmax || 100\n        ];\n      }\n\n      if (preset[0] < preset[1])\n        settings.colorFilter = function(rgb, lab) {\n          var hcl = labToHcl(lab);\n\n          return (\n            hcl[0] >= preset[0] && hcl[0] <= preset[1] &&\n            hcl[1] >= preset[2] && hcl[1] <= preset[3] &&\n            hcl[2] >= preset[4] && hcl[2] <= preset[5]\n          );\n        };\n      else\n      settings.colorFilter = function(rgb, lab) {\n        var hcl = labToHcl(lab);\n\n        return (\n          (hcl[0] >= preset[0] || hcl[0] <= preset[1]) &&\n          hcl[1] >= preset[2] && hcl[1] <= preset[3] &&\n          hcl[2] >= preset[4] && hcl[2] <= preset[5]\n        );\n      };\n    }\n  }\n\n  return settings;\n}\n\n// NOTE: this function has complexity O(∞).\nfunction sampleLabColors(rng, count, validColor) {\n  var colors = new Array(count),\n      lab,\n      rgb;\n\n  for (var i = 0; i < count; i++) {\n\n    do {\n      lab = [\n        100 * rng(),\n        100 * (2 * rng() - 1),\n        100 * (2 * rng() - 1)\n      ];\n\n      rgb = labToRgb(lab);\n\n    } while (!validColor(rgb, lab));\n\n    colors[i] = lab;\n  }\n\n  return colors;\n}\n\nvar REPULSION = 100;\nvar SPEED = 100;\n\nfunction forceVector(rng, distance, validColor, colors, settings) {\n  var vectors = new Array(colors.length);\n  var steps = settings.quality * 20;\n\n  var i, j, l = colors.length;\n\n  var A, B;\n\n  var d, dl, da, db, force, candidateLab, color, ratio, displacement, rgb;\n\n  while (steps-- > 0) {\n\n    // Initializing vectors\n    for (i = 0; i < l; i++)\n      vectors[i] = {dl: 0, da: 0, db: 0};\n\n    // Computing force\n    for (i = 0; i < l; i++) {\n      A = colors[i];\n\n      for (j = 0; j < i; j++) {\n        B = colors[j];\n\n        // Repulsion\n        d = distance(A, B);\n\n        if (d > 0) {\n          dl = A[0] - B[0];\n          da = A[1] - B[1];\n          db = A[2] - B[2];\n\n          force = REPULSION / Math.pow(d, 2);\n\n          vectors[i].dl += (dl * force) / d;\n          vectors[i].da += (da * force) / d;\n          vectors[i].db += (db * force) / d;\n\n          vectors[j].dl -= (dl * force) / d;\n          vectors[j].da -= (da * force) / d;\n          vectors[j].db -= (db * force) / d;\n        }\n        else {\n\n          // Jitter\n          vectors[j].dl += 2 - 4 * rng();\n          vectors[j].da += 2 - 4 * rng();\n          vectors[j].db += 2 - 4 * rng();\n        }\n      }\n    }\n\n    // Applying force\n    for (i = 0; i < l; i++) {\n      color = colors[i];\n      displacement = SPEED * Math.sqrt(\n        Math.pow(vectors[i].dl, 2) +\n        Math.pow(vectors[i].da, 2) +\n        Math.pow(vectors[i].db, 2)\n      );\n\n      if (displacement > 0) {\n        ratio = (SPEED * Math.min(0.1, displacement)) / displacement;\n        candidateLab = [\n          color[0] + vectors[i].dl * ratio,\n          color[1] + vectors[i].da * ratio,\n          color[2] + vectors[i].db * ratio\n        ];\n\n        rgb = labToRgb(candidateLab);\n\n        if (validColor(rgb, candidateLab))\n          colors[i] = candidateLab;\n      }\n    }\n  }\n}\n\nfunction kMeans(distance, validColor, colors, settings) {\n  var colorSamples = [];\n  var samplesClosest = [];\n\n  var l, a, b;\n\n  var lab, rgb;\n\n  var linc = 5,\n      ainc = 10,\n      binc = 10;\n\n  if (settings.ultraPrecision) {\n    linc = 1;\n    ainc = 5;\n    binc = 5;\n  }\n\n  for (l = 0; l <= 100; l += linc) {\n    for (a = -100; a <= 100; a += ainc) {\n      for (b = -100; b <= 100; b += binc) {\n        lab = [l, a, b];\n        rgb = labToRgb(lab);\n\n        if (!validColor(rgb, lab))\n          continue;\n\n        colorSamples.push(lab);\n        samplesClosest.push(null);\n      }\n    }\n  }\n\n  // Steps\n  var steps = settings.quality;\n\n  var i, j;\n\n  var A, B;\n\n  var li = colorSamples.length,\n      lj = colors.length;\n\n\n  var d, minDistance, freeColorSamples, count, candidate, closest;\n\n  while (steps-- > 0) {\n\n    // Finding closest color\n    for (i = 0; i < li; i++) {\n      B = colorSamples[i];\n      minDistance = Infinity;\n\n      for (j = 0; j < lj; j++) {\n        A = colors[j];\n\n        d = distance(A, B);\n\n        if (d < minDistance) {\n          minDistance = d;\n          samplesClosest[i] = j;\n        }\n      }\n    }\n\n    freeColorSamples = colorSamples.slice();\n\n    for (j = 0; j < lj; j++) {\n      count = 0;\n      candidate = [0, 0, 0];\n\n      for (i = 0; i < li; i++) {\n        if (samplesClosest[i] === j) {\n          count++;\n          candidate[0] += colorSamples[i][0];\n          candidate[1] += colorSamples[i][1];\n          candidate[2] += colorSamples[i][2];\n        }\n      }\n\n      if (count !== 0) {\n        candidate[0] /= count;\n        candidate[1] /= count;\n        candidate[2] /= count;\n\n        rgb = labToRgb(candidate);\n\n        if (validColor(rgb, candidate)) {\n          colors[j] = candidate;\n        }\n        else {\n          // The candidate is out of the boundaries of our color space or unfound\n\n          if (freeColorSamples.length > 0) {\n\n            // We just search for the closest free color\n            minDistance = Infinity;\n            closest = -1;\n\n            for (i = 0; i < freeColorSamples.length; i++) {\n              d = distance(freeColorSamples[i], candidate);\n\n              if (d < minDistance) {\n                minDistance = d;\n                closest = i;\n              }\n            }\n\n            colors[j] = colorSamples[closest];\n          }\n          else {\n\n            // Then we just search for the closest color\n            minDistance = Infinity;\n            closest = -1;\n\n            for (i = 0; i < colorSamples.length; i++) {\n              d = distance(colorSamples[i], candidate);\n\n              if (d < minDistance) {\n                minDistance = d;\n                closest = i;\n              }\n            }\n\n            colors[j] = colorSamples[closest];\n          }\n\n          // Cleaning up free samples\n          /* eslint-disable */\n          freeColorSamples = freeColorSamples.filter(function(color) {\n            return (\n              color[0] !== colors[j][0] ||\n              color[1] !== colors[j][1] ||\n              color[2] !== colors[j][2]\n            )\n          });\n          /* eslint-enable */\n        }\n      }\n    }\n  }\n\n  return colors;\n}\n\n/**\n * Function generating a iwanthue palette.\n *\n * @param  {number}   count            - Number of colors in the palette.\n * @param  {object}   settings         - Optional settings:\n * @param  {function}   colorFilter      - Function filtering unwanted colors.\n * @param  {string}     clustering       - Clustering method to use. Either 'force-vector' or 'k-means'.\n * @param  {number}     quality          - Quality of the clustering, i.e. number of steps/iterations.\n * @param  {boolean}    ultraPrecision   - Whether to use ultra precision or not.\n * @param  {string}     distance         - Name of the color distance function to use. Defaults to 'colorblind'.\n * @param  {number}     seed             - Seed for random number generation.\n * @return {Array}                     - The computed palette as an array of hexadecimal colors.\n */\nmodule.exports = function generatePalette(count, settings) {\n  if (typeof count !== 'number' || count < 1)\n    throw new Error('iwanthue: expecting a color count > 1.');\n\n  settings = resolveAndValidateSettings(settings);\n\n  var random = new Random(settings.seed);\n\n  var rng = function() {\n    return random.nextFloat();\n  };\n\n  var distances = new CachedDistances();\n  var distance = distances.get(settings.distance);\n\n  var validColor = function(rgb, lab) {\n    // if (arguments.length < 2)\n    //   throw new Error('validColor takes both rgb and lab!');\n\n    if (!validateRgb(rgb))\n      return false;\n\n    if (!settings.colorFilter)\n      return true;\n\n    if (!settings.colorFilter(rgb, lab))\n      return false;\n\n    return true;\n  };\n\n  var colors;\n\n  // In this case, we only sample a single color\n  if (count === 1) {\n    colors = sampleLabColors(rng, count, validColor);\n\n    return [labToRgbHex(colors[0])];\n  }\n\n  var attempts = settings.attempts;\n\n  var metrics;\n\n  var bestMetric = -Infinity,\n      best;\n\n  while (attempts > 0) {\n    colors = sampleLabColors(rng, count, validColor);\n\n    if (settings.clustering === 'force-vector')\n      forceVector(rng, distance, validColor, colors, settings);\n    else\n      kMeans(distance, validColor, colors, settings);\n\n    metrics = helpers.computeQualityMetrics(distance, colors);\n\n    if (metrics.min > bestMetric) {\n      bestMetric = metrics.min;\n      best = colors;\n    }\n\n    attempts--;\n  }\n\n  colors = best;\n  colors = diffSort(distance, colors);\n\n  return colors.map(labToRgbHex);\n};\n","/**\n * Iwanthue Color Presets\n * =======================\n *\n * Website's collection of color space presets.\n */\n\n// Format is [hmin, hmax, cmin, cmax, lmin, lmax] to save up some space\nvar presets = {\n  'all': [0, 360, 0, 100, 0, 100],\n  'default': [0, 360, 30, 80, 35, 80],\n  'sensible': [0, 360, 25.59, 55.59, 60.94, 90.94],\n  'colorblind': [0, 360, 40, 70, 15, 85],\n  'fancy-light': [0, 360, 15, 40, 70, 100],\n  'fancy-dark': [0, 360, 8, 40, 7, 40],\n  'shades': [0, 240, 0, 15, 0, 100],\n  'tarnish': [0, 360, 0, 15, 30, 70],\n  'pastel': [0, 360, 0, 30, 70, 100],\n  'pimp': [0, 360, 30, 100, 25, 70],\n  'intense': [0, 360, 20, 100, 15, 80],\n  'fluo': [0, 300, 35, 100, 75, 100],\n  'red-roses': [330, 20, 10, 100, 35, 100],\n  'ochre-sand': [20, 60, 20, 50, 35, 100],\n  'yellow-lime': [60, 90, 10, 100, 35, 100],\n  'green-mint': [90, 150, 10, 100, 35, 100],\n  'ice-cube': [150, 200, 0, 100, 35, 100],\n  'blue-ocean': [220, 260, 8, 80, 0, 50],\n  'indigo-night': [260, 290, 40, 100, 35, 100],\n  'purple-wine': [290, 330, 0, 100, 0, 40]\n};\n\nmodule.exports = presets;\n","/**\n * Iwanthue RNG Utilities\n * =======================\n *\n * Simple & fast seedable RNG.\n *\n * [References]:\n * https://gist.github.com/blixt/f17b47c62508be59987b\n * http://www.firstpr.com.au/dsp/rand31/\n *\n */\nfunction randomInteger(a, b) {\n  return a + Math.floor(Math.random() * (b - a + 1));\n}\n\nfunction Random(seed) {\n  if (!seed)\n    seed = randomInteger(0, Math.pow(2, 31) - 1);\n\n  this.seed = seed % 2147483647;\n\n  if (this.seed <= 0)\n    this.seed += 2147483646;\n}\n\nRandom.prototype.next = function() {\n  this.seed = (this.seed * 16807) % 2147483647;\n\n  return this.seed;\n};\n\nRandom.prototype.nextFloat = function() {\n  return (this.next() - 1) / 2147483646;\n};\n\nmodule.exports = Random;\n","/**\n * Mnemonist FixedDeque\n * =====================\n *\n * Fixed capacity double-ended queue implemented as ring deque.\n */\nvar iterables = require('./utils/iterables.js'),\n    Iterator = require('obliterator/iterator');\n\n/**\n * FixedDeque.\n *\n * @constructor\n */\nfunction FixedDeque(ArrayClass, capacity) {\n\n  if (arguments.length < 2)\n    throw new Error('mnemonist/fixed-deque: expecting an Array class and a capacity.');\n\n  if (typeof capacity !== 'number' || capacity <= 0)\n    throw new Error('mnemonist/fixed-deque: `capacity` should be a positive number.');\n\n  this.ArrayClass = ArrayClass;\n  this.capacity = capacity;\n  this.items = new ArrayClass(this.capacity);\n  this.clear();\n}\n\n/**\n * Method used to clear the structure.\n *\n * @return {undefined}\n */\nFixedDeque.prototype.clear = function() {\n\n  // Properties\n  this.start = 0;\n  this.size = 0;\n};\n\n/**\n * Method used to append a value to the deque.\n *\n * @param  {any}    item - Item to append.\n * @return {number}      - Returns the new size of the deque.\n */\nFixedDeque.prototype.push = function(item) {\n  if (this.size === this.capacity)\n    throw new Error('mnemonist/fixed-deque.push: deque capacity (' + this.capacity + ') exceeded!');\n\n  var index = (this.start + this.size) % this.capacity;\n\n  this.items[index] = item;\n\n  return ++this.size;\n};\n\n/**\n * Method used to prepend a value to the deque.\n *\n * @param  {any}    item - Item to prepend.\n * @return {number}      - Returns the new size of the deque.\n */\nFixedDeque.prototype.unshift = function(item) {\n  if (this.size === this.capacity)\n    throw new Error('mnemonist/fixed-deque.unshift: deque capacity (' + this.capacity + ') exceeded!');\n\n  var index = this.start - 1;\n\n  if (this.start === 0)\n    index = this.capacity - 1;\n\n  this.items[index] = item;\n  this.start = index;\n\n  return ++this.size;\n};\n\n/**\n * Method used to pop the deque.\n *\n * @return {any} - Returns the popped item.\n */\nFixedDeque.prototype.pop = function() {\n  if (this.size === 0)\n    return;\n\n  const index = (this.start + this.size - 1) % this.capacity;\n\n  this.size--;\n\n  return this.items[index];\n};\n\n/**\n * Method used to shift the deque.\n *\n * @return {any} - Returns the shifted item.\n */\nFixedDeque.prototype.shift = function() {\n  if (this.size === 0)\n    return;\n\n  var index = this.start;\n\n  this.size--;\n  this.start++;\n\n  if (this.start === this.capacity)\n    this.start = 0;\n\n  return this.items[index];\n};\n\n/**\n * Method used to peek the first value of the deque.\n *\n * @return {any}\n */\nFixedDeque.prototype.peekFirst = function() {\n  if (this.size === 0)\n    return;\n\n  return this.items[this.start];\n};\n\n/**\n * Method used to peek the last value of the deque.\n *\n * @return {any}\n */\nFixedDeque.prototype.peekLast = function() {\n  if (this.size === 0)\n    return;\n\n  var index = this.start + this.size - 1;\n\n  if (index > this.capacity)\n    index -= this.capacity;\n\n  return this.items[index];\n};\n\n/**\n * Method used to get the desired value of the deque.\n *\n * @param  {number} index\n * @return {any}\n */\nFixedDeque.prototype.get = function(index) {\n  if (this.size === 0)\n    return;\n\n  index = this.start + index;\n\n  if (index > this.capacity)\n    index -= this.capacity;\n\n  return this.items[index];\n};\n\n/**\n * Method used to iterate over the deque.\n *\n * @param  {function}  callback - Function to call for each item.\n * @param  {object}    scope    - Optional scope.\n * @return {undefined}\n */\nFixedDeque.prototype.forEach = function(callback, scope) {\n  scope = arguments.length > 1 ? scope : this;\n\n  var c = this.capacity,\n      l = this.size,\n      i = this.start,\n      j = 0;\n\n  while (j < l) {\n    callback.call(scope, this.items[i], j, this);\n    i++;\n    j++;\n\n    if (i === c)\n      i = 0;\n  }\n};\n\n/**\n * Method used to convert the deque to a JavaScript array.\n *\n * @return {array}\n */\n// TODO: optional array class as argument?\nFixedDeque.prototype.toArray = function() {\n\n  // Optimization\n  var offset = this.start + this.size;\n\n  if (offset < this.capacity)\n    return this.items.slice(this.start, offset);\n\n  var array = new this.ArrayClass(this.size),\n      c = this.capacity,\n      l = this.size,\n      i = this.start,\n      j = 0;\n\n  while (j < l) {\n    array[j] = this.items[i];\n    i++;\n    j++;\n\n    if (i === c)\n      i = 0;\n  }\n\n  return array;\n};\n\n/**\n * Method used to create an iterator over the deque's values.\n *\n * @return {Iterator}\n */\nFixedDeque.prototype.values = function() {\n  var items = this.items,\n      c = this.capacity,\n      l = this.size,\n      i = this.start,\n      j = 0;\n\n  return new Iterator(function() {\n    if (j >= l)\n      return {\n        done: true\n      };\n\n    var value = items[i];\n\n    i++;\n    j++;\n\n    if (i === c)\n      i = 0;\n\n    return {\n      value: value,\n      done: false\n    };\n  });\n};\n\n/**\n * Method used to create an iterator over the deque's entries.\n *\n * @return {Iterator}\n */\nFixedDeque.prototype.entries = function() {\n  var items = this.items,\n      c = this.capacity,\n      l = this.size,\n      i = this.start,\n      j = 0;\n\n  return new Iterator(function() {\n    if (j >= l)\n      return {\n        done: true\n      };\n\n    var value = items[i];\n\n    i++;\n\n    if (i === c)\n      i = 0;\n\n    return {\n      value: [j++, value],\n      done: false\n    };\n  });\n};\n\n/**\n * Attaching the #.values method to Symbol.iterator if possible.\n */\nif (typeof Symbol !== 'undefined')\n  FixedDeque.prototype[Symbol.iterator] = FixedDeque.prototype.values;\n\n/**\n * Convenience known methods.\n */\nFixedDeque.prototype.inspect = function() {\n  var array = this.toArray();\n\n  array.type = this.ArrayClass.name;\n  array.capacity = this.capacity;\n\n  // Trick so that node displays the name of the constructor\n  Object.defineProperty(array, 'constructor', {\n    value: FixedDeque,\n    enumerable: false\n  });\n\n  return array;\n};\n\nif (typeof Symbol !== 'undefined')\n  FixedDeque.prototype[Symbol.for('nodejs.util.inspect.custom')] = FixedDeque.prototype.inspect;\n\n/**\n * Static @.from function taking an arbitrary iterable & converting it into\n * a deque.\n *\n * @param  {Iterable} iterable   - Target iterable.\n * @param  {function} ArrayClass - Array class to use.\n * @param  {number}   capacity   - Desired capacity.\n * @return {FiniteStack}\n */\nFixedDeque.from = function(iterable, ArrayClass, capacity) {\n  if (arguments.length < 3) {\n    capacity = iterables.guessLength(iterable);\n\n    if (typeof capacity !== 'number')\n      throw new Error('mnemonist/fixed-deque.from: could not guess iterable length. Please provide desired capacity as last argument.');\n  }\n\n  var deque = new FixedDeque(ArrayClass, capacity);\n\n  if (iterables.isArrayLike(iterable)) {\n    var i, l;\n\n    for (i = 0, l = iterable.length; i < l; i++)\n      deque.items[i] = iterable[i];\n\n    deque.size = l;\n\n    return deque;\n  }\n\n  iterables.forEach(iterable, function(value) {\n    deque.push(value);\n  });\n\n  return deque;\n};\n\n/**\n * Exporting.\n */\nmodule.exports = FixedDeque;\n","/**\n * Mnemonist FixedStack\n * =====================\n *\n * The fixed stack is a stack whose capacity is defined beforehand and that\n * cannot be exceeded. This class is really useful when combined with\n * byte arrays to save up some memory and avoid memory re-allocation, hence\n * speeding up computations.\n *\n * This has however a downside: you need to know the maximum size you stack\n * can have during your iteration (which is not too difficult to compute when\n * performing, say, a DFS on a balanced binary tree).\n */\nvar Iterator = require('obliterator/iterator'),\n    iterables = require('./utils/iterables.js');\n\n/**\n * FixedStack\n *\n * @constructor\n * @param {function} ArrayClass - Array class to use.\n * @param {number}   capacity   - Desired capacity.\n */\nfunction FixedStack(ArrayClass, capacity) {\n\n  if (arguments.length < 2)\n    throw new Error('mnemonist/fixed-stack: expecting an Array class and a capacity.');\n\n  if (typeof capacity !== 'number' || capacity <= 0)\n    throw new Error('mnemonist/fixed-stack: `capacity` should be a positive number.');\n\n  this.capacity = capacity;\n  this.ArrayClass = ArrayClass;\n  this.items = new this.ArrayClass(this.capacity);\n  this.clear();\n}\n\n/**\n * Method used to clear the stack.\n *\n * @return {undefined}\n */\nFixedStack.prototype.clear = function() {\n\n  // Properties\n  this.size = 0;\n};\n\n/**\n * Method used to add an item to the stack.\n *\n * @param  {any}    item - Item to add.\n * @return {number}\n */\nFixedStack.prototype.push = function(item) {\n  if (this.size === this.capacity)\n    throw new Error('mnemonist/fixed-stack.push: stack capacity (' + this.capacity + ') exceeded!');\n\n  this.items[this.size++] = item;\n  return this.size;\n};\n\n/**\n * Method used to retrieve & remove the last item of the stack.\n *\n * @return {any}\n */\nFixedStack.prototype.pop = function() {\n  if (this.size === 0)\n    return;\n\n  return this.items[--this.size];\n};\n\n/**\n * Method used to get the last item of the stack.\n *\n * @return {any}\n */\nFixedStack.prototype.peek = function() {\n  return this.items[this.size - 1];\n};\n\n/**\n * Method used to iterate over the stack.\n *\n * @param  {function}  callback - Function to call for each item.\n * @param  {object}    scope    - Optional scope.\n * @return {undefined}\n */\nFixedStack.prototype.forEach = function(callback, scope) {\n  scope = arguments.length > 1 ? scope : this;\n\n  for (var i = 0, l = this.items.length; i < l; i++)\n    callback.call(scope, this.items[l - i - 1], i, this);\n};\n\n/**\n * Method used to convert the stack to a JavaScript array.\n *\n * @return {array}\n */\nFixedStack.prototype.toArray = function() {\n  var array = new this.ArrayClass(this.size),\n      l = this.size - 1,\n      i = this.size;\n\n  while (i--)\n    array[i] = this.items[l - i];\n\n  return array;\n};\n\n/**\n * Method used to create an iterator over a stack's values.\n *\n * @return {Iterator}\n */\nFixedStack.prototype.values = function() {\n  var items = this.items,\n      l = this.size,\n      i = 0;\n\n  return new Iterator(function() {\n    if (i >= l)\n      return {\n        done: true\n      };\n\n    var value = items[l - i - 1];\n    i++;\n\n    return {\n      value: value,\n      done: false\n    };\n  });\n};\n\n/**\n * Method used to create an iterator over a stack's entries.\n *\n * @return {Iterator}\n */\nFixedStack.prototype.entries = function() {\n  var items = this.items,\n      l = this.size,\n      i = 0;\n\n  return new Iterator(function() {\n    if (i >= l)\n      return {\n        done: true\n      };\n\n    var value = items[l - i - 1];\n\n    return {\n      value: [i++, value],\n      done: false\n    };\n  });\n};\n\n/**\n * Attaching the #.values method to Symbol.iterator if possible.\n */\nif (typeof Symbol !== 'undefined')\n  FixedStack.prototype[Symbol.iterator] = FixedStack.prototype.values;\n\n\n/**\n * Convenience known methods.\n */\nFixedStack.prototype.toString = function() {\n  return this.toArray().join(',');\n};\n\nFixedStack.prototype.toJSON = function() {\n  return this.toArray();\n};\n\nFixedStack.prototype.inspect = function() {\n  var array = this.toArray();\n\n  array.type = this.ArrayClass.name;\n  array.capacity = this.capacity;\n\n  // Trick so that node displays the name of the constructor\n  Object.defineProperty(array, 'constructor', {\n    value: FixedStack,\n    enumerable: false\n  });\n\n  return array;\n};\n\nif (typeof Symbol !== 'undefined')\n  FixedStack.prototype[Symbol.for('nodejs.util.inspect.custom')] = FixedStack.prototype.inspect;\n\n/**\n * Static @.from function taking an arbitrary iterable & converting it into\n * a stack.\n *\n * @param  {Iterable} iterable   - Target iterable.\n * @param  {function} ArrayClass - Array class to use.\n * @param  {number}   capacity   - Desired capacity.\n * @return {FixedStack}\n */\nFixedStack.from = function(iterable, ArrayClass, capacity) {\n\n  if (arguments.length < 3) {\n    capacity = iterables.guessLength(iterable);\n\n    if (typeof capacity !== 'number')\n      throw new Error('mnemonist/fixed-stack.from: could not guess iterable length. Please provide desired capacity as last argument.');\n  }\n\n  var stack = new FixedStack(ArrayClass, capacity);\n\n  if (iterables.isArrayLike(iterable)) {\n    var i, l;\n\n    for (i = 0, l = iterable.length; i < l; i++)\n      stack.items[i] = iterable[i];\n\n    stack.size = l;\n\n    return stack;\n  }\n\n  iterables.forEach(iterable, function(value) {\n    stack.push(value);\n  });\n\n  return stack;\n};\n\n/**\n * Exporting.\n */\nmodule.exports = FixedStack;\n","/**\n * Mnemonist Binary Heap\n * ======================\n *\n * Binary heap implementation.\n */\nvar forEach = require('obliterator/foreach'),\n    comparators = require('./utils/comparators.js'),\n    iterables = require('./utils/iterables.js');\n\nvar DEFAULT_COMPARATOR = comparators.DEFAULT_COMPARATOR,\n    reverseComparator = comparators.reverseComparator;\n\n/**\n * Heap helper functions.\n */\n\n/**\n * Function used to sift down.\n *\n * @param {function} compare    - Comparison function.\n * @param {array}    heap       - Array storing the heap's data.\n * @param {number}   startIndex - Starting index.\n * @param {number}   i          - Index.\n */\nfunction siftDown(compare, heap, startIndex, i) {\n  var item = heap[i],\n      parentIndex,\n      parent;\n\n  while (i > startIndex) {\n    parentIndex = (i - 1) >> 1;\n    parent = heap[parentIndex];\n\n    if (compare(item, parent) < 0) {\n      heap[i] = parent;\n      i = parentIndex;\n      continue;\n    }\n\n    break;\n  }\n\n  heap[i] = item;\n}\n\n/**\n * Function used to sift up.\n *\n * @param {function} compare - Comparison function.\n * @param {array}    heap    - Array storing the heap's data.\n * @param {number}   i       - Index.\n */\nfunction siftUp(compare, heap, i) {\n  var endIndex = heap.length,\n      startIndex = i,\n      item = heap[i],\n      childIndex = 2 * i + 1,\n      rightIndex;\n\n  while (childIndex < endIndex) {\n    rightIndex = childIndex + 1;\n\n    if (\n      rightIndex < endIndex &&\n      compare(heap[childIndex], heap[rightIndex]) >= 0\n    ) {\n      childIndex = rightIndex;\n    }\n\n    heap[i] = heap[childIndex];\n    i = childIndex;\n    childIndex = 2 * i + 1;\n  }\n\n  heap[i] = item;\n  siftDown(compare, heap, startIndex, i);\n}\n\n/**\n * Function used to push an item into a heap represented by a raw array.\n *\n * @param {function} compare - Comparison function.\n * @param {array}    heap    - Array storing the heap's data.\n * @param {any}      item    - Item to push.\n */\nfunction push(compare, heap, item) {\n  heap.push(item);\n  siftDown(compare, heap, 0, heap.length - 1);\n}\n\n/**\n * Function used to pop an item from a heap represented by a raw array.\n *\n * @param  {function} compare - Comparison function.\n * @param  {array}    heap    - Array storing the heap's data.\n * @return {any}\n */\nfunction pop(compare, heap) {\n  var lastItem = heap.pop();\n\n  if (heap.length !== 0) {\n    var item = heap[0];\n    heap[0] = lastItem;\n    siftUp(compare, heap, 0);\n\n    return item;\n  }\n\n  return lastItem;\n}\n\n/**\n * Function used to pop the heap then push a new value into it, thus \"replacing\"\n * it.\n *\n * @param  {function} compare - Comparison function.\n * @param  {array}    heap    - Array storing the heap's data.\n * @param  {any}      item    - The item to push.\n * @return {any}\n */\nfunction replace(compare, heap, item) {\n  if (heap.length === 0)\n    throw new Error('mnemonist/heap.replace: cannot pop an empty heap.');\n\n  var popped = heap[0];\n  heap[0] = item;\n  siftUp(compare, heap, 0);\n\n  return popped;\n}\n\n/**\n * Function used to push an item in the heap then pop the heap and return the\n * popped value.\n *\n * @param  {function} compare - Comparison function.\n * @param  {array}    heap    - Array storing the heap's data.\n * @param  {any}      item    - The item to push.\n * @return {any}\n */\nfunction pushpop(compare, heap, item) {\n  var tmp;\n\n  if (heap.length !== 0 && compare(heap[0], item) < 0) {\n    tmp = heap[0];\n    heap[0] = item;\n    item = tmp;\n    siftUp(compare, heap, 0);\n  }\n\n  return item;\n}\n\n/**\n * Converts and array into an abstract heap in linear time.\n *\n * @param {function} compare - Comparison function.\n * @param {array}    array   - Target array.\n */\nfunction heapify(compare, array) {\n  var n = array.length,\n      l = n >> 1,\n      i = l;\n\n  while (--i >= 0)\n    siftUp(compare, array, i);\n}\n\n/**\n * Fully consumes the given heap.\n *\n * @param  {function} compare - Comparison function.\n * @param  {array}    heap    - Array storing the heap's data.\n * @return {array}\n */\nfunction consume(compare, heap) {\n  var l = heap.length,\n      i = 0;\n\n  var array = new Array(l);\n\n  while (i < l)\n    array[i++] = pop(compare, heap);\n\n  return array;\n}\n\n/**\n * Function used to retrieve the n smallest items from the given iterable.\n *\n * @param {function} compare  - Comparison function.\n * @param {number}   n        - Number of top items to retrieve.\n * @param {any}      iterable - Arbitrary iterable.\n * @param {array}\n */\nfunction nsmallest(compare, n, iterable) {\n  if (arguments.length === 2) {\n    iterable = n;\n    n = compare;\n    compare = DEFAULT_COMPARATOR;\n  }\n\n  var reverseCompare = reverseComparator(compare);\n\n  var i, l, v;\n\n  var min = Infinity;\n\n  var result;\n\n  // If n is equal to 1, it's just a matter of finding the minimum\n  if (n === 1) {\n    if (iterables.isArrayLike(iterable)) {\n      for (i = 0, l = iterable.length; i < l; i++) {\n        v = iterable[i];\n\n        if (min === Infinity || compare(v, min) < 0)\n          min = v;\n      }\n\n      result = new iterable.constructor(1);\n      result[0] = min;\n\n      return result;\n    }\n\n    forEach(iterable, function(value) {\n      if (min === Infinity || compare(value, min) < 0)\n        min = value;\n    });\n\n    return [min];\n  }\n\n  if (iterables.isArrayLike(iterable)) {\n\n    // If n > iterable length, we just clone and sort\n    if (n >= iterable.length)\n      return iterable.slice().sort(compare);\n\n    result = iterable.slice(0, n);\n    heapify(reverseCompare, result);\n\n    for (i = n, l = iterable.length; i < l; i++)\n      if (reverseCompare(iterable[i], result[0]) > 0)\n        replace(reverseCompare, result, iterable[i]);\n\n    // NOTE: if n is over some number, it becomes faster to consume the heap\n    return result.sort(compare);\n  }\n\n  // Correct for size\n  var size = iterables.guessLength(iterable);\n\n  if (size !== null && size < n)\n    n = size;\n\n  result = new Array(n);\n  i = 0;\n\n  forEach(iterable, function(value) {\n    if (i < n) {\n      result[i] = value;\n    }\n    else {\n      if (i === n)\n        heapify(reverseCompare, result);\n\n      if (reverseCompare(value, result[0]) > 0)\n        replace(reverseCompare, result, value);\n    }\n\n    i++;\n  });\n\n  if (result.length > i)\n    result.length = i;\n\n  // NOTE: if n is over some number, it becomes faster to consume the heap\n  return result.sort(compare);\n}\n\n/**\n * Function used to retrieve the n largest items from the given iterable.\n *\n * @param {function} compare  - Comparison function.\n * @param {number}   n        - Number of top items to retrieve.\n * @param {any}      iterable - Arbitrary iterable.\n * @param {array}\n */\nfunction nlargest(compare, n, iterable) {\n  if (arguments.length === 2) {\n    iterable = n;\n    n = compare;\n    compare = DEFAULT_COMPARATOR;\n  }\n\n  var reverseCompare = reverseComparator(compare);\n\n  var i, l, v;\n\n  var max = -Infinity;\n\n  var result;\n\n  // If n is equal to 1, it's just a matter of finding the maximum\n  if (n === 1) {\n    if (iterables.isArrayLike(iterable)) {\n      for (i = 0, l = iterable.length; i < l; i++) {\n        v = iterable[i];\n\n        if (max === -Infinity || compare(v, max) > 0)\n          max = v;\n      }\n\n      result = new iterable.constructor(1);\n      result[0] = max;\n\n      return result;\n    }\n\n    forEach(iterable, function(value) {\n      if (max === -Infinity || compare(value, max) > 0)\n        max = value;\n    });\n\n    return [max];\n  }\n\n  if (iterables.isArrayLike(iterable)) {\n\n    // If n > iterable length, we just clone and sort\n    if (n >= iterable.length)\n      return iterable.slice().sort(reverseCompare);\n\n    result = iterable.slice(0, n);\n    heapify(compare, result);\n\n    for (i = n, l = iterable.length; i < l; i++)\n      if (compare(iterable[i], result[0]) > 0)\n        replace(compare, result, iterable[i]);\n\n    // NOTE: if n is over some number, it becomes faster to consume the heap\n    return result.sort(reverseCompare);\n  }\n\n  // Correct for size\n  var size = iterables.guessLength(iterable);\n\n  if (size !== null && size < n)\n    n = size;\n\n  result = new Array(n);\n  i = 0;\n\n  forEach(iterable, function(value) {\n    if (i < n) {\n      result[i] = value;\n    }\n    else {\n      if (i === n)\n        heapify(compare, result);\n\n      if (compare(value, result[0]) > 0)\n        replace(compare, result, value);\n    }\n\n    i++;\n  });\n\n  if (result.length > i)\n    result.length = i;\n\n  // NOTE: if n is over some number, it becomes faster to consume the heap\n  return result.sort(reverseCompare);\n}\n\n/**\n * Binary Minimum Heap.\n *\n * @constructor\n * @param {function} comparator - Comparator function to use.\n */\nfunction Heap(comparator) {\n  this.clear();\n  this.comparator = comparator || DEFAULT_COMPARATOR;\n\n  if (typeof this.comparator !== 'function')\n    throw new Error('mnemonist/Heap.constructor: given comparator should be a function.');\n}\n\n/**\n * Method used to clear the heap.\n *\n * @return {undefined}\n */\nHeap.prototype.clear = function() {\n\n  // Properties\n  this.items = [];\n  this.size = 0;\n};\n\n/**\n * Method used to push an item into the heap.\n *\n * @param  {any}    item - Item to push.\n * @return {number}\n */\nHeap.prototype.push = function(item) {\n  push(this.comparator, this.items, item);\n  return ++this.size;\n};\n\n/**\n * Method used to retrieve the \"first\" item of the heap.\n *\n * @return {any}\n */\nHeap.prototype.peek = function() {\n  return this.items[0];\n};\n\n/**\n * Method used to retrieve & remove the \"first\" item of the heap.\n *\n * @return {any}\n */\nHeap.prototype.pop = function() {\n  if (this.size !== 0)\n    this.size--;\n\n  return pop(this.comparator, this.items);\n};\n\n/**\n * Method used to pop the heap, then push an item and return the popped\n * item.\n *\n * @param  {any} item - Item to push into the heap.\n * @return {any}\n */\nHeap.prototype.replace = function(item) {\n  return replace(this.comparator, this.items, item);\n};\n\n/**\n * Method used to push the heap, the pop it and return the pooped item.\n *\n * @param  {any} item - Item to push into the heap.\n * @return {any}\n */\nHeap.prototype.pushpop = function(item) {\n  return pushpop(this.comparator, this.items, item);\n};\n\n/**\n * Method used to consume the heap fully and return its items as a sorted array.\n *\n * @return {array}\n */\nHeap.prototype.consume = function() {\n  this.size = 0;\n  return consume(this.comparator, this.items);\n};\n\n/**\n * Method used to convert the heap to an array. Note that it basically clone\n * the heap and consumes it completely. This is hardly performant.\n *\n * @return {array}\n */\nHeap.prototype.toArray = function() {\n  return consume(this.comparator, this.items.slice());\n};\n\n/**\n * Convenience known methods.\n */\nHeap.prototype.inspect = function() {\n  var proxy = this.toArray();\n\n  // Trick so that node displays the name of the constructor\n  Object.defineProperty(proxy, 'constructor', {\n    value: Heap,\n    enumerable: false\n  });\n\n  return proxy;\n};\n\nif (typeof Symbol !== 'undefined')\n  Heap.prototype[Symbol.for('nodejs.util.inspect.custom')] = Heap.prototype.inspect;\n\n/**\n * Binary Maximum Heap.\n *\n * @constructor\n * @param {function} comparator - Comparator function to use.\n */\nfunction MaxHeap(comparator) {\n  this.clear();\n  this.comparator = comparator || DEFAULT_COMPARATOR;\n\n  if (typeof this.comparator !== 'function')\n    throw new Error('mnemonist/MaxHeap.constructor: given comparator should be a function.');\n\n  this.comparator = reverseComparator(this.comparator);\n}\n\nMaxHeap.prototype = Heap.prototype;\n\n/**\n * Static @.from function taking an arbitrary iterable & converting it into\n * a heap.\n *\n * @param  {Iterable} iterable   - Target iterable.\n * @param  {function} comparator - Custom comparator function.\n * @return {Heap}\n */\nHeap.from = function(iterable, comparator) {\n  var heap = new Heap(comparator);\n\n  var items;\n\n  // If iterable is an array, we can be clever about it\n  if (iterables.isArrayLike(iterable))\n    items = iterable.slice();\n  else\n    items = iterables.toArray(iterable);\n\n  heapify(heap.comparator, items);\n  heap.items = items;\n  heap.size = items.length;\n\n  return heap;\n};\n\nMaxHeap.from = function(iterable, comparator) {\n  var heap = new MaxHeap(comparator);\n\n  var items;\n\n  // If iterable is an array, we can be clever about it\n  if (iterables.isArrayLike(iterable))\n    items = iterable.slice();\n  else\n    items = iterables.toArray(iterable);\n\n  heapify(heap.comparator, items);\n  heap.items = items;\n  heap.size = items.length;\n\n  return heap;\n};\n\n/**\n * Exporting.\n */\nHeap.siftUp = siftUp;\nHeap.siftDown = siftDown;\nHeap.push = push;\nHeap.pop = pop;\nHeap.replace = replace;\nHeap.pushpop = pushpop;\nHeap.heapify = heapify;\nHeap.consume = consume;\n\nHeap.nsmallest = nsmallest;\nHeap.nlargest = nlargest;\n\nHeap.MinHeap = Heap;\nHeap.MaxHeap = MaxHeap;\n\nmodule.exports = Heap;\n","/**\n * Mnemonist Set\n * ==============\n *\n * Useful function related to sets such as union, intersection and so on...\n */\n\n// TODO: optimize versions for less variadicities\n\n/**\n * Variadic function computing the intersection of multiple sets.\n *\n * @param  {...Set} sets - Sets to intersect.\n * @return {Set}         - The intesection.\n */\nexports.intersection = function() {\n  if (arguments.length < 2)\n    throw new Error('mnemonist/Set.intersection: needs at least two arguments.');\n\n  var I = new Set();\n\n  // First we need to find the smallest set\n  var smallestSize = Infinity,\n      smallestSet = null;\n\n  var s, i, l = arguments.length;\n\n  for (i = 0; i < l; i++) {\n    s = arguments[i];\n\n    // If one of the set has no items, we can stop right there\n    if (s.size === 0)\n      return I;\n\n    if (s.size < smallestSize) {\n      smallestSize = s.size;\n      smallestSet = s;\n    }\n  }\n\n  // Now we need to intersect this set with the others\n  var iterator = smallestSet.values(),\n      step,\n      item,\n      add,\n      set;\n\n  // TODO: we can optimize by iterating each next time over the current intersection\n  // but this probably means more RAM to consume since we'll create n-1 sets rather than\n  // only the one.\n  while ((step = iterator.next(), !step.done)) {\n    item = step.value;\n    add = true;\n\n    for (i = 0; i < l; i++) {\n      set = arguments[i];\n\n      if (set === smallestSet)\n        continue;\n\n      if (!set.has(item)) {\n        add = false;\n        break;\n      }\n    }\n\n    if (add)\n      I.add(item);\n  }\n\n  return I;\n};\n\n/**\n * Variadic function computing the union of multiple sets.\n *\n * @param  {...Set} sets - Sets to unite.\n * @return {Set}         - The union.\n */\nexports.union = function() {\n  if (arguments.length < 2)\n    throw new Error('mnemonist/Set.union: needs at least two arguments.');\n\n  var U = new Set();\n\n  var i, l = arguments.length;\n\n  var iterator,\n      step;\n\n  for (i = 0; i < l; i++) {\n    iterator = arguments[i].values();\n\n    while ((step = iterator.next(), !step.done))\n      U.add(step.value);\n  }\n\n  return U;\n};\n\n/**\n * Function computing the difference between two sets.\n *\n * @param  {Set} A - First set.\n * @param  {Set} B - Second set.\n * @return {Set}   - The difference.\n */\nexports.difference = function(A, B) {\n\n  // If first set is empty\n  if (!A.size)\n    return new Set();\n\n  if (!B.size)\n    return new Set(A);\n\n  var D = new Set();\n\n  var iterator = A.values(),\n      step;\n\n  while ((step = iterator.next(), !step.done)) {\n    if (!B.has(step.value))\n      D.add(step.value);\n  }\n\n  return D;\n};\n\n/**\n * Function computing the symmetric difference between two sets.\n *\n * @param  {Set} A - First set.\n * @param  {Set} B - Second set.\n * @return {Set}   - The symmetric difference.\n */\nexports.symmetricDifference = function(A, B) {\n  var S = new Set();\n\n  var iterator = A.values(),\n      step;\n\n  while ((step = iterator.next(), !step.done)) {\n    if (!B.has(step.value))\n      S.add(step.value);\n  }\n\n  iterator = B.values();\n\n  while ((step = iterator.next(), !step.done)) {\n    if (!A.has(step.value))\n      S.add(step.value);\n  }\n\n  return S;\n};\n\n/**\n * Function returning whether A is a subset of B.\n *\n * @param  {Set} A - First set.\n * @param  {Set} B - Second set.\n * @return {boolean}\n */\nexports.isSubset = function(A, B) {\n  var iterator = A.values(),\n      step;\n\n  // Shortcuts\n  if (A === B)\n    return true;\n\n  if (A.size > B.size)\n    return false;\n\n  while ((step = iterator.next(), !step.done)) {\n    if (!B.has(step.value))\n      return false;\n  }\n\n  return true;\n};\n\n/**\n * Function returning whether A is a superset of B.\n *\n * @param  {Set} A - First set.\n * @param  {Set} B - Second set.\n * @return {boolean}\n */\nexports.isSuperset = function(A, B) {\n  return exports.isSubset(B, A);\n};\n\n/**\n * Function adding the items of set B to the set A.\n *\n * @param  {Set} A - First set.\n * @param  {Set} B - Second set.\n */\nexports.add = function(A, B) {\n  var iterator = B.values(),\n      step;\n\n  while ((step = iterator.next(), !step.done))\n    A.add(step.value);\n\n  return;\n};\n\n/**\n * Function subtracting the items of set B from the set A.\n *\n * @param  {Set} A - First set.\n * @param  {Set} B - Second set.\n */\nexports.subtract = function(A, B) {\n  var iterator = B.values(),\n      step;\n\n  while ((step = iterator.next(), !step.done))\n    A.delete(step.value);\n\n  return;\n};\n\n/**\n * Function intersecting the items of A & B.\n *\n * @param  {Set} A - First set.\n * @param  {Set} B - Second set.\n */\nexports.intersect = function(A, B) {\n  var iterator = A.values(),\n      step;\n\n  while ((step = iterator.next(), !step.done)) {\n    if (!B.has(step.value))\n      A.delete(step.value);\n  }\n\n  return;\n};\n\n/**\n * Function disjuncting the items of A & B.\n *\n * @param  {Set} A - First set.\n * @param  {Set} B - Second set.\n */\nexports.disjunct = function(A, B) {\n  var iterator = A.values(),\n      step;\n\n  var toRemove = [];\n\n  while ((step = iterator.next(), !step.done)) {\n    if (B.has(step.value))\n      toRemove.push(step.value);\n  }\n\n  iterator = B.values();\n\n  while ((step = iterator.next(), !step.done)) {\n    if (!A.has(step.value))\n      A.add(step.value);\n  }\n\n  for (var i = 0, l = toRemove.length; i < l; i++)\n    A.delete(toRemove[i]);\n\n  return;\n};\n\n/**\n * Function returning the size of the intersection of A & B.\n *\n * @param  {Set} A - First set.\n * @param  {Set} B - Second set.\n * @return {number}\n */\nexports.intersectionSize = function(A, B) {\n  var tmp;\n\n  // We need to know the smallest set\n  if (A.size > B.size) {\n    tmp = A;\n    A = B;\n    B = tmp;\n  }\n\n  if (A.size === 0)\n    return 0;\n\n  if (A === B)\n    return A.size;\n\n  var iterator = A.values(),\n      step;\n\n  var I = 0;\n\n  while ((step = iterator.next(), !step.done)) {\n    if (B.has(step.value))\n      I++;\n  }\n\n  return I;\n};\n\n/**\n * Function returning the size of the union of A & B.\n *\n * @param  {Set} A - First set.\n * @param  {Set} B - Second set.\n * @return {number}\n */\nexports.unionSize = function(A, B) {\n  var I = exports.intersectionSize(A, B);\n\n  return A.size + B.size - I;\n};\n\n/**\n * Function returning the Jaccard similarity between A & B.\n *\n * @param  {Set} A - First set.\n * @param  {Set} B - Second set.\n * @return {number}\n */\nexports.jaccard = function(A, B) {\n  var I = exports.intersectionSize(A, B);\n\n  if (I === 0)\n    return 0;\n\n  var U = A.size + B.size - I;\n\n  return I / U;\n};\n\n/**\n * Function returning the overlap coefficient between A & B.\n *\n * @param  {Set} A - First set.\n * @param  {Set} B - Second set.\n * @return {number}\n */\nexports.overlap = function(A, B) {\n  var I = exports.intersectionSize(A, B);\n\n  if (I === 0)\n    return 0;\n\n  return I / Math.min(A.size, B.size);\n};\n","/**\n * Mnemonist SparseMap\n * ====================\n *\n * JavaScript sparse map implemented on top of byte arrays.\n *\n * [Reference]: https://research.swtch.com/sparse\n */\nvar Iterator = require('obliterator/iterator'),\n    getPointerArray = require('./utils/typed-arrays.js').getPointerArray;\n\n/**\n * SparseMap.\n *\n * @constructor\n */\nfunction SparseMap(Values, length) {\n  if (arguments.length < 2) {\n    length = Values;\n    Values = Array;\n  }\n\n  var ByteArray = getPointerArray(length);\n\n  // Properties\n  this.size = 0;\n  this.length = length;\n  this.dense = new ByteArray(length);\n  this.sparse = new ByteArray(length);\n  this.vals = new Values(length);\n}\n\n/**\n * Method used to clear the structure.\n *\n * @return {undefined}\n */\nSparseMap.prototype.clear = function() {\n  this.size = 0;\n};\n\n/**\n * Method used to check the existence of a member in the set.\n *\n * @param  {number} member - Member to test.\n * @return {SparseMap}\n */\nSparseMap.prototype.has = function(member) {\n  var index = this.sparse[member];\n\n  return (\n    index < this.size &&\n    this.dense[index] === member\n  );\n};\n\n/**\n * Method used to get the value associated to a member in the set.\n *\n * @param  {number} member - Member to test.\n * @return {any}\n */\nSparseMap.prototype.get = function(member) {\n  var index = this.sparse[member];\n\n  if (index < this.size && this.dense[index] === member)\n    return this.vals[index];\n\n  return;\n};\n\n/**\n * Method used to set a value into the map.\n *\n * @param  {number} member - Member to set.\n * @param  {any}    value  - Associated value.\n * @return {SparseMap}\n */\nSparseMap.prototype.set = function(member, value) {\n  var index = this.sparse[member];\n\n  if (index < this.size && this.dense[index] === member) {\n    this.vals[index] = value;\n    return this;\n  }\n\n  this.dense[this.size] = member;\n  this.sparse[member] = this.size;\n  this.vals[this.size] = value;\n  this.size++;\n\n  return this;\n};\n\n/**\n * Method used to remove a member from the set.\n *\n * @param  {number} member - Member to delete.\n * @return {boolean}\n */\nSparseMap.prototype.delete = function(member) {\n  var index = this.sparse[member];\n\n  if (index >= this.size || this.dense[index] !== member)\n    return false;\n\n  index = this.dense[this.size - 1];\n  this.dense[this.sparse[member]] = index;\n  this.sparse[index] = this.sparse[member];\n  this.size--;\n\n  return true;\n};\n\n/**\n * Method used to iterate over the set's values.\n *\n * @param  {function}  callback - Function to call for each item.\n * @param  {object}    scope    - Optional scope.\n * @return {undefined}\n */\nSparseMap.prototype.forEach = function(callback, scope) {\n  scope = arguments.length > 1 ? scope : this;\n\n  for (var i = 0; i < this.size; i++)\n    callback.call(scope, this.vals[i], this.dense[i]);\n};\n\n/**\n * Method used to create an iterator over a set's members.\n *\n * @return {Iterator}\n */\nSparseMap.prototype.keys = function() {\n  var size = this.size,\n      dense = this.dense,\n      i = 0;\n\n  return new Iterator(function() {\n    if (i < size) {\n      var item = dense[i];\n      i++;\n\n      return {\n        value: item\n      };\n    }\n\n    return {\n      done: true\n    };\n  });\n};\n\n/**\n * Method used to create an iterator over a set's values.\n *\n * @return {Iterator}\n */\nSparseMap.prototype.values = function() {\n  var size = this.size,\n      values = this.vals,\n      i = 0;\n\n  return new Iterator(function() {\n    if (i < size) {\n      var item = values[i];\n      i++;\n\n      return {\n        value: item\n      };\n    }\n\n    return {\n      done: true\n    };\n  });\n};\n\n/**\n * Method used to create an iterator over a set's entries.\n *\n * @return {Iterator}\n */\nSparseMap.prototype.entries = function() {\n  var size = this.size,\n      dense = this.dense,\n      values = this.vals,\n      i = 0;\n\n  return new Iterator(function() {\n    if (i < size) {\n      var item = [dense[i], values[i]];\n      i++;\n\n      return {\n        value: item\n      };\n    }\n\n    return {\n      done: true\n    };\n  });\n};\n\n/**\n * Attaching the #.entries method to Symbol.iterator if possible.\n */\nif (typeof Symbol !== 'undefined')\n  SparseMap.prototype[Symbol.iterator] = SparseMap.prototype.entries;\n\n/**\n * Convenience known methods.\n */\nSparseMap.prototype.inspect = function() {\n  var proxy = new Map();\n\n  for (var i = 0; i < this.size; i++)\n    proxy.set(this.dense[i], this.vals[i]);\n\n  // Trick so that node displays the name of the constructor\n  Object.defineProperty(proxy, 'constructor', {\n    value: SparseMap,\n    enumerable: false\n  });\n\n  proxy.length = this.length;\n\n  if (this.vals.constructor !== Array)\n    proxy.type = this.vals.constructor.name;\n\n  return proxy;\n};\n\nif (typeof Symbol !== 'undefined')\n  SparseMap.prototype[Symbol.for('nodejs.util.inspect.custom')] = SparseMap.prototype.inspect;\n\n/**\n * Exporting.\n */\nmodule.exports = SparseMap;\n","/**\n * Mnemonist SparseQueueSet\n * =========================\n *\n * JavaScript sparse queue set implemented on top of byte arrays.\n *\n * [Reference]: https://research.swtch.com/sparse\n */\nvar Iterator = require('obliterator/iterator'),\n    getPointerArray = require('./utils/typed-arrays.js').getPointerArray;\n\n/**\n * SparseQueueSet.\n *\n * @constructor\n */\nfunction SparseQueueSet(capacity) {\n\n  var ByteArray = getPointerArray(capacity);\n\n  // Properties\n  this.start = 0;\n  this.size = 0;\n  this.capacity = capacity;\n  this.dense = new ByteArray(capacity);\n  this.sparse = new ByteArray(capacity);\n}\n\n/**\n * Method used to clear the structure.\n *\n * @return {undefined}\n */\nSparseQueueSet.prototype.clear = function() {\n  this.start = 0;\n  this.size = 0;\n};\n\n/**\n * Method used to check the existence of a member in the queue.\n *\n * @param  {number} member - Member to test.\n * @return {SparseQueueSet}\n */\nSparseQueueSet.prototype.has = function(member) {\n  if (this.size === 0)\n    return false;\n\n  var index = this.sparse[member];\n\n  var inBounds = (\n    index < this.capacity &&\n    (\n      index >= this.start &&\n      index < this.start + this.size\n    ) ||\n    (\n      index < ((this.start + this.size) % this.capacity)\n    )\n  );\n\n  return (\n    inBounds &&\n    this.dense[index] === member\n  );\n};\n\n/**\n * Method used to add a member to the queue.\n *\n * @param  {number} member - Member to add.\n * @return {SparseQueueSet}\n */\nSparseQueueSet.prototype.enqueue = function(member) {\n  var index = this.sparse[member];\n\n  if (this.size !== 0) {\n    var inBounds = (\n      index < this.capacity &&\n      (\n        index >= this.start &&\n        index < this.start + this.size\n      ) ||\n      (\n        index < ((this.start + this.size) % this.capacity)\n      )\n    );\n\n    if (inBounds && this.dense[index] === member)\n      return this;\n  }\n\n  index = (this.start + this.size) % this.capacity;\n\n  this.dense[index] = member;\n  this.sparse[member] = index;\n  this.size++;\n\n  return this;\n};\n\n/**\n * Method used to remove the next member from the queue.\n *\n * @param  {number} member - Member to delete.\n * @return {boolean}\n */\nSparseQueueSet.prototype.dequeue = function() {\n  if (this.size === 0)\n    return;\n\n  var index = this.start;\n\n  this.size--;\n  this.start++;\n\n  if (this.start === this.capacity)\n    this.start = 0;\n\n  var member = this.dense[index];\n\n  this.sparse[member] = this.capacity;\n\n  return member;\n};\n\n/**\n * Method used to iterate over the queue's values.\n *\n * @param  {function}  callback - Function to call for each item.\n * @param  {object}    scope    - Optional scope.\n * @return {undefined}\n */\nSparseQueueSet.prototype.forEach = function(callback, scope) {\n  scope = arguments.length > 1 ? scope : this;\n\n  var c = this.capacity,\n      l = this.size,\n      i = this.start,\n      j = 0;\n\n  while (j < l) {\n    callback.call(scope, this.dense[i], j, this);\n    i++;\n    j++;\n\n    if (i === c)\n      i = 0;\n  }\n};\n\n/**\n * Method used to create an iterator over a set's values.\n *\n * @return {Iterator}\n */\nSparseQueueSet.prototype.values = function() {\n  var dense = this.dense,\n      c = this.capacity,\n      l = this.size,\n      i = this.start,\n      j = 0;\n\n  return new Iterator(function() {\n    if (j >= l)\n      return {\n        done: true\n      };\n\n    var value = dense[i];\n\n    i++;\n    j++;\n\n    if (i === c)\n      i = 0;\n\n    return {\n      value: value,\n      done: false\n    };\n  });\n};\n\n/**\n * Attaching the #.values method to Symbol.iterator if possible.\n */\nif (typeof Symbol !== 'undefined')\n  SparseQueueSet.prototype[Symbol.iterator] = SparseQueueSet.prototype.values;\n\n/**\n * Convenience known methods.\n */\nSparseQueueSet.prototype.inspect = function() {\n  var proxy = [];\n\n  this.forEach(function(member) {\n    proxy.push(member);\n  });\n\n  // Trick so that node displays the name of the constructor\n  Object.defineProperty(proxy, 'constructor', {\n    value: SparseQueueSet,\n    enumerable: false\n  });\n\n  proxy.capacity = this.capacity;\n\n  return proxy;\n};\n\nif (typeof Symbol !== 'undefined')\n  SparseQueueSet.prototype[Symbol.for('nodejs.util.inspect.custom')] = SparseQueueSet.prototype.inspect;\n\n/**\n * Exporting.\n */\nmodule.exports = SparseQueueSet;\n","/**\n * Mnemonist SparseSet\n * ====================\n *\n * JavaScript sparse set implemented on top of byte arrays.\n *\n * [Reference]: https://research.swtch.com/sparse\n */\nvar Iterator = require('obliterator/iterator'),\n    getPointerArray = require('./utils/typed-arrays.js').getPointerArray;\n\n/**\n * SparseSet.\n *\n * @constructor\n */\nfunction SparseSet(length) {\n\n  var ByteArray = getPointerArray(length);\n\n  // Properties\n  this.size = 0;\n  this.length = length;\n  this.dense = new ByteArray(length);\n  this.sparse = new ByteArray(length);\n}\n\n/**\n * Method used to clear the structure.\n *\n * @return {undefined}\n */\nSparseSet.prototype.clear = function() {\n  this.size = 0;\n};\n\n/**\n * Method used to check the existence of a member in the set.\n *\n * @param  {number} member - Member to test.\n * @return {SparseSet}\n */\nSparseSet.prototype.has = function(member) {\n  var index = this.sparse[member];\n\n  return (\n    index < this.size &&\n    this.dense[index] === member\n  );\n};\n\n/**\n * Method used to add a member to the set.\n *\n * @param  {number} member - Member to add.\n * @return {SparseSet}\n */\nSparseSet.prototype.add = function(member) {\n  var index = this.sparse[member];\n\n  if (index < this.size && this.dense[index] === member)\n    return this;\n\n  this.dense[this.size] = member;\n  this.sparse[member] = this.size;\n  this.size++;\n\n  return this;\n};\n\n/**\n * Method used to remove a member from the set.\n *\n * @param  {number} member - Member to delete.\n * @return {boolean}\n */\nSparseSet.prototype.delete = function(member) {\n  var index = this.sparse[member];\n\n  if (index >= this.size || this.dense[index] !== member)\n    return false;\n\n  index = this.dense[this.size - 1];\n  this.dense[this.sparse[member]] = index;\n  this.sparse[index] = this.sparse[member];\n  this.size--;\n\n  return true;\n};\n\n/**\n * Method used to iterate over the set's values.\n *\n * @param  {function}  callback - Function to call for each item.\n * @param  {object}    scope    - Optional scope.\n * @return {undefined}\n */\nSparseSet.prototype.forEach = function(callback, scope) {\n  scope = arguments.length > 1 ? scope : this;\n\n  var item;\n\n  for (var i = 0; i < this.size; i++) {\n    item = this.dense[i];\n\n    callback.call(scope, item, item);\n  }\n};\n\n/**\n * Method used to create an iterator over a set's values.\n *\n * @return {Iterator}\n */\nSparseSet.prototype.values = function() {\n  var size = this.size,\n      dense = this.dense,\n      i = 0;\n\n  return new Iterator(function() {\n    if (i < size) {\n      var item = dense[i];\n      i++;\n\n      return {\n        value: item\n      };\n    }\n\n    return {\n      done: true\n    };\n  });\n};\n\n/**\n * Attaching the #.values method to Symbol.iterator if possible.\n */\nif (typeof Symbol !== 'undefined')\n  SparseSet.prototype[Symbol.iterator] = SparseSet.prototype.values;\n\n/**\n * Convenience known methods.\n */\nSparseSet.prototype.inspect = function() {\n  var proxy = new Set();\n\n  for (var i = 0; i < this.size; i++)\n    proxy.add(this.dense[i]);\n\n  // Trick so that node displays the name of the constructor\n  Object.defineProperty(proxy, 'constructor', {\n    value: SparseSet,\n    enumerable: false\n  });\n\n  proxy.length = this.length;\n\n  return proxy;\n};\n\nif (typeof Symbol !== 'undefined')\n  SparseSet.prototype[Symbol.for('nodejs.util.inspect.custom')] = SparseSet.prototype.inspect;\n\n/**\n * Exporting.\n */\nmodule.exports = SparseSet;\n","/**\n * Mnemonist Heap Comparators\n * ===========================\n *\n * Default comparators & functions dealing with comparators reversing etc.\n */\nvar DEFAULT_COMPARATOR = function(a, b) {\n  if (a < b)\n    return -1;\n  if (a > b)\n    return 1;\n\n  return 0;\n};\n\nvar DEFAULT_REVERSE_COMPARATOR = function(a, b) {\n  if (a < b)\n    return 1;\n  if (a > b)\n    return -1;\n\n  return 0;\n};\n\n/**\n * Function used to reverse a comparator.\n */\nfunction reverseComparator(comparator) {\n  return function(a, b) {\n    return comparator(b, a);\n  };\n}\n\n/**\n * Function returning a tuple comparator.\n */\nfunction createTupleComparator(size) {\n  if (size === 2) {\n    return function(a, b) {\n      if (a[0] < b[0])\n        return -1;\n\n      if (a[0] > b[0])\n        return 1;\n\n      if (a[1] < b[1])\n        return -1;\n\n      if (a[1] > b[1])\n        return 1;\n\n      return 0;\n    };\n  }\n\n  return function(a, b) {\n    var i = 0;\n\n    while (i < size) {\n      if (a[i] < b[i])\n        return -1;\n\n      if (a[i] > b[i])\n        return 1;\n\n      i++;\n    }\n\n    return 0;\n  };\n}\n\n/**\n * Exporting.\n */\nexports.DEFAULT_COMPARATOR = DEFAULT_COMPARATOR;\nexports.DEFAULT_REVERSE_COMPARATOR = DEFAULT_REVERSE_COMPARATOR;\nexports.reverseComparator = reverseComparator;\nexports.createTupleComparator = createTupleComparator;\n","/**\n * Mnemonist Iterable Function\n * ============================\n *\n * Harmonized iteration helpers over mixed iterable targets.\n */\nvar forEach = require('obliterator/foreach');\n\nvar typed = require('./typed-arrays.js');\n\n/**\n * Function used to determine whether the given object supports array-like\n * random access.\n *\n * @param  {any} target - Target object.\n * @return {boolean}\n */\nfunction isArrayLike(target) {\n  return Array.isArray(target) || typed.isTypedArray(target);\n}\n\n/**\n * Function used to guess the length of the structure over which we are going\n * to iterate.\n *\n * @param  {any} target - Target object.\n * @return {number|undefined}\n */\nfunction guessLength(target) {\n  if (typeof target.length === 'number')\n    return target.length;\n\n  if (typeof target.size === 'number')\n    return target.size;\n\n  return;\n}\n\n/**\n * Function used to convert an iterable to an array.\n *\n * @param  {any}   target - Iteration target.\n * @return {array}\n */\nfunction toArray(target) {\n  var l = guessLength(target);\n\n  var array = typeof l === 'number' ? new Array(l) : [];\n\n  var i = 0;\n\n  // TODO: we could optimize when given target is array like\n  forEach(target, function(value) {\n    array[i++] = value;\n  });\n\n  return array;\n}\n\n/**\n * Same as above but returns a supplementary indices array.\n *\n * @param  {any}   target - Iteration target.\n * @return {array}\n */\nfunction toArrayWithIndices(target) {\n  var l = guessLength(target);\n\n  var IndexArray = typeof l === 'number' ?\n    typed.getPointerArray(l) :\n    Array;\n\n  var array = typeof l === 'number' ? new Array(l) : [];\n  var indices = typeof l === 'number' ? new IndexArray(l) : [];\n\n  var i = 0;\n\n  // TODO: we could optimize when given target is array like\n  forEach(target, function(value) {\n    array[i] = value;\n    indices[i] = i++;\n  });\n\n  return [array, indices];\n}\n\n/**\n * Exporting.\n */\nexports.isArrayLike = isArrayLike;\nexports.guessLength = guessLength;\nexports.toArray = toArray;\nexports.toArrayWithIndices = toArrayWithIndices;\n","/**\n * Mnemonist Typed Array Helpers\n * ==============================\n *\n * Miscellaneous helpers related to typed arrays.\n */\n\n/**\n * When using an unsigned integer array to store pointers, one might want to\n * choose the optimal word size in regards to the actual numbers of pointers\n * to store.\n *\n * This helpers does just that.\n *\n * @param  {number} size - Expected size of the array to map.\n * @return {TypedArray}\n */\nvar MAX_8BIT_INTEGER = Math.pow(2, 8) - 1,\n    MAX_16BIT_INTEGER = Math.pow(2, 16) - 1,\n    MAX_32BIT_INTEGER = Math.pow(2, 32) - 1;\n\nvar MAX_SIGNED_8BIT_INTEGER = Math.pow(2, 7) - 1,\n    MAX_SIGNED_16BIT_INTEGER = Math.pow(2, 15) - 1,\n    MAX_SIGNED_32BIT_INTEGER = Math.pow(2, 31) - 1;\n\nexports.getPointerArray = function(size) {\n  var maxIndex = size - 1;\n\n  if (maxIndex <= MAX_8BIT_INTEGER)\n    return Uint8Array;\n\n  if (maxIndex <= MAX_16BIT_INTEGER)\n    return Uint16Array;\n\n  if (maxIndex <= MAX_32BIT_INTEGER)\n    return Uint32Array;\n\n  throw new Error('mnemonist: Pointer Array of size > 4294967295 is not supported.');\n};\n\nexports.getSignedPointerArray = function(size) {\n  var maxIndex = size - 1;\n\n  if (maxIndex <= MAX_SIGNED_8BIT_INTEGER)\n    return Int8Array;\n\n  if (maxIndex <= MAX_SIGNED_16BIT_INTEGER)\n    return Int16Array;\n\n  if (maxIndex <= MAX_SIGNED_32BIT_INTEGER)\n    return Int32Array;\n\n  return Float64Array;\n};\n\n/**\n * Function returning the minimal type able to represent the given number.\n *\n * @param  {number} value - Value to test.\n * @return {TypedArrayClass}\n */\nexports.getNumberType = function(value) {\n\n  // <= 32 bits itnteger?\n  if (value === (value | 0)) {\n\n    // Negative\n    if (Math.sign(value) === -1) {\n      if (value <= 127 && value >= -128)\n        return Int8Array;\n\n      if (value <= 32767 && value >= -32768)\n        return Int16Array;\n\n      return Int32Array;\n    }\n    else {\n\n      if (value <= 255)\n        return Uint8Array;\n\n      if (value <= 65535)\n        return Uint16Array;\n\n      return Uint32Array;\n    }\n  }\n\n  // 53 bits integer & floats\n  // NOTE: it's kinda hard to tell whether we could use 32bits or not...\n  return Float64Array;\n};\n\n/**\n * Function returning the minimal type able to represent the given array\n * of JavaScript numbers.\n *\n * @param  {array}    array  - Array to represent.\n * @param  {function} getter - Optional getter.\n * @return {TypedArrayClass}\n */\nvar TYPE_PRIORITY = {\n  Uint8Array: 1,\n  Int8Array: 2,\n  Uint16Array: 3,\n  Int16Array: 4,\n  Uint32Array: 5,\n  Int32Array: 6,\n  Float32Array: 7,\n  Float64Array: 8\n};\n\n// TODO: make this a one-shot for one value\nexports.getMinimalRepresentation = function(array, getter) {\n  var maxType = null,\n      maxPriority = 0,\n      p,\n      t,\n      v,\n      i,\n      l;\n\n  for (i = 0, l = array.length; i < l; i++) {\n    v = getter ? getter(array[i]) : array[i];\n    t = exports.getNumberType(v);\n    p = TYPE_PRIORITY[t.name];\n\n    if (p > maxPriority) {\n      maxPriority = p;\n      maxType = t;\n    }\n  }\n\n  return maxType;\n};\n\n/**\n * Function returning whether the given value is a typed array.\n *\n * @param  {any} value - Value to test.\n * @return {boolean}\n */\nexports.isTypedArray = function(value) {\n  return typeof ArrayBuffer !== 'undefined' && ArrayBuffer.isView(value);\n};\n\n/**\n * Function used to concat byte arrays.\n *\n * @param  {...ByteArray}\n * @return {ByteArray}\n */\nexports.concat = function() {\n  var length = 0,\n      i,\n      o,\n      l;\n\n  for (i = 0, l = arguments.length; i < l; i++)\n    length += arguments[i].length;\n\n  var array = new (arguments[0].constructor)(length);\n\n  for (i = 0, o = 0; i < l; i++) {\n    array.set(arguments[i], o);\n    o += arguments[i].length;\n  }\n\n  return array;\n};\n\n/**\n * Function used to initialize a byte array of indices.\n *\n * @param  {number}    length - Length of target.\n * @return {ByteArray}\n */\nexports.indices = function(length) {\n  var PointerArray = exports.getPointerArray(length);\n\n  var array = new PointerArray(length);\n\n  for (var i = 0; i < length; i++)\n    array[i] = i;\n\n  return array;\n};\n","/**\n * Obliterator ForEach Function\n * =============================\n *\n * Helper function used to easily iterate over mixed values.\n */\nvar support = require('./support.js');\n\nvar ARRAY_BUFFER_SUPPORT = support.ARRAY_BUFFER_SUPPORT;\nvar SYMBOL_SUPPORT = support.SYMBOL_SUPPORT;\n\n/**\n * Function able to iterate over almost any iterable JS value.\n *\n * @param  {any}      iterable - Iterable value.\n * @param  {function} callback - Callback function.\n */\nmodule.exports = function forEach(iterable, callback) {\n  var iterator, k, i, l, s;\n\n  if (!iterable) throw new Error('obliterator/forEach: invalid iterable.');\n\n  if (typeof callback !== 'function')\n    throw new Error('obliterator/forEach: expecting a callback.');\n\n  // The target is an array or a string or function arguments\n  if (\n    Array.isArray(iterable) ||\n    (ARRAY_BUFFER_SUPPORT && ArrayBuffer.isView(iterable)) ||\n    typeof iterable === 'string' ||\n    iterable.toString() === '[object Arguments]'\n  ) {\n    for (i = 0, l = iterable.length; i < l; i++) callback(iterable[i], i);\n    return;\n  }\n\n  // The target has a #.forEach method\n  if (typeof iterable.forEach === 'function') {\n    iterable.forEach(callback);\n    return;\n  }\n\n  // The target is iterable\n  if (\n    SYMBOL_SUPPORT &&\n    Symbol.iterator in iterable &&\n    typeof iterable.next !== 'function'\n  ) {\n    iterable = iterable[Symbol.iterator]();\n  }\n\n  // The target is an iterator\n  if (typeof iterable.next === 'function') {\n    iterator = iterable;\n    i = 0;\n\n    while (((s = iterator.next()), s.done !== true)) {\n      callback(s.value, i);\n      i++;\n    }\n\n    return;\n  }\n\n  // The target is a plain object\n  for (k in iterable) {\n    if (iterable.hasOwnProperty(k)) {\n      callback(iterable[k], k);\n    }\n  }\n\n  return;\n};\n","/**\n * Obliterator Iterator Class\n * ===========================\n *\n * Simple class representing the library's iterators.\n */\n\n/**\n * Iterator class.\n *\n * @constructor\n * @param {function} next - Next function.\n */\nfunction Iterator(next) {\n  if (typeof next !== 'function')\n    throw new Error('obliterator/iterator: expecting a function!');\n\n  this.next = next;\n}\n\n/**\n * If symbols are supported, we add `next` to `Symbol.iterator`.\n */\nif (typeof Symbol !== 'undefined')\n  Iterator.prototype[Symbol.iterator] = function () {\n    return this;\n  };\n\n/**\n * Returning an iterator of the given values.\n *\n * @param  {any...} values - Values.\n * @return {Iterator}\n */\nIterator.of = function () {\n  var args = arguments,\n    l = args.length,\n    i = 0;\n\n  return new Iterator(function () {\n    if (i >= l) return {done: true};\n\n    return {done: false, value: args[i++]};\n  });\n};\n\n/**\n * Returning an empty iterator.\n *\n * @return {Iterator}\n */\nIterator.empty = function () {\n  var iterator = new Iterator(function () {\n    return {done: true};\n  });\n\n  return iterator;\n};\n\n/**\n * Returning an iterator over the given indexed sequence.\n *\n * @param  {string|Array} sequence - Target sequence.\n * @return {Iterator}\n */\nIterator.fromSequence = function (sequence) {\n  var i = 0,\n    l = sequence.length;\n\n  return new Iterator(function () {\n    if (i >= l) return {done: true};\n\n    return {done: false, value: sequence[i++]};\n  });\n};\n\n/**\n * Returning whether the given value is an iterator.\n *\n * @param  {any} value - Value.\n * @return {boolean}\n */\nIterator.is = function (value) {\n  if (value instanceof Iterator) return true;\n\n  return (\n    typeof value === 'object' &&\n    value !== null &&\n    typeof value.next === 'function'\n  );\n};\n\n/**\n * Exporting.\n */\nmodule.exports = Iterator;\n","exports.ARRAY_BUFFER_SUPPORT = typeof ArrayBuffer !== 'undefined';\nexports.SYMBOL_SUPPORT = typeof Symbol !== 'undefined';\n","/**\n * Pandemonium Random Index\n * =========================\n *\n * Random index function.\n */\n\n/**\n * Creating a function returning a random index from the given array.\n *\n * @param  {function} rng - RNG function returning uniform random.\n * @return {function}     - The created function.\n */\nfunction createRandomIndex(rng) {\n  /**\n   * Random function.\n   *\n   * @param  {array|number}  array - Target array or length of the array.\n   * @return {number}\n   */\n  return function (length) {\n    if (typeof length !== 'number') length = length.length;\n\n    return Math.floor(rng() * length);\n  };\n}\n\n/**\n * Default random index using `Math.random`.\n */\nvar randomIndex = createRandomIndex(Math.random);\n\n/**\n * Exporting.\n */\nrandomIndex.createRandomIndex = createRandomIndex;\nmodule.exports = randomIndex;\n","// A library of seedable RNGs implemented in Javascript.\n//\n// Usage:\n//\n// var seedrandom = require('seedrandom');\n// var random = seedrandom(1); // or any seed.\n// var x = random();       // 0 <= x < 1.  Every bit is random.\n// var x = random.quick(); // 0 <= x < 1.  32 bits of randomness.\n\n// alea, a 53-bit multiply-with-carry generator by Johannes Baagøe.\n// Period: ~2^116\n// Reported to pass all BigCrush tests.\nvar alea = require('./lib/alea');\n\n// xor128, a pure xor-shift generator by George Marsaglia.\n// Period: 2^128-1.\n// Reported to fail: MatrixRank and LinearComp.\nvar xor128 = require('./lib/xor128');\n\n// xorwow, George Marsaglia's 160-bit xor-shift combined plus weyl.\n// Period: 2^192-2^32\n// Reported to fail: CollisionOver, SimpPoker, and LinearComp.\nvar xorwow = require('./lib/xorwow');\n\n// xorshift7, by François Panneton and Pierre L'ecuyer, takes\n// a different approach: it adds robustness by allowing more shifts\n// than Marsaglia's original three.  It is a 7-shift generator\n// with 256 bits, that passes BigCrush with no systmatic failures.\n// Period 2^256-1.\n// No systematic BigCrush failures reported.\nvar xorshift7 = require('./lib/xorshift7');\n\n// xor4096, by Richard Brent, is a 4096-bit xor-shift with a\n// very long period that also adds a Weyl generator. It also passes\n// BigCrush with no systematic failures.  Its long period may\n// be useful if you have many generators and need to avoid\n// collisions.\n// Period: 2^4128-2^32.\n// No systematic BigCrush failures reported.\nvar xor4096 = require('./lib/xor4096');\n\n// Tyche-i, by Samuel Neves and Filipe Araujo, is a bit-shifting random\n// number generator derived from ChaCha, a modern stream cipher.\n// https://eden.dei.uc.pt/~sneves/pubs/2011-snfa2.pdf\n// Period: ~2^127\n// No systematic BigCrush failures reported.\nvar tychei = require('./lib/tychei');\n\n// The original ARC4-based prng included in this library.\n// Period: ~2^1600\nvar sr = require('./seedrandom');\n\nsr.alea = alea;\nsr.xor128 = xor128;\nsr.xorwow = xorwow;\nsr.xorshift7 = xorshift7;\nsr.xor4096 = xor4096;\nsr.tychei = tychei;\n\nmodule.exports = sr;\n","// A port of an algorithm by Johannes Baagøe <baagoe@baagoe.com>, 2010\n// http://baagoe.com/en/RandomMusings/javascript/\n// https://github.com/nquinlan/better-random-numbers-for-javascript-mirror\n// Original work is under MIT license -\n\n// Copyright (C) 2010 by Johannes Baagøe <baagoe@baagoe.org>\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\n\n\n\n(function(global, module, define) {\n\nfunction Alea(seed) {\n  var me = this, mash = Mash();\n\n  me.next = function() {\n    var t = 2091639 * me.s0 + me.c * 2.3283064365386963e-10; // 2^-32\n    me.s0 = me.s1;\n    me.s1 = me.s2;\n    return me.s2 = t - (me.c = t | 0);\n  };\n\n  // Apply the seeding algorithm from Baagoe.\n  me.c = 1;\n  me.s0 = mash(' ');\n  me.s1 = mash(' ');\n  me.s2 = mash(' ');\n  me.s0 -= mash(seed);\n  if (me.s0 < 0) { me.s0 += 1; }\n  me.s1 -= mash(seed);\n  if (me.s1 < 0) { me.s1 += 1; }\n  me.s2 -= mash(seed);\n  if (me.s2 < 0) { me.s2 += 1; }\n  mash = null;\n}\n\nfunction copy(f, t) {\n  t.c = f.c;\n  t.s0 = f.s0;\n  t.s1 = f.s1;\n  t.s2 = f.s2;\n  return t;\n}\n\nfunction impl(seed, opts) {\n  var xg = new Alea(seed),\n      state = opts && opts.state,\n      prng = xg.next;\n  prng.int32 = function() { return (xg.next() * 0x100000000) | 0; }\n  prng.double = function() {\n    return prng() + (prng() * 0x200000 | 0) * 1.1102230246251565e-16; // 2^-53\n  };\n  prng.quick = prng;\n  if (state) {\n    if (typeof(state) == 'object') copy(state, xg);\n    prng.state = function() { return copy(xg, {}); }\n  }\n  return prng;\n}\n\nfunction Mash() {\n  var n = 0xefc8249d;\n\n  var mash = function(data) {\n    data = String(data);\n    for (var i = 0; i < data.length; i++) {\n      n += data.charCodeAt(i);\n      var h = 0.02519603282416938 * n;\n      n = h >>> 0;\n      h -= n;\n      h *= n;\n      n = h >>> 0;\n      h -= n;\n      n += h * 0x100000000; // 2^32\n    }\n    return (n >>> 0) * 2.3283064365386963e-10; // 2^-32\n  };\n\n  return mash;\n}\n\n\nif (module && module.exports) {\n  module.exports = impl;\n} else if (define && define.amd) {\n  define(function() { return impl; });\n} else {\n  this.alea = impl;\n}\n\n})(\n  this,\n  (typeof module) == 'object' && module,    // present in node.js\n  (typeof define) == 'function' && define   // present with an AMD loader\n);\n\n\n","// A Javascript implementaion of the \"Tyche-i\" prng algorithm by\n// Samuel Neves and Filipe Araujo.\n// See https://eden.dei.uc.pt/~sneves/pubs/2011-snfa2.pdf\n\n(function(global, module, define) {\n\nfunction XorGen(seed) {\n  var me = this, strseed = '';\n\n  // Set up generator function.\n  me.next = function() {\n    var b = me.b, c = me.c, d = me.d, a = me.a;\n    b = (b << 25) ^ (b >>> 7) ^ c;\n    c = (c - d) | 0;\n    d = (d << 24) ^ (d >>> 8) ^ a;\n    a = (a - b) | 0;\n    me.b = b = (b << 20) ^ (b >>> 12) ^ c;\n    me.c = c = (c - d) | 0;\n    me.d = (d << 16) ^ (c >>> 16) ^ a;\n    return me.a = (a - b) | 0;\n  };\n\n  /* The following is non-inverted tyche, which has better internal\n   * bit diffusion, but which is about 25% slower than tyche-i in JS.\n  me.next = function() {\n    var a = me.a, b = me.b, c = me.c, d = me.d;\n    a = (me.a + me.b | 0) >>> 0;\n    d = me.d ^ a; d = d << 16 ^ d >>> 16;\n    c = me.c + d | 0;\n    b = me.b ^ c; b = b << 12 ^ d >>> 20;\n    me.a = a = a + b | 0;\n    d = d ^ a; me.d = d = d << 8 ^ d >>> 24;\n    me.c = c = c + d | 0;\n    b = b ^ c;\n    return me.b = (b << 7 ^ b >>> 25);\n  }\n  */\n\n  me.a = 0;\n  me.b = 0;\n  me.c = 2654435769 | 0;\n  me.d = 1367130551;\n\n  if (seed === Math.floor(seed)) {\n    // Integer seed.\n    me.a = (seed / 0x100000000) | 0;\n    me.b = seed | 0;\n  } else {\n    // String seed.\n    strseed += seed;\n  }\n\n  // Mix in string seed, then discard an initial batch of 64 values.\n  for (var k = 0; k < strseed.length + 20; k++) {\n    me.b ^= strseed.charCodeAt(k) | 0;\n    me.next();\n  }\n}\n\nfunction copy(f, t) {\n  t.a = f.a;\n  t.b = f.b;\n  t.c = f.c;\n  t.d = f.d;\n  return t;\n};\n\nfunction impl(seed, opts) {\n  var xg = new XorGen(seed),\n      state = opts && opts.state,\n      prng = function() { return (xg.next() >>> 0) / 0x100000000; };\n  prng.double = function() {\n    do {\n      var top = xg.next() >>> 11,\n          bot = (xg.next() >>> 0) / 0x100000000,\n          result = (top + bot) / (1 << 21);\n    } while (result === 0);\n    return result;\n  };\n  prng.int32 = xg.next;\n  prng.quick = prng;\n  if (state) {\n    if (typeof(state) == 'object') copy(state, xg);\n    prng.state = function() { return copy(xg, {}); }\n  }\n  return prng;\n}\n\nif (module && module.exports) {\n  module.exports = impl;\n} else if (define && define.amd) {\n  define(function() { return impl; });\n} else {\n  this.tychei = impl;\n}\n\n})(\n  this,\n  (typeof module) == 'object' && module,    // present in node.js\n  (typeof define) == 'function' && define   // present with an AMD loader\n);\n\n\n","// A Javascript implementaion of the \"xor128\" prng algorithm by\n// George Marsaglia.  See http://www.jstatsoft.org/v08/i14/paper\n\n(function(global, module, define) {\n\nfunction XorGen(seed) {\n  var me = this, strseed = '';\n\n  me.x = 0;\n  me.y = 0;\n  me.z = 0;\n  me.w = 0;\n\n  // Set up generator function.\n  me.next = function() {\n    var t = me.x ^ (me.x << 11);\n    me.x = me.y;\n    me.y = me.z;\n    me.z = me.w;\n    return me.w ^= (me.w >>> 19) ^ t ^ (t >>> 8);\n  };\n\n  if (seed === (seed | 0)) {\n    // Integer seed.\n    me.x = seed;\n  } else {\n    // String seed.\n    strseed += seed;\n  }\n\n  // Mix in string seed, then discard an initial batch of 64 values.\n  for (var k = 0; k < strseed.length + 64; k++) {\n    me.x ^= strseed.charCodeAt(k) | 0;\n    me.next();\n  }\n}\n\nfunction copy(f, t) {\n  t.x = f.x;\n  t.y = f.y;\n  t.z = f.z;\n  t.w = f.w;\n  return t;\n}\n\nfunction impl(seed, opts) {\n  var xg = new XorGen(seed),\n      state = opts && opts.state,\n      prng = function() { return (xg.next() >>> 0) / 0x100000000; };\n  prng.double = function() {\n    do {\n      var top = xg.next() >>> 11,\n          bot = (xg.next() >>> 0) / 0x100000000,\n          result = (top + bot) / (1 << 21);\n    } while (result === 0);\n    return result;\n  };\n  prng.int32 = xg.next;\n  prng.quick = prng;\n  if (state) {\n    if (typeof(state) == 'object') copy(state, xg);\n    prng.state = function() { return copy(xg, {}); }\n  }\n  return prng;\n}\n\nif (module && module.exports) {\n  module.exports = impl;\n} else if (define && define.amd) {\n  define(function() { return impl; });\n} else {\n  this.xor128 = impl;\n}\n\n})(\n  this,\n  (typeof module) == 'object' && module,    // present in node.js\n  (typeof define) == 'function' && define   // present with an AMD loader\n);\n\n\n","// A Javascript implementaion of Richard Brent's Xorgens xor4096 algorithm.\n//\n// This fast non-cryptographic random number generator is designed for\n// use in Monte-Carlo algorithms. It combines a long-period xorshift\n// generator with a Weyl generator, and it passes all common batteries\n// of stasticial tests for randomness while consuming only a few nanoseconds\n// for each prng generated.  For background on the generator, see Brent's\n// paper: \"Some long-period random number generators using shifts and xors.\"\n// http://arxiv.org/pdf/1004.3115v1.pdf\n//\n// Usage:\n//\n// var xor4096 = require('xor4096');\n// random = xor4096(1);                        // Seed with int32 or string.\n// assert.equal(random(), 0.1520436450538547); // (0, 1) range, 53 bits.\n// assert.equal(random.int32(), 1806534897);   // signed int32, 32 bits.\n//\n// For nonzero numeric keys, this impelementation provides a sequence\n// identical to that by Brent's xorgens 3 implementaion in C.  This\n// implementation also provides for initalizing the generator with\n// string seeds, or for saving and restoring the state of the generator.\n//\n// On Chrome, this prng benchmarks about 2.1 times slower than\n// Javascript's built-in Math.random().\n\n(function(global, module, define) {\n\nfunction XorGen(seed) {\n  var me = this;\n\n  // Set up generator function.\n  me.next = function() {\n    var w = me.w,\n        X = me.X, i = me.i, t, v;\n    // Update Weyl generator.\n    me.w = w = (w + 0x61c88647) | 0;\n    // Update xor generator.\n    v = X[(i + 34) & 127];\n    t = X[i = ((i + 1) & 127)];\n    v ^= v << 13;\n    t ^= t << 17;\n    v ^= v >>> 15;\n    t ^= t >>> 12;\n    // Update Xor generator array state.\n    v = X[i] = v ^ t;\n    me.i = i;\n    // Result is the combination.\n    return (v + (w ^ (w >>> 16))) | 0;\n  };\n\n  function init(me, seed) {\n    var t, v, i, j, w, X = [], limit = 128;\n    if (seed === (seed | 0)) {\n      // Numeric seeds initialize v, which is used to generates X.\n      v = seed;\n      seed = null;\n    } else {\n      // String seeds are mixed into v and X one character at a time.\n      seed = seed + '\\0';\n      v = 0;\n      limit = Math.max(limit, seed.length);\n    }\n    // Initialize circular array and weyl value.\n    for (i = 0, j = -32; j < limit; ++j) {\n      // Put the unicode characters into the array, and shuffle them.\n      if (seed) v ^= seed.charCodeAt((j + 32) % seed.length);\n      // After 32 shuffles, take v as the starting w value.\n      if (j === 0) w = v;\n      v ^= v << 10;\n      v ^= v >>> 15;\n      v ^= v << 4;\n      v ^= v >>> 13;\n      if (j >= 0) {\n        w = (w + 0x61c88647) | 0;     // Weyl.\n        t = (X[j & 127] ^= (v + w));  // Combine xor and weyl to init array.\n        i = (0 == t) ? i + 1 : 0;     // Count zeroes.\n      }\n    }\n    // We have detected all zeroes; make the key nonzero.\n    if (i >= 128) {\n      X[(seed && seed.length || 0) & 127] = -1;\n    }\n    // Run the generator 512 times to further mix the state before using it.\n    // Factoring this as a function slows the main generator, so it is just\n    // unrolled here.  The weyl generator is not advanced while warming up.\n    i = 127;\n    for (j = 4 * 128; j > 0; --j) {\n      v = X[(i + 34) & 127];\n      t = X[i = ((i + 1) & 127)];\n      v ^= v << 13;\n      t ^= t << 17;\n      v ^= v >>> 15;\n      t ^= t >>> 12;\n      X[i] = v ^ t;\n    }\n    // Storing state as object members is faster than using closure variables.\n    me.w = w;\n    me.X = X;\n    me.i = i;\n  }\n\n  init(me, seed);\n}\n\nfunction copy(f, t) {\n  t.i = f.i;\n  t.w = f.w;\n  t.X = f.X.slice();\n  return t;\n};\n\nfunction impl(seed, opts) {\n  if (seed == null) seed = +(new Date);\n  var xg = new XorGen(seed),\n      state = opts && opts.state,\n      prng = function() { return (xg.next() >>> 0) / 0x100000000; };\n  prng.double = function() {\n    do {\n      var top = xg.next() >>> 11,\n          bot = (xg.next() >>> 0) / 0x100000000,\n          result = (top + bot) / (1 << 21);\n    } while (result === 0);\n    return result;\n  };\n  prng.int32 = xg.next;\n  prng.quick = prng;\n  if (state) {\n    if (state.X) copy(state, xg);\n    prng.state = function() { return copy(xg, {}); }\n  }\n  return prng;\n}\n\nif (module && module.exports) {\n  module.exports = impl;\n} else if (define && define.amd) {\n  define(function() { return impl; });\n} else {\n  this.xor4096 = impl;\n}\n\n})(\n  this,                                     // window object or global\n  (typeof module) == 'object' && module,    // present in node.js\n  (typeof define) == 'function' && define   // present with an AMD loader\n);\n","// A Javascript implementaion of the \"xorshift7\" algorithm by\n// François Panneton and Pierre L'ecuyer:\n// \"On the Xorgshift Random Number Generators\"\n// http://saluc.engr.uconn.edu/refs/crypto/rng/panneton05onthexorshift.pdf\n\n(function(global, module, define) {\n\nfunction XorGen(seed) {\n  var me = this;\n\n  // Set up generator function.\n  me.next = function() {\n    // Update xor generator.\n    var X = me.x, i = me.i, t, v, w;\n    t = X[i]; t ^= (t >>> 7); v = t ^ (t << 24);\n    t = X[(i + 1) & 7]; v ^= t ^ (t >>> 10);\n    t = X[(i + 3) & 7]; v ^= t ^ (t >>> 3);\n    t = X[(i + 4) & 7]; v ^= t ^ (t << 7);\n    t = X[(i + 7) & 7]; t = t ^ (t << 13); v ^= t ^ (t << 9);\n    X[i] = v;\n    me.i = (i + 1) & 7;\n    return v;\n  };\n\n  function init(me, seed) {\n    var j, w, X = [];\n\n    if (seed === (seed | 0)) {\n      // Seed state array using a 32-bit integer.\n      w = X[0] = seed;\n    } else {\n      // Seed state using a string.\n      seed = '' + seed;\n      for (j = 0; j < seed.length; ++j) {\n        X[j & 7] = (X[j & 7] << 15) ^\n            (seed.charCodeAt(j) + X[(j + 1) & 7] << 13);\n      }\n    }\n    // Enforce an array length of 8, not all zeroes.\n    while (X.length < 8) X.push(0);\n    for (j = 0; j < 8 && X[j] === 0; ++j);\n    if (j == 8) w = X[7] = -1; else w = X[j];\n\n    me.x = X;\n    me.i = 0;\n\n    // Discard an initial 256 values.\n    for (j = 256; j > 0; --j) {\n      me.next();\n    }\n  }\n\n  init(me, seed);\n}\n\nfunction copy(f, t) {\n  t.x = f.x.slice();\n  t.i = f.i;\n  return t;\n}\n\nfunction impl(seed, opts) {\n  if (seed == null) seed = +(new Date);\n  var xg = new XorGen(seed),\n      state = opts && opts.state,\n      prng = function() { return (xg.next() >>> 0) / 0x100000000; };\n  prng.double = function() {\n    do {\n      var top = xg.next() >>> 11,\n          bot = (xg.next() >>> 0) / 0x100000000,\n          result = (top + bot) / (1 << 21);\n    } while (result === 0);\n    return result;\n  };\n  prng.int32 = xg.next;\n  prng.quick = prng;\n  if (state) {\n    if (state.x) copy(state, xg);\n    prng.state = function() { return copy(xg, {}); }\n  }\n  return prng;\n}\n\nif (module && module.exports) {\n  module.exports = impl;\n} else if (define && define.amd) {\n  define(function() { return impl; });\n} else {\n  this.xorshift7 = impl;\n}\n\n})(\n  this,\n  (typeof module) == 'object' && module,    // present in node.js\n  (typeof define) == 'function' && define   // present with an AMD loader\n);\n\n","// A Javascript implementaion of the \"xorwow\" prng algorithm by\n// George Marsaglia.  See http://www.jstatsoft.org/v08/i14/paper\n\n(function(global, module, define) {\n\nfunction XorGen(seed) {\n  var me = this, strseed = '';\n\n  // Set up generator function.\n  me.next = function() {\n    var t = (me.x ^ (me.x >>> 2));\n    me.x = me.y; me.y = me.z; me.z = me.w; me.w = me.v;\n    return (me.d = (me.d + 362437 | 0)) +\n       (me.v = (me.v ^ (me.v << 4)) ^ (t ^ (t << 1))) | 0;\n  };\n\n  me.x = 0;\n  me.y = 0;\n  me.z = 0;\n  me.w = 0;\n  me.v = 0;\n\n  if (seed === (seed | 0)) {\n    // Integer seed.\n    me.x = seed;\n  } else {\n    // String seed.\n    strseed += seed;\n  }\n\n  // Mix in string seed, then discard an initial batch of 64 values.\n  for (var k = 0; k < strseed.length + 64; k++) {\n    me.x ^= strseed.charCodeAt(k) | 0;\n    if (k == strseed.length) {\n      me.d = me.x << 10 ^ me.x >>> 4;\n    }\n    me.next();\n  }\n}\n\nfunction copy(f, t) {\n  t.x = f.x;\n  t.y = f.y;\n  t.z = f.z;\n  t.w = f.w;\n  t.v = f.v;\n  t.d = f.d;\n  return t;\n}\n\nfunction impl(seed, opts) {\n  var xg = new XorGen(seed),\n      state = opts && opts.state,\n      prng = function() { return (xg.next() >>> 0) / 0x100000000; };\n  prng.double = function() {\n    do {\n      var top = xg.next() >>> 11,\n          bot = (xg.next() >>> 0) / 0x100000000,\n          result = (top + bot) / (1 << 21);\n    } while (result === 0);\n    return result;\n  };\n  prng.int32 = xg.next;\n  prng.quick = prng;\n  if (state) {\n    if (typeof(state) == 'object') copy(state, xg);\n    prng.state = function() { return copy(xg, {}); }\n  }\n  return prng;\n}\n\nif (module && module.exports) {\n  module.exports = impl;\n} else if (define && define.amd) {\n  define(function() { return impl; });\n} else {\n  this.xorwow = impl;\n}\n\n})(\n  this,\n  (typeof module) == 'object' && module,    // present in node.js\n  (typeof define) == 'function' && define   // present with an AMD loader\n);\n\n\n","/*\nCopyright 2019 David Bau.\n\nPermission is hereby granted, free of charge, to any person obtaining\na copy of this software and associated documentation files (the\n\"Software\"), to deal in the Software without restriction, including\nwithout limitation the rights to use, copy, modify, merge, publish,\ndistribute, sublicense, and/or sell copies of the Software, and to\npermit persons to whom the Software is furnished to do so, subject to\nthe following conditions:\n\nThe above copyright notice and this permission notice shall be\nincluded in all copies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\nEXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\nMERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.\nIN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY\nCLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,\nTORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE\nSOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n*/\n\n(function (global, pool, math) {\n//\n// The following constants are related to IEEE 754 limits.\n//\n\nvar width = 256,        // each RC4 output is 0 <= x < 256\n    chunks = 6,         // at least six RC4 outputs for each double\n    digits = 52,        // there are 52 significant digits in a double\n    rngname = 'random', // rngname: name for Math.random and Math.seedrandom\n    startdenom = math.pow(width, chunks),\n    significance = math.pow(2, digits),\n    overflow = significance * 2,\n    mask = width - 1,\n    nodecrypto;         // node.js crypto module, initialized at the bottom.\n\n//\n// seedrandom()\n// This is the seedrandom function described above.\n//\nfunction seedrandom(seed, options, callback) {\n  var key = [];\n  options = (options == true) ? { entropy: true } : (options || {});\n\n  // Flatten the seed string or build one from local entropy if needed.\n  var shortseed = mixkey(flatten(\n    options.entropy ? [seed, tostring(pool)] :\n    (seed == null) ? autoseed() : seed, 3), key);\n\n  // Use the seed to initialize an ARC4 generator.\n  var arc4 = new ARC4(key);\n\n  // This function returns a random double in [0, 1) that contains\n  // randomness in every bit of the mantissa of the IEEE 754 value.\n  var prng = function() {\n    var n = arc4.g(chunks),             // Start with a numerator n < 2 ^ 48\n        d = startdenom,                 //   and denominator d = 2 ^ 48.\n        x = 0;                          //   and no 'extra last byte'.\n    while (n < significance) {          // Fill up all significant digits by\n      n = (n + x) * width;              //   shifting numerator and\n      d *= width;                       //   denominator and generating a\n      x = arc4.g(1);                    //   new least-significant-byte.\n    }\n    while (n >= overflow) {             // To avoid rounding up, before adding\n      n /= 2;                           //   last byte, shift everything\n      d /= 2;                           //   right using integer math until\n      x >>>= 1;                         //   we have exactly the desired bits.\n    }\n    return (n + x) / d;                 // Form the number within [0, 1).\n  };\n\n  prng.int32 = function() { return arc4.g(4) | 0; }\n  prng.quick = function() { return arc4.g(4) / 0x100000000; }\n  prng.double = prng;\n\n  // Mix the randomness into accumulated entropy.\n  mixkey(tostring(arc4.S), pool);\n\n  // Calling convention: what to return as a function of prng, seed, is_math.\n  return (options.pass || callback ||\n      function(prng, seed, is_math_call, state) {\n        if (state) {\n          // Load the arc4 state from the given state if it has an S array.\n          if (state.S) { copy(state, arc4); }\n          // Only provide the .state method if requested via options.state.\n          prng.state = function() { return copy(arc4, {}); }\n        }\n\n        // If called as a method of Math (Math.seedrandom()), mutate\n        // Math.random because that is how seedrandom.js has worked since v1.0.\n        if (is_math_call) { math[rngname] = prng; return seed; }\n\n        // Otherwise, it is a newer calling convention, so return the\n        // prng directly.\n        else return prng;\n      })(\n  prng,\n  shortseed,\n  'global' in options ? options.global : (this == math),\n  options.state);\n}\n\n//\n// ARC4\n//\n// An ARC4 implementation.  The constructor takes a key in the form of\n// an array of at most (width) integers that should be 0 <= x < (width).\n//\n// The g(count) method returns a pseudorandom integer that concatenates\n// the next (count) outputs from ARC4.  Its return value is a number x\n// that is in the range 0 <= x < (width ^ count).\n//\nfunction ARC4(key) {\n  var t, keylen = key.length,\n      me = this, i = 0, j = me.i = me.j = 0, s = me.S = [];\n\n  // The empty key [] is treated as [0].\n  if (!keylen) { key = [keylen++]; }\n\n  // Set up S using the standard key scheduling algorithm.\n  while (i < width) {\n    s[i] = i++;\n  }\n  for (i = 0; i < width; i++) {\n    s[i] = s[j = mask & (j + key[i % keylen] + (t = s[i]))];\n    s[j] = t;\n  }\n\n  // The \"g\" method returns the next (count) outputs as one number.\n  (me.g = function(count) {\n    // Using instance members instead of closure state nearly doubles speed.\n    var t, r = 0,\n        i = me.i, j = me.j, s = me.S;\n    while (count--) {\n      t = s[i = mask & (i + 1)];\n      r = r * width + s[mask & ((s[i] = s[j = mask & (j + t)]) + (s[j] = t))];\n    }\n    me.i = i; me.j = j;\n    return r;\n    // For robust unpredictability, the function call below automatically\n    // discards an initial batch of values.  This is called RC4-drop[256].\n    // See http://google.com/search?q=rsa+fluhrer+response&btnI\n  })(width);\n}\n\n//\n// copy()\n// Copies internal state of ARC4 to or from a plain object.\n//\nfunction copy(f, t) {\n  t.i = f.i;\n  t.j = f.j;\n  t.S = f.S.slice();\n  return t;\n};\n\n//\n// flatten()\n// Converts an object tree to nested arrays of strings.\n//\nfunction flatten(obj, depth) {\n  var result = [], typ = (typeof obj), prop;\n  if (depth && typ == 'object') {\n    for (prop in obj) {\n      try { result.push(flatten(obj[prop], depth - 1)); } catch (e) {}\n    }\n  }\n  return (result.length ? result : typ == 'string' ? obj : obj + '\\0');\n}\n\n//\n// mixkey()\n// Mixes a string seed into a key that is an array of integers, and\n// returns a shortened string seed that is equivalent to the result key.\n//\nfunction mixkey(seed, key) {\n  var stringseed = seed + '', smear, j = 0;\n  while (j < stringseed.length) {\n    key[mask & j] =\n      mask & ((smear ^= key[mask & j] * 19) + stringseed.charCodeAt(j++));\n  }\n  return tostring(key);\n}\n\n//\n// autoseed()\n// Returns an object for autoseeding, using window.crypto and Node crypto\n// module if available.\n//\nfunction autoseed() {\n  try {\n    var out;\n    if (nodecrypto && (out = nodecrypto.randomBytes)) {\n      // The use of 'out' to remember randomBytes makes tight minified code.\n      out = out(width);\n    } else {\n      out = new Uint8Array(width);\n      (global.crypto || global.msCrypto).getRandomValues(out);\n    }\n    return tostring(out);\n  } catch (e) {\n    var browser = global.navigator,\n        plugins = browser && browser.plugins;\n    return [+new Date, global, plugins, global.screen, tostring(pool)];\n  }\n}\n\n//\n// tostring()\n// Converts an array of charcodes to a string\n//\nfunction tostring(a) {\n  return String.fromCharCode.apply(0, a);\n}\n\n//\n// When seedrandom.js is loaded, we immediately mix a few bits\n// from the built-in RNG into the entropy pool.  Because we do\n// not want to interfere with deterministic PRNG state later,\n// seedrandom will not call math.random on its own again after\n// initialization.\n//\nmixkey(math.random(), pool);\n\n//\n// Nodejs and AMD support: export the implementation as a module using\n// either convention.\n//\nif ((typeof module) == 'object' && module.exports) {\n  module.exports = seedrandom;\n  // When in node.js, try using crypto package for autoseeding.\n  try {\n    nodecrypto = require('crypto');\n  } catch (ex) {}\n} else if ((typeof define) == 'function' && define.amd) {\n  define(function() { return seedrandom; });\n} else {\n  // When included as a plain script, set up Math.seedrandom global.\n  math['seed' + rngname] = seedrandom;\n}\n\n\n// End anonymous scope, and pass initial values.\n})(\n  // global: `self` in browsers (including strict mode and web workers),\n  // otherwise `this` in Node and other environments\n  (typeof self !== 'undefined') ? self : this,\n  [],     // pool: entropy pool starts empty\n  Math    // math: package containing random, pow, and seedrandom\n);\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/**\n * Sigma.js Camera Class\n * ======================\n *\n * Class designed to store camera information & used to update it.\n * @module\n */\nvar animate_1 = require(\"../utils/animate\");\nvar easings_1 = __importDefault(require(\"../utils/easings\"));\nvar utils_1 = require(\"../utils\");\nvar types_1 = require(\"../types\");\n/**\n * Defaults.\n */\nvar DEFAULT_ZOOMING_RATIO = 1.5;\n/**\n * Camera class\n *\n * @constructor\n */\nvar Camera = /** @class */ (function (_super) {\n    __extends(Camera, _super);\n    function Camera() {\n        var _this = _super.call(this) || this;\n        _this.x = 0.5;\n        _this.y = 0.5;\n        _this.angle = 0;\n        _this.ratio = 1;\n        _this.minRatio = null;\n        _this.maxRatio = null;\n        _this.nextFrame = null;\n        _this.previousState = null;\n        _this.enabled = true;\n        // State\n        _this.previousState = _this.getState();\n        return _this;\n    }\n    /**\n     * Static method used to create a Camera object with a given state.\n     *\n     * @param state\n     * @return {Camera}\n     */\n    Camera.from = function (state) {\n        var camera = new Camera();\n        return camera.setState(state);\n    };\n    /**\n     * Method used to enable the camera.\n     *\n     * @return {Camera}\n     */\n    Camera.prototype.enable = function () {\n        this.enabled = true;\n        return this;\n    };\n    /**\n     * Method used to disable the camera.\n     *\n     * @return {Camera}\n     */\n    Camera.prototype.disable = function () {\n        this.enabled = false;\n        return this;\n    };\n    /**\n     * Method used to retrieve the camera's current state.\n     *\n     * @return {object}\n     */\n    Camera.prototype.getState = function () {\n        return {\n            x: this.x,\n            y: this.y,\n            angle: this.angle,\n            ratio: this.ratio,\n        };\n    };\n    /**\n     * Method used to check whether the camera has the given state.\n     *\n     * @return {object}\n     */\n    Camera.prototype.hasState = function (state) {\n        return this.x === state.x && this.y === state.y && this.ratio === state.ratio && this.angle === state.angle;\n    };\n    /**\n     * Method used to retrieve the camera's previous state.\n     *\n     * @return {object}\n     */\n    Camera.prototype.getPreviousState = function () {\n        var state = this.previousState;\n        if (!state)\n            return null;\n        return {\n            x: state.x,\n            y: state.y,\n            angle: state.angle,\n            ratio: state.ratio,\n        };\n    };\n    /**\n     * Method used to check minRatio and maxRatio values.\n     *\n     * @param ratio\n     * @return {number}\n     */\n    Camera.prototype.getBoundedRatio = function (ratio) {\n        var r = ratio;\n        if (typeof this.minRatio === \"number\")\n            r = Math.max(r, this.minRatio);\n        if (typeof this.maxRatio === \"number\")\n            r = Math.min(r, this.maxRatio);\n        return r;\n    };\n    /**\n     * Method used to check various things to return a legit state candidate.\n     *\n     * @param state\n     * @return {object}\n     */\n    Camera.prototype.validateState = function (state) {\n        var validatedState = {};\n        if (typeof state.x === \"number\")\n            validatedState.x = state.x;\n        if (typeof state.y === \"number\")\n            validatedState.y = state.y;\n        if (typeof state.angle === \"number\")\n            validatedState.angle = state.angle;\n        if (typeof state.ratio === \"number\")\n            validatedState.ratio = this.getBoundedRatio(state.ratio);\n        return validatedState;\n    };\n    /**\n     * Method used to check whether the camera is currently being animated.\n     *\n     * @return {boolean}\n     */\n    Camera.prototype.isAnimated = function () {\n        return !!this.nextFrame;\n    };\n    /**\n     * Method used to set the camera's state.\n     *\n     * @param  {object} state - New state.\n     * @return {Camera}\n     */\n    Camera.prototype.setState = function (state) {\n        if (!this.enabled)\n            return this;\n        // TODO: update by function\n        // Keeping track of last state\n        this.previousState = this.getState();\n        var validState = this.validateState(state);\n        if (typeof validState.x === \"number\")\n            this.x = validState.x;\n        if (typeof validState.y === \"number\")\n            this.y = validState.y;\n        if (typeof validState.angle === \"number\")\n            this.angle = validState.angle;\n        if (typeof validState.ratio === \"number\")\n            this.ratio = validState.ratio;\n        // Emitting\n        if (!this.hasState(this.previousState))\n            this.emit(\"updated\", this.getState());\n        return this;\n    };\n    /**\n     * Method used to update the camera's state using a function.\n     *\n     * @param  {function} updater - Updated function taking current state and\n     *                              returning next state.\n     * @return {Camera}\n     */\n    Camera.prototype.updateState = function (updater) {\n        this.setState(updater(this.getState()));\n        return this;\n    };\n    /**\n     * Method used to animate the camera.\n     *\n     * @param  {object}                    state      - State to reach eventually.\n     * @param  {object}                    opts       - Options:\n     * @param  {number}                      duration - Duration of the animation.\n     * @param  {string | number => number}   easing   - Easing function or name of an existing one\n     * @param  {function}                  callback   - Callback\n     */\n    Camera.prototype.animate = function (state, opts, callback) {\n        var _this = this;\n        if (!this.enabled)\n            return;\n        var options = Object.assign({}, animate_1.ANIMATE_DEFAULTS, opts);\n        var validState = this.validateState(state);\n        var easing = typeof options.easing === \"function\" ? options.easing : easings_1.default[options.easing];\n        // State\n        var start = Date.now(), initialState = this.getState();\n        // Function performing the animation\n        var fn = function () {\n            var t = (Date.now() - start) / options.duration;\n            // The animation is over:\n            if (t >= 1) {\n                _this.nextFrame = null;\n                _this.setState(validState);\n                if (_this.animationCallback) {\n                    _this.animationCallback.call(null);\n                    _this.animationCallback = undefined;\n                }\n                return;\n            }\n            var coefficient = easing(t);\n            var newState = {};\n            if (typeof validState.x === \"number\")\n                newState.x = initialState.x + (validState.x - initialState.x) * coefficient;\n            if (typeof validState.y === \"number\")\n                newState.y = initialState.y + (validState.y - initialState.y) * coefficient;\n            if (typeof validState.angle === \"number\")\n                newState.angle = initialState.angle + (validState.angle - initialState.angle) * coefficient;\n            if (typeof validState.ratio === \"number\")\n                newState.ratio = initialState.ratio + (validState.ratio - initialState.ratio) * coefficient;\n            _this.setState(newState);\n            _this.nextFrame = (0, utils_1.requestFrame)(fn);\n        };\n        if (this.nextFrame) {\n            (0, utils_1.cancelFrame)(this.nextFrame);\n            if (this.animationCallback)\n                this.animationCallback.call(null);\n            this.nextFrame = (0, utils_1.requestFrame)(fn);\n        }\n        else {\n            fn();\n        }\n        this.animationCallback = callback;\n    };\n    /**\n     * Method used to zoom the camera.\n     *\n     * @param  {number|object} factorOrOptions - Factor or options.\n     * @return {function}\n     */\n    Camera.prototype.animatedZoom = function (factorOrOptions) {\n        if (!factorOrOptions) {\n            this.animate({ ratio: this.ratio / DEFAULT_ZOOMING_RATIO });\n        }\n        else {\n            if (typeof factorOrOptions === \"number\")\n                return this.animate({ ratio: this.ratio / factorOrOptions });\n            else\n                this.animate({\n                    ratio: this.ratio / (factorOrOptions.factor || DEFAULT_ZOOMING_RATIO),\n                }, factorOrOptions);\n        }\n    };\n    /**\n     * Method used to unzoom the camera.\n     *\n     * @param  {number|object} factorOrOptions - Factor or options.\n     */\n    Camera.prototype.animatedUnzoom = function (factorOrOptions) {\n        if (!factorOrOptions) {\n            this.animate({ ratio: this.ratio * DEFAULT_ZOOMING_RATIO });\n        }\n        else {\n            if (typeof factorOrOptions === \"number\")\n                return this.animate({ ratio: this.ratio * factorOrOptions });\n            else\n                this.animate({\n                    ratio: this.ratio * (factorOrOptions.factor || DEFAULT_ZOOMING_RATIO),\n                }, factorOrOptions);\n        }\n    };\n    /**\n     * Method used to reset the camera.\n     *\n     * @param  {object} options - Options.\n     */\n    Camera.prototype.animatedReset = function (options) {\n        this.animate({\n            x: 0.5,\n            y: 0.5,\n            ratio: 1,\n            angle: 0,\n        }, options);\n    };\n    /**\n     * Returns a new Camera instance, with the same state as the current camera.\n     *\n     * @return {Camera}\n     */\n    Camera.prototype.copy = function () {\n        return Camera.from(this.getState());\n    };\n    return Camera;\n}(types_1.TypedEventEmitter));\nexports.default = Camera;\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.getWheelDelta = exports.getTouchCoords = exports.getTouchesArray = exports.getWheelCoords = exports.getMouseCoords = exports.getPosition = void 0;\n/**\n * Sigma.js Captor Class\n * ======================\n * @module\n */\nvar types_1 = require(\"../../types\");\n/**\n * Captor utils functions\n * ======================\n */\n/**\n * Extract the local X and Y coordinates from a mouse event or touch object. If\n * a DOM element is given, it uses this element's offset to compute the position\n * (this allows using events that are not bound to the container itself and\n * still have a proper position).\n *\n * @param  {event}       e - A mouse event or touch object.\n * @param  {HTMLElement} dom - A DOM element to compute offset relatively to.\n * @return {number}      The local Y value of the mouse.\n */\nfunction getPosition(e, dom) {\n    var bbox = dom.getBoundingClientRect();\n    return {\n        x: e.clientX - bbox.left,\n        y: e.clientY - bbox.top,\n    };\n}\nexports.getPosition = getPosition;\n/**\n * Convert mouse coords to sigma coords.\n *\n * @param  {event}       e   - A mouse event or touch object.\n * @param  {HTMLElement} dom - A DOM element to compute offset relatively to.\n * @return {object}\n */\nfunction getMouseCoords(e, dom) {\n    var res = __assign(__assign({}, getPosition(e, dom)), { sigmaDefaultPrevented: false, preventSigmaDefault: function () {\n            res.sigmaDefaultPrevented = true;\n        }, original: e });\n    return res;\n}\nexports.getMouseCoords = getMouseCoords;\n/**\n * Convert mouse wheel event coords to sigma coords.\n *\n * @param  {event}       e   - A wheel mouse event.\n * @param  {HTMLElement} dom - A DOM element to compute offset relatively to.\n * @return {object}\n */\nfunction getWheelCoords(e, dom) {\n    return __assign(__assign({}, getMouseCoords(e, dom)), { delta: getWheelDelta(e) });\n}\nexports.getWheelCoords = getWheelCoords;\nvar MAX_TOUCHES = 2;\nfunction getTouchesArray(touches) {\n    var arr = [];\n    for (var i = 0, l = Math.min(touches.length, MAX_TOUCHES); i < l; i++)\n        arr.push(touches[i]);\n    return arr;\n}\nexports.getTouchesArray = getTouchesArray;\n/**\n * Convert touch coords to sigma coords.\n *\n * @param  {event}       e   - A touch event.\n * @param  {HTMLElement} dom - A DOM element to compute offset relatively to.\n * @return {object}\n */\nfunction getTouchCoords(e, dom) {\n    return {\n        touches: getTouchesArray(e.touches).map(function (touch) { return getPosition(touch, dom); }),\n        original: e,\n    };\n}\nexports.getTouchCoords = getTouchCoords;\n/**\n * Extract the wheel delta from a mouse event or touch object.\n *\n * @param  {event}  e - A mouse event or touch object.\n * @return {number}     The wheel delta of the mouse.\n */\nfunction getWheelDelta(e) {\n    // TODO: check those ratios again to ensure a clean Chrome/Firefox compat\n    if (typeof e.deltaY !== \"undefined\")\n        return (e.deltaY * -3) / 360;\n    if (typeof e.detail !== \"undefined\")\n        return e.detail / -9;\n    throw new Error(\"Captor: could not extract delta from event.\");\n}\nexports.getWheelDelta = getWheelDelta;\n/**\n * Abstract class representing a captor like the user's mouse or touch controls.\n */\nvar Captor = /** @class */ (function (_super) {\n    __extends(Captor, _super);\n    function Captor(container, renderer) {\n        var _this = _super.call(this) || this;\n        // Properties\n        _this.container = container;\n        _this.renderer = renderer;\n        return _this;\n    }\n    return Captor;\n}(types_1.TypedEventEmitter));\nexports.default = Captor;\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar captor_1 = __importStar(require(\"./captor\"));\n/**\n * Constants.\n */\nvar DRAG_TIMEOUT = 100;\nvar DRAGGED_EVENTS_TOLERANCE = 3;\nvar MOUSE_INERTIA_DURATION = 200;\nvar MOUSE_INERTIA_RATIO = 3;\nvar MOUSE_ZOOM_DURATION = 250;\nvar ZOOMING_RATIO = 1.7;\nvar DOUBLE_CLICK_TIMEOUT = 300;\nvar DOUBLE_CLICK_ZOOMING_RATIO = 2.2;\nvar DOUBLE_CLICK_ZOOMING_DURATION = 200;\n/**\n * Mouse captor class.\n *\n * @constructor\n */\nvar MouseCaptor = /** @class */ (function (_super) {\n    __extends(MouseCaptor, _super);\n    function MouseCaptor(container, renderer) {\n        var _this = _super.call(this, container, renderer) || this;\n        // State\n        _this.enabled = true;\n        _this.draggedEvents = 0;\n        _this.downStartTime = null;\n        _this.lastMouseX = null;\n        _this.lastMouseY = null;\n        _this.isMouseDown = false;\n        _this.isMoving = false;\n        _this.movingTimeout = null;\n        _this.startCameraState = null;\n        _this.clicks = 0;\n        _this.doubleClickTimeout = null;\n        _this.currentWheelDirection = 0;\n        // Binding methods\n        _this.handleClick = _this.handleClick.bind(_this);\n        _this.handleRightClick = _this.handleRightClick.bind(_this);\n        _this.handleDown = _this.handleDown.bind(_this);\n        _this.handleUp = _this.handleUp.bind(_this);\n        _this.handleMove = _this.handleMove.bind(_this);\n        _this.handleWheel = _this.handleWheel.bind(_this);\n        _this.handleOut = _this.handleOut.bind(_this);\n        // Binding events\n        container.addEventListener(\"click\", _this.handleClick, false);\n        container.addEventListener(\"contextmenu\", _this.handleRightClick, false);\n        container.addEventListener(\"mousedown\", _this.handleDown, false);\n        container.addEventListener(\"wheel\", _this.handleWheel, false);\n        container.addEventListener(\"mouseout\", _this.handleOut, false);\n        document.addEventListener(\"mousemove\", _this.handleMove, false);\n        document.addEventListener(\"mouseup\", _this.handleUp, false);\n        return _this;\n    }\n    MouseCaptor.prototype.kill = function () {\n        var container = this.container;\n        container.removeEventListener(\"click\", this.handleClick);\n        container.removeEventListener(\"contextmenu\", this.handleRightClick);\n        container.removeEventListener(\"mousedown\", this.handleDown);\n        container.removeEventListener(\"wheel\", this.handleWheel);\n        container.removeEventListener(\"mouseout\", this.handleOut);\n        document.removeEventListener(\"mousemove\", this.handleMove);\n        document.removeEventListener(\"mouseup\", this.handleUp);\n    };\n    MouseCaptor.prototype.handleClick = function (e) {\n        var _this = this;\n        if (!this.enabled)\n            return;\n        this.clicks++;\n        if (this.clicks === 2) {\n            this.clicks = 0;\n            if (typeof this.doubleClickTimeout === \"number\") {\n                clearTimeout(this.doubleClickTimeout);\n                this.doubleClickTimeout = null;\n            }\n            return this.handleDoubleClick(e);\n        }\n        setTimeout(function () {\n            _this.clicks = 0;\n            _this.doubleClickTimeout = null;\n        }, DOUBLE_CLICK_TIMEOUT);\n        // NOTE: this is here to prevent click events on drag\n        if (this.draggedEvents < DRAGGED_EVENTS_TOLERANCE)\n            this.emit(\"click\", (0, captor_1.getMouseCoords)(e, this.container));\n    };\n    MouseCaptor.prototype.handleRightClick = function (e) {\n        if (!this.enabled)\n            return;\n        this.emit(\"rightClick\", (0, captor_1.getMouseCoords)(e, this.container));\n    };\n    MouseCaptor.prototype.handleDoubleClick = function (e) {\n        if (!this.enabled)\n            return;\n        e.preventDefault();\n        e.stopPropagation();\n        var mouseCoords = (0, captor_1.getMouseCoords)(e, this.container);\n        this.emit(\"doubleClick\", mouseCoords);\n        if (mouseCoords.sigmaDefaultPrevented)\n            return;\n        // default behavior\n        var camera = this.renderer.getCamera();\n        var newRatio = camera.getBoundedRatio(camera.getState().ratio / DOUBLE_CLICK_ZOOMING_RATIO);\n        camera.animate(this.renderer.getViewportZoomedState((0, captor_1.getPosition)(e, this.container), newRatio), {\n            easing: \"quadraticInOut\",\n            duration: DOUBLE_CLICK_ZOOMING_DURATION,\n        });\n    };\n    MouseCaptor.prototype.handleDown = function (e) {\n        if (!this.enabled)\n            return;\n        // We only start dragging on left button\n        if (e.button === 0) {\n            this.startCameraState = this.renderer.getCamera().getState();\n            var _a = (0, captor_1.getPosition)(e, this.container), x = _a.x, y = _a.y;\n            this.lastMouseX = x;\n            this.lastMouseY = y;\n            this.draggedEvents = 0;\n            this.downStartTime = Date.now();\n            this.isMouseDown = true;\n        }\n        this.emit(\"mousedown\", (0, captor_1.getMouseCoords)(e, this.container));\n    };\n    MouseCaptor.prototype.handleUp = function (e) {\n        var _this = this;\n        if (!this.enabled || !this.isMouseDown)\n            return;\n        var camera = this.renderer.getCamera();\n        this.isMouseDown = false;\n        if (typeof this.movingTimeout === \"number\") {\n            clearTimeout(this.movingTimeout);\n            this.movingTimeout = null;\n        }\n        var _a = (0, captor_1.getPosition)(e, this.container), x = _a.x, y = _a.y;\n        var cameraState = camera.getState(), previousCameraState = camera.getPreviousState() || { x: 0, y: 0 };\n        if (this.isMoving) {\n            camera.animate({\n                x: cameraState.x + MOUSE_INERTIA_RATIO * (cameraState.x - previousCameraState.x),\n                y: cameraState.y + MOUSE_INERTIA_RATIO * (cameraState.y - previousCameraState.y),\n            }, {\n                duration: MOUSE_INERTIA_DURATION,\n                easing: \"quadraticOut\",\n            });\n        }\n        else if (this.lastMouseX !== x || this.lastMouseY !== y) {\n            camera.setState({\n                x: cameraState.x,\n                y: cameraState.y,\n            });\n        }\n        this.isMoving = false;\n        setTimeout(function () {\n            _this.draggedEvents = 0;\n            // NOTE: this refresh is here to make sure `hideEdgesOnMove` can work\n            // when someone releases camera pan drag after having stopped moving.\n            // See commit: https://github.com/jacomyal/sigma.js/commit/cfd9197f70319109db6b675dd7c82be493ca95a2\n            // See also issue: https://github.com/jacomyal/sigma.js/issues/1290\n            // It could be possible to render instead of scheduling a refresh but for\n            // now it seems good enough.\n            _this.renderer.refresh();\n        }, 0);\n        this.emit(\"mouseup\", (0, captor_1.getMouseCoords)(e, this.container));\n    };\n    MouseCaptor.prototype.handleMove = function (e) {\n        var _this = this;\n        if (!this.enabled)\n            return;\n        var mouseCoords = (0, captor_1.getMouseCoords)(e, this.container);\n        // Always trigger a \"mousemovebody\" event, so that it is possible to develop\n        // a drag-and-drop effect that works even when the mouse is out of the\n        // container:\n        this.emit(\"mousemovebody\", mouseCoords);\n        // Only trigger the \"mousemove\" event when the mouse is actually hovering\n        // the container, to avoid weirdly hovering nodes and/or edges when the\n        // mouse is not hover the container:\n        if (e.target === this.container) {\n            this.emit(\"mousemove\", mouseCoords);\n        }\n        if (mouseCoords.sigmaDefaultPrevented)\n            return;\n        // Handle the case when \"isMouseDown\" all the time, to allow dragging the\n        // stage while the mouse is not hover the container:\n        if (this.isMouseDown) {\n            this.isMoving = true;\n            this.draggedEvents++;\n            if (typeof this.movingTimeout === \"number\") {\n                clearTimeout(this.movingTimeout);\n            }\n            this.movingTimeout = window.setTimeout(function () {\n                _this.movingTimeout = null;\n                _this.isMoving = false;\n            }, DRAG_TIMEOUT);\n            var camera = this.renderer.getCamera();\n            var _a = (0, captor_1.getPosition)(e, this.container), eX = _a.x, eY = _a.y;\n            var lastMouse = this.renderer.viewportToFramedGraph({\n                x: this.lastMouseX,\n                y: this.lastMouseY,\n            });\n            var mouse = this.renderer.viewportToFramedGraph({ x: eX, y: eY });\n            var offsetX = lastMouse.x - mouse.x, offsetY = lastMouse.y - mouse.y;\n            var cameraState = camera.getState();\n            var x = cameraState.x + offsetX, y = cameraState.y + offsetY;\n            camera.setState({ x: x, y: y });\n            this.lastMouseX = eX;\n            this.lastMouseY = eY;\n            e.preventDefault();\n            e.stopPropagation();\n        }\n    };\n    MouseCaptor.prototype.handleWheel = function (e) {\n        var _this = this;\n        if (!this.enabled)\n            return;\n        e.preventDefault();\n        e.stopPropagation();\n        var delta = (0, captor_1.getWheelDelta)(e);\n        if (!delta)\n            return;\n        var wheelCoords = (0, captor_1.getWheelCoords)(e, this.container);\n        this.emit(\"wheel\", wheelCoords);\n        if (wheelCoords.sigmaDefaultPrevented)\n            return;\n        // Default behavior\n        var ratioDiff = delta > 0 ? 1 / ZOOMING_RATIO : ZOOMING_RATIO;\n        var camera = this.renderer.getCamera();\n        var newRatio = camera.getBoundedRatio(camera.getState().ratio * ratioDiff);\n        var wheelDirection = delta > 0 ? 1 : -1;\n        var now = Date.now();\n        // Cancel events that are too close too each other and in the same direction:\n        if (this.currentWheelDirection === wheelDirection &&\n            this.lastWheelTriggerTime &&\n            now - this.lastWheelTriggerTime < MOUSE_ZOOM_DURATION / 5) {\n            return;\n        }\n        camera.animate(this.renderer.getViewportZoomedState((0, captor_1.getPosition)(e, this.container), newRatio), {\n            easing: \"quadraticOut\",\n            duration: MOUSE_ZOOM_DURATION,\n        }, function () {\n            _this.currentWheelDirection = 0;\n        });\n        this.currentWheelDirection = wheelDirection;\n        this.lastWheelTriggerTime = now;\n    };\n    MouseCaptor.prototype.handleOut = function () {\n        // TODO: dispatch event\n    };\n    return MouseCaptor;\n}(captor_1.default));\nexports.default = MouseCaptor;\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar captor_1 = __importStar(require(\"./captor\"));\nvar DRAG_TIMEOUT = 200;\nvar TOUCH_INERTIA_RATIO = 3;\nvar TOUCH_INERTIA_DURATION = 200;\n/**\n * Touch captor class.\n *\n * @constructor\n */\nvar TouchCaptor = /** @class */ (function (_super) {\n    __extends(TouchCaptor, _super);\n    function TouchCaptor(container, renderer) {\n        var _this = _super.call(this, container, renderer) || this;\n        _this.enabled = true;\n        _this.isMoving = false;\n        _this.hasMoved = false;\n        _this.touchMode = 0; // number of touches down\n        _this.startTouchesPositions = [];\n        // Binding methods:\n        _this.handleStart = _this.handleStart.bind(_this);\n        _this.handleLeave = _this.handleLeave.bind(_this);\n        _this.handleMove = _this.handleMove.bind(_this);\n        // Binding events\n        container.addEventListener(\"touchstart\", _this.handleStart, false);\n        container.addEventListener(\"touchend\", _this.handleLeave, false);\n        container.addEventListener(\"touchcancel\", _this.handleLeave, false);\n        container.addEventListener(\"touchmove\", _this.handleMove, false);\n        return _this;\n    }\n    TouchCaptor.prototype.kill = function () {\n        var container = this.container;\n        container.removeEventListener(\"touchstart\", this.handleStart);\n        container.removeEventListener(\"touchend\", this.handleLeave);\n        container.removeEventListener(\"touchcancel\", this.handleLeave);\n        container.removeEventListener(\"touchmove\", this.handleMove);\n    };\n    TouchCaptor.prototype.getDimensions = function () {\n        return {\n            width: this.container.offsetWidth,\n            height: this.container.offsetHeight,\n        };\n    };\n    TouchCaptor.prototype.dispatchRelatedMouseEvent = function (type, e, touch, emitter) {\n        var mousePosition = touch || e.touches[0];\n        var mouseEvent = new MouseEvent(type, {\n            clientX: mousePosition.clientX,\n            clientY: mousePosition.clientY,\n            altKey: e.altKey,\n            ctrlKey: e.ctrlKey,\n        });\n        mouseEvent.isFakeSigmaMouseEvent = true;\n        (emitter || this.container).dispatchEvent(mouseEvent);\n    };\n    TouchCaptor.prototype.handleStart = function (e) {\n        var _this = this;\n        if (!this.enabled)\n            return;\n        // Prevent default to avoid default browser behaviors...\n        e.preventDefault();\n        // ...but simulate mouse behavior anyway, to get the MouseCaptor working as well:\n        if (e.touches.length === 1)\n            this.dispatchRelatedMouseEvent(\"mousedown\", e);\n        var touches = (0, captor_1.getTouchesArray)(e.touches);\n        this.touchMode = touches.length;\n        this.startCameraState = this.renderer.getCamera().getState();\n        this.startTouchesPositions = touches.map(function (touch) { return (0, captor_1.getPosition)(touch, _this.container); });\n        this.lastTouches = touches;\n        this.lastTouchesPositions = this.startTouchesPositions;\n        // When there are two touches down, let's record distance and angle as well:\n        if (this.touchMode === 2) {\n            var _a = __read(this.startTouchesPositions, 2), _b = _a[0], x0 = _b.x, y0 = _b.y, _c = _a[1], x1 = _c.x, y1 = _c.y;\n            this.startTouchesAngle = Math.atan2(y1 - y0, x1 - x0);\n            this.startTouchesDistance = Math.sqrt(Math.pow(x1 - x0, 2) + Math.pow(y1 - y0, 2));\n        }\n        this.emit(\"touchdown\", (0, captor_1.getTouchCoords)(e, this.container));\n    };\n    TouchCaptor.prototype.handleLeave = function (e) {\n        if (!this.enabled)\n            return;\n        // Prevent default to avoid default browser behaviors...\n        e.preventDefault();\n        // ...but simulate mouse behavior anyway, to get the MouseCaptor working as well:\n        if (e.touches.length === 0 && this.lastTouches && this.lastTouches.length) {\n            this.dispatchRelatedMouseEvent(\"mouseup\", e, this.lastTouches[0], document);\n            // ... and only click if no move was made\n            if (!this.hasMoved) {\n                this.dispatchRelatedMouseEvent(\"click\", e, this.lastTouches[0]);\n            }\n        }\n        if (this.movingTimeout) {\n            this.isMoving = false;\n            clearTimeout(this.movingTimeout);\n        }\n        switch (this.touchMode) {\n            case 2:\n                if (e.touches.length === 1) {\n                    this.handleStart(e);\n                    e.preventDefault();\n                    break;\n                }\n            /* falls through */\n            case 1:\n                // TODO\n                // Dispatch event\n                if (this.isMoving) {\n                    var camera = this.renderer.getCamera();\n                    var cameraState = camera.getState(), previousCameraState = camera.getPreviousState() || { x: 0, y: 0 };\n                    camera.animate({\n                        x: cameraState.x + TOUCH_INERTIA_RATIO * (cameraState.x - previousCameraState.x),\n                        y: cameraState.y + TOUCH_INERTIA_RATIO * (cameraState.y - previousCameraState.y),\n                    }, {\n                        duration: TOUCH_INERTIA_DURATION,\n                        easing: \"quadraticOut\",\n                    });\n                }\n                this.hasMoved = false;\n                this.isMoving = false;\n                this.touchMode = 0;\n                break;\n        }\n        this.emit(\"touchup\", (0, captor_1.getTouchCoords)(e, this.container));\n    };\n    TouchCaptor.prototype.handleMove = function (e) {\n        var _a;\n        var _this = this;\n        if (!this.enabled)\n            return;\n        // Prevent default to avoid default browser behaviors...\n        e.preventDefault();\n        // ...but simulate mouse behavior anyway, to get the MouseCaptor working as well:\n        if (e.touches.length === 1)\n            this.dispatchRelatedMouseEvent(\"mousemove\", e);\n        var touches = (0, captor_1.getTouchesArray)(e.touches);\n        var touchesPositions = touches.map(function (touch) { return (0, captor_1.getPosition)(touch, _this.container); });\n        this.lastTouches = touches;\n        this.lastTouchesPositions = touchesPositions;\n        // If a move was initiated at some point and we get back to startpoint,\n        // we should still consider that we did move (which also happens after a\n        // multiple touch when only one touch remains in which case handleStart\n        // is recalled within handleLeave).\n        // Now, some mobile browsers report zero-distance moves so we also check that\n        // one of the touches did actually move from the origin position.\n        this.hasMoved || (this.hasMoved = touchesPositions.some(function (position, idx) {\n            var startPosition = _this.startTouchesPositions[idx];\n            return position.x !== startPosition.x || position.y !== startPosition.y;\n        }));\n        // If there was no move, do not trigger touch moves behavior\n        if (!this.hasMoved) {\n            return;\n        }\n        this.isMoving = true;\n        if (this.movingTimeout)\n            clearTimeout(this.movingTimeout);\n        this.movingTimeout = window.setTimeout(function () {\n            _this.isMoving = false;\n        }, DRAG_TIMEOUT);\n        var camera = this.renderer.getCamera();\n        var startCameraState = this.startCameraState;\n        switch (this.touchMode) {\n            case 1: {\n                var _b = this.renderer.viewportToFramedGraph((this.startTouchesPositions || [])[0]), xStart = _b.x, yStart = _b.y;\n                var _c = this.renderer.viewportToFramedGraph(touchesPositions[0]), x = _c.x, y = _c.y;\n                camera.setState({\n                    x: startCameraState.x + xStart - x,\n                    y: startCameraState.y + yStart - y,\n                });\n                break;\n            }\n            case 2: {\n                /**\n                 * Here is the thinking here:\n                 *\n                 * 1. We can find the new angle and ratio, by comparing the vector from \"touch one\" to \"touch two\" at the start\n                 *    of the d'n'd and now\n                 *\n                 * 2. We can use `Camera#viewportToGraph` inside formula to retrieve the new camera position, using the graph\n                 *    position of a touch at the beginning of the d'n'd (using `startCamera.viewportToGraph`) and the viewport\n                 *    position of this same touch now\n                 */\n                var newCameraState = {};\n                var _d = touchesPositions[0], x0 = _d.x, y0 = _d.y;\n                var _e = touchesPositions[1], x1 = _e.x, y1 = _e.y;\n                var angleDiff = Math.atan2(y1 - y0, x1 - x0) - this.startTouchesAngle;\n                var ratioDiff = Math.hypot(y1 - y0, x1 - x0) / this.startTouchesDistance;\n                // 1.\n                var newRatio = camera.getBoundedRatio(startCameraState.ratio / ratioDiff);\n                newCameraState.ratio = newRatio;\n                newCameraState.angle = startCameraState.angle + angleDiff;\n                // 2.\n                var dimensions = this.getDimensions();\n                var touchGraphPosition = this.renderer.viewportToFramedGraph((this.startTouchesPositions || [])[0], { cameraState: startCameraState });\n                var smallestDimension = Math.min(dimensions.width, dimensions.height);\n                var dx = smallestDimension / dimensions.width;\n                var dy = smallestDimension / dimensions.height;\n                var ratio = newRatio / smallestDimension;\n                // Align with center of the graph:\n                var x = x0 - smallestDimension / 2 / dx;\n                var y = y0 - smallestDimension / 2 / dy;\n                // Rotate:\n                _a = __read([\n                    x * Math.cos(-newCameraState.angle) - y * Math.sin(-newCameraState.angle),\n                    y * Math.cos(-newCameraState.angle) + x * Math.sin(-newCameraState.angle),\n                ], 2), x = _a[0], y = _a[1];\n                newCameraState.x = touchGraphPosition.x - x * ratio;\n                newCameraState.y = touchGraphPosition.y + y * ratio;\n                camera.setState(newCameraState);\n                break;\n            }\n        }\n        this.emit(\"touchmove\", (0, captor_1.getTouchCoords)(e, this.container));\n    };\n    return TouchCaptor;\n}(captor_1.default));\nexports.default = TouchCaptor;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.edgeLabelsToDisplayFromNodes = exports.LabelGrid = void 0;\n/**\n * Class representing a single candidate for the label grid selection.\n *\n * It also describes a deterministic way to compare two candidates to assess\n * which one is better.\n */\nvar LabelCandidate = /** @class */ (function () {\n    function LabelCandidate(key, size) {\n        this.key = key;\n        this.size = size;\n    }\n    LabelCandidate.compare = function (first, second) {\n        // First we compare by size\n        if (first.size > second.size)\n            return -1;\n        if (first.size < second.size)\n            return 1;\n        // Then since no two nodes can have the same key, we use it to\n        // deterministically tie-break by key\n        if (first.key > second.key)\n            return 1;\n        // NOTE: this comparator cannot return 0\n        return -1;\n    };\n    return LabelCandidate;\n}());\n/**\n * Class representing a 2D spatial grid divided into constant-size cells.\n */\nvar LabelGrid = /** @class */ (function () {\n    function LabelGrid() {\n        this.width = 0;\n        this.height = 0;\n        this.cellSize = 0;\n        this.columns = 0;\n        this.rows = 0;\n        this.cells = {};\n    }\n    LabelGrid.prototype.resizeAndClear = function (dimensions, cellSize) {\n        this.width = dimensions.width;\n        this.height = dimensions.height;\n        this.cellSize = cellSize;\n        this.columns = Math.ceil(dimensions.width / cellSize);\n        this.rows = Math.ceil(dimensions.height / cellSize);\n        this.cells = {};\n    };\n    LabelGrid.prototype.getIndex = function (pos) {\n        var xIndex = Math.floor(pos.x / this.cellSize);\n        var yIndex = Math.floor(pos.y / this.cellSize);\n        return yIndex * this.columns + xIndex;\n    };\n    LabelGrid.prototype.add = function (key, size, pos) {\n        var candidate = new LabelCandidate(key, size);\n        var index = this.getIndex(pos);\n        var cell = this.cells[index];\n        if (!cell) {\n            cell = [];\n            this.cells[index] = cell;\n        }\n        cell.push(candidate);\n    };\n    LabelGrid.prototype.organize = function () {\n        for (var k in this.cells) {\n            var cell = this.cells[k];\n            cell.sort(LabelCandidate.compare);\n        }\n    };\n    LabelGrid.prototype.getLabelsToDisplay = function (ratio, density) {\n        // TODO: work on visible nodes to optimize? ^ -> threshold outside so that memoization works?\n        // TODO: adjust threshold lower, but increase cells a bit?\n        // TODO: hunt for geom issue in disguise\n        // TODO: memoize while ratio does not move. method to force recompute\n        var cellArea = this.cellSize * this.cellSize;\n        var scaledCellArea = cellArea / ratio / ratio;\n        var scaledDensity = (scaledCellArea * density) / cellArea;\n        var labelsToDisplayPerCell = Math.ceil(scaledDensity);\n        var labels = [];\n        for (var k in this.cells) {\n            var cell = this.cells[k];\n            for (var i = 0; i < Math.min(labelsToDisplayPerCell, cell.length); i++) {\n                labels.push(cell[i].key);\n            }\n        }\n        return labels;\n    };\n    return LabelGrid;\n}());\nexports.LabelGrid = LabelGrid;\n/**\n * Label heuristic selecting edge labels to display, based on displayed node\n * labels\n *\n * @param  {object} params                 - Parameters:\n * @param  {Set}      displayedNodeLabels  - Currently displayed node labels.\n * @param  {Set}      highlightedNodes     - Highlighted nodes.\n * @param  {Graph}    graph                - The rendered graph.\n * @param  {string}   hoveredNode          - Hovered node (optional)\n * @return {Array}                         - The selected labels.\n */\nfunction edgeLabelsToDisplayFromNodes(params) {\n    var graph = params.graph, hoveredNode = params.hoveredNode, highlightedNodes = params.highlightedNodes, displayedNodeLabels = params.displayedNodeLabels;\n    var worthyEdges = [];\n    // TODO: the code below can be optimized using #.forEach and batching the code per adj\n    // We should display an edge's label if:\n    //   - Any of its extremities is highlighted or hovered\n    //   - Both of its extremities has its label shown\n    graph.forEachEdge(function (edge, _, source, target) {\n        if (source === hoveredNode ||\n            target === hoveredNode ||\n            highlightedNodes.has(source) ||\n            highlightedNodes.has(target) ||\n            (displayedNodeLabels.has(source) && displayedNodeLabels.has(target))) {\n            worthyEdges.push(edge);\n        }\n    });\n    return worthyEdges;\n}\nexports.edgeLabelsToDisplayFromNodes = edgeLabelsToDisplayFromNodes;\n","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.rectangleCollidesWithQuad = exports.squareCollidesWithQuad = exports.getCircumscribedAlignedRectangle = exports.isRectangleAligned = void 0;\n/**\n * Sigma.js Quad Tree Class\n * =========================\n *\n * Class implementing the quad tree data structure used to solve hovers and\n * determine which elements are currently in the scope of the camera so that\n * we don't waste time rendering things the user cannot see anyway.\n * @module\n */\n/* eslint no-nested-ternary: 0 */\n/* eslint no-constant-condition: 0 */\nvar extend_1 = __importDefault(require(\"@yomguithereal/helpers/extend\"));\n/**\n * Notes:\n *\n *   - a square can be represented as topleft + width, saying for the quad blocks,\n *     to reduce overall memory usage (which is already pretty low).\n *   - this implementation of a quadtree is often called a MX-CIF quadtree.\n *   - we could explore spatial hashing (hilbert quadtrees, notably).\n */\n/**\n * Constants.\n *\n * Note that since we are representing a static 4-ary tree, the indices of the\n * quadrants are the following:\n *   - TOP_LEFT:     4i + b\n *   - TOP_RIGHT:    4i + 2b\n *   - BOTTOM_LEFT:  4i + 3b\n *   - BOTTOM_RIGHT: 4i + 4b\n */\nvar BLOCKS = 4;\nvar MAX_LEVEL = 5;\n// Outside block is max block index + 1, i.e.:\n// BLOCKS * ((4 * (4 ** MAX_LEVEL) - 1) / 3)\nvar OUTSIDE_BLOCK = 5460;\nvar X_OFFSET = 0;\nvar Y_OFFSET = 1;\nvar WIDTH_OFFSET = 2;\nvar HEIGHT_OFFSET = 3;\nvar TOP_LEFT = 1;\nvar TOP_RIGHT = 2;\nvar BOTTOM_LEFT = 3;\nvar BOTTOM_RIGHT = 4;\nvar hasWarnedTooMuchOutside = false;\n/**\n * Geometry helpers.\n */\n/**\n * Function returning whether the given rectangle is axis-aligned.\n *\n * @param  {Rectangle} rect\n * @return {boolean}\n */\nfunction isRectangleAligned(rect) {\n    return rect.x1 === rect.x2 || rect.y1 === rect.y2;\n}\nexports.isRectangleAligned = isRectangleAligned;\n/**\n * Function returning the smallest rectangle that contains the given rectangle, and that is aligned with the axis.\n *\n * @param {Rectangle} rect\n * @return {Rectangle}\n */\nfunction getCircumscribedAlignedRectangle(rect) {\n    var width = Math.sqrt(Math.pow(rect.x2 - rect.x1, 2) + Math.pow(rect.y2 - rect.y1, 2));\n    var heightVector = {\n        x: ((rect.y1 - rect.y2) * rect.height) / width,\n        y: ((rect.x2 - rect.x1) * rect.height) / width,\n    };\n    // Compute all corners:\n    var tl = { x: rect.x1, y: rect.y1 };\n    var tr = { x: rect.x2, y: rect.y2 };\n    var bl = {\n        x: rect.x1 + heightVector.x,\n        y: rect.y1 + heightVector.y,\n    };\n    var br = {\n        x: rect.x2 + heightVector.x,\n        y: rect.y2 + heightVector.y,\n    };\n    var xL = Math.min(tl.x, tr.x, bl.x, br.x);\n    var xR = Math.max(tl.x, tr.x, bl.x, br.x);\n    var yT = Math.min(tl.y, tr.y, bl.y, br.y);\n    var yB = Math.max(tl.y, tr.y, bl.y, br.y);\n    return {\n        x1: xL,\n        y1: yT,\n        x2: xR,\n        y2: yT,\n        height: yB - yT,\n    };\n}\nexports.getCircumscribedAlignedRectangle = getCircumscribedAlignedRectangle;\n/**\n *\n * @param x1\n * @param y1\n * @param w\n * @param qx\n * @param qy\n * @param qw\n * @param qh\n */\nfunction squareCollidesWithQuad(x1, y1, w, qx, qy, qw, qh) {\n    return x1 < qx + qw && x1 + w > qx && y1 < qy + qh && y1 + w > qy;\n}\nexports.squareCollidesWithQuad = squareCollidesWithQuad;\nfunction rectangleCollidesWithQuad(x1, y1, w, h, qx, qy, qw, qh) {\n    return x1 < qx + qw && x1 + w > qx && y1 < qy + qh && y1 + h > qy;\n}\nexports.rectangleCollidesWithQuad = rectangleCollidesWithQuad;\nfunction pointIsInQuad(x, y, qx, qy, qw, qh) {\n    var xmp = qx + qw / 2, ymp = qy + qh / 2, top = y < ymp, left = x < xmp;\n    return top ? (left ? TOP_LEFT : TOP_RIGHT) : left ? BOTTOM_LEFT : BOTTOM_RIGHT;\n}\n/**\n * Helper functions that are not bound to the class so an external user\n * cannot mess with them.\n */\nfunction buildQuadrants(maxLevel, data) {\n    // [block, level]\n    var stack = [0, 0];\n    while (stack.length) {\n        var level = stack.pop(), block = stack.pop();\n        var topLeftBlock = 4 * block + BLOCKS, topRightBlock = 4 * block + 2 * BLOCKS, bottomLeftBlock = 4 * block + 3 * BLOCKS, bottomRightBlock = 4 * block + 4 * BLOCKS;\n        var x = data[block + X_OFFSET], y = data[block + Y_OFFSET], width = data[block + WIDTH_OFFSET], height = data[block + HEIGHT_OFFSET], hw = width / 2, hh = height / 2;\n        data[topLeftBlock + X_OFFSET] = x;\n        data[topLeftBlock + Y_OFFSET] = y;\n        data[topLeftBlock + WIDTH_OFFSET] = hw;\n        data[topLeftBlock + HEIGHT_OFFSET] = hh;\n        data[topRightBlock + X_OFFSET] = x + hw;\n        data[topRightBlock + Y_OFFSET] = y;\n        data[topRightBlock + WIDTH_OFFSET] = hw;\n        data[topRightBlock + HEIGHT_OFFSET] = hh;\n        data[bottomLeftBlock + X_OFFSET] = x;\n        data[bottomLeftBlock + Y_OFFSET] = y + hh;\n        data[bottomLeftBlock + WIDTH_OFFSET] = hw;\n        data[bottomLeftBlock + HEIGHT_OFFSET] = hh;\n        data[bottomRightBlock + X_OFFSET] = x + hw;\n        data[bottomRightBlock + Y_OFFSET] = y + hh;\n        data[bottomRightBlock + WIDTH_OFFSET] = hw;\n        data[bottomRightBlock + HEIGHT_OFFSET] = hh;\n        if (level < maxLevel - 1) {\n            stack.push(bottomRightBlock, level + 1);\n            stack.push(bottomLeftBlock, level + 1);\n            stack.push(topRightBlock, level + 1);\n            stack.push(topLeftBlock, level + 1);\n        }\n    }\n}\nfunction insertNode(maxLevel, data, containers, key, x, y, size) {\n    var x1 = x - size, y1 = y - size, w = size * 2;\n    var level = 0, block = 0;\n    while (true) {\n        // If we reached max level\n        if (level >= maxLevel) {\n            containers[block] = containers[block] || [];\n            containers[block].push(key);\n            return;\n        }\n        var topLeftBlock = 4 * block + BLOCKS, topRightBlock = 4 * block + 2 * BLOCKS, bottomLeftBlock = 4 * block + 3 * BLOCKS, bottomRightBlock = 4 * block + 4 * BLOCKS;\n        var collidingWithTopLeft = squareCollidesWithQuad(x1, y1, w, data[topLeftBlock + X_OFFSET], data[topLeftBlock + Y_OFFSET], data[topLeftBlock + WIDTH_OFFSET], data[topLeftBlock + HEIGHT_OFFSET]);\n        var collidingWithTopRight = squareCollidesWithQuad(x1, y1, w, data[topRightBlock + X_OFFSET], data[topRightBlock + Y_OFFSET], data[topRightBlock + WIDTH_OFFSET], data[topRightBlock + HEIGHT_OFFSET]);\n        var collidingWithBottomLeft = squareCollidesWithQuad(x1, y1, w, data[bottomLeftBlock + X_OFFSET], data[bottomLeftBlock + Y_OFFSET], data[bottomLeftBlock + WIDTH_OFFSET], data[bottomLeftBlock + HEIGHT_OFFSET]);\n        var collidingWithBottomRight = squareCollidesWithQuad(x1, y1, w, data[bottomRightBlock + X_OFFSET], data[bottomRightBlock + Y_OFFSET], data[bottomRightBlock + WIDTH_OFFSET], data[bottomRightBlock + HEIGHT_OFFSET]);\n        var collisions = [\n            collidingWithTopLeft,\n            collidingWithTopRight,\n            collidingWithBottomLeft,\n            collidingWithBottomRight,\n        ].reduce(function (acc, current) {\n            if (current)\n                return acc + 1;\n            else\n                return acc;\n        }, 0);\n        // If we have no collision at root level, inject node in the outside block\n        if (collisions === 0 && level === 0) {\n            containers[OUTSIDE_BLOCK].push(key);\n            if (!hasWarnedTooMuchOutside && containers[OUTSIDE_BLOCK].length >= 5) {\n                hasWarnedTooMuchOutside = true;\n                console.warn(\"sigma/quadtree.insertNode: At least 5 nodes are outside the global quadtree zone. \" +\n                    \"You might have a problem with the normalization function or the custom bounding box.\");\n            }\n            return;\n        }\n        // If we don't have at least a collision but deeper, there is an issue\n        if (collisions === 0)\n            throw new Error(\"sigma/quadtree.insertNode: no collision (level: \".concat(level, \", key: \").concat(key, \", x: \").concat(x, \", y: \").concat(y, \", size: \").concat(size, \").\"));\n        // If we have 3 collisions, we have a geometry problem obviously\n        if (collisions === 3)\n            throw new Error(\"sigma/quadtree.insertNode: 3 impossible collisions (level: \".concat(level, \", key: \").concat(key, \", x: \").concat(x, \", y: \").concat(y, \", size: \").concat(size, \").\"));\n        // If we have more that one collision, we stop here and store the node\n        // in the relevant containers\n        if (collisions > 1) {\n            containers[block] = containers[block] || [];\n            containers[block].push(key);\n            return;\n        }\n        else {\n            level++;\n        }\n        // Else we recurse into the correct quads\n        if (collidingWithTopLeft)\n            block = topLeftBlock;\n        if (collidingWithTopRight)\n            block = topRightBlock;\n        if (collidingWithBottomLeft)\n            block = bottomLeftBlock;\n        if (collidingWithBottomRight)\n            block = bottomRightBlock;\n    }\n}\nfunction getNodesInAxisAlignedRectangleArea(maxLevel, data, containers, x1, y1, w, h) {\n    // [block, level]\n    var stack = [0, 0];\n    var collectedNodes = [];\n    var container;\n    while (stack.length) {\n        var level = stack.pop(), block = stack.pop();\n        // Collecting nodes\n        container = containers[block];\n        if (container)\n            (0, extend_1.default)(collectedNodes, container);\n        // If we reached max level\n        if (level >= maxLevel)\n            continue;\n        var topLeftBlock = 4 * block + BLOCKS, topRightBlock = 4 * block + 2 * BLOCKS, bottomLeftBlock = 4 * block + 3 * BLOCKS, bottomRightBlock = 4 * block + 4 * BLOCKS;\n        var collidingWithTopLeft = rectangleCollidesWithQuad(x1, y1, w, h, data[topLeftBlock + X_OFFSET], data[topLeftBlock + Y_OFFSET], data[topLeftBlock + WIDTH_OFFSET], data[topLeftBlock + HEIGHT_OFFSET]);\n        var collidingWithTopRight = rectangleCollidesWithQuad(x1, y1, w, h, data[topRightBlock + X_OFFSET], data[topRightBlock + Y_OFFSET], data[topRightBlock + WIDTH_OFFSET], data[topRightBlock + HEIGHT_OFFSET]);\n        var collidingWithBottomLeft = rectangleCollidesWithQuad(x1, y1, w, h, data[bottomLeftBlock + X_OFFSET], data[bottomLeftBlock + Y_OFFSET], data[bottomLeftBlock + WIDTH_OFFSET], data[bottomLeftBlock + HEIGHT_OFFSET]);\n        var collidingWithBottomRight = rectangleCollidesWithQuad(x1, y1, w, h, data[bottomRightBlock + X_OFFSET], data[bottomRightBlock + Y_OFFSET], data[bottomRightBlock + WIDTH_OFFSET], data[bottomRightBlock + HEIGHT_OFFSET]);\n        if (collidingWithTopLeft)\n            stack.push(topLeftBlock, level + 1);\n        if (collidingWithTopRight)\n            stack.push(topRightBlock, level + 1);\n        if (collidingWithBottomLeft)\n            stack.push(bottomLeftBlock, level + 1);\n        if (collidingWithBottomRight)\n            stack.push(bottomRightBlock, level + 1);\n    }\n    return collectedNodes;\n}\n/**\n * QuadTree class.\n *\n * @constructor\n * @param {object} boundaries - The graph boundaries.\n */\nvar QuadTree = /** @class */ (function () {\n    function QuadTree(params) {\n        var _a;\n        if (params === void 0) { params = {}; }\n        this.containers = (_a = {}, _a[OUTSIDE_BLOCK] = [], _a);\n        this.cache = null;\n        this.lastRectangle = null;\n        // Allocating the underlying byte array\n        var L = Math.pow(4, MAX_LEVEL);\n        this.data = new Float32Array(BLOCKS * ((4 * L - 1) / 3));\n        if (params.boundaries)\n            this.resize(params.boundaries);\n        else\n            this.resize({\n                x: 0,\n                y: 0,\n                width: 1,\n                height: 1,\n            });\n    }\n    QuadTree.prototype.add = function (key, x, y, size) {\n        insertNode(MAX_LEVEL, this.data, this.containers, key, x, y, size);\n        return this;\n    };\n    QuadTree.prototype.resize = function (boundaries) {\n        this.clear();\n        // Building the quadrants\n        this.data[X_OFFSET] = boundaries.x;\n        this.data[Y_OFFSET] = boundaries.y;\n        this.data[WIDTH_OFFSET] = boundaries.width;\n        this.data[HEIGHT_OFFSET] = boundaries.height;\n        buildQuadrants(MAX_LEVEL, this.data);\n    };\n    QuadTree.prototype.clear = function () {\n        var _a;\n        this.containers = (_a = {}, _a[OUTSIDE_BLOCK] = [], _a);\n        return this;\n    };\n    QuadTree.prototype.point = function (x, y) {\n        var nodes = this.containers[OUTSIDE_BLOCK].slice();\n        var block = 0, level = 0;\n        do {\n            if (this.containers[block])\n                (0, extend_1.default)(nodes, this.containers[block]);\n            var quad = pointIsInQuad(x, y, this.data[block + X_OFFSET], this.data[block + Y_OFFSET], this.data[block + WIDTH_OFFSET], this.data[block + HEIGHT_OFFSET]);\n            block = 4 * block + quad * BLOCKS;\n            level++;\n        } while (level <= MAX_LEVEL);\n        return nodes;\n    };\n    QuadTree.prototype.rectangle = function (x1, y1, x2, y2, height) {\n        var lr = this.lastRectangle;\n        if (lr && x1 === lr.x1 && x2 === lr.x2 && y1 === lr.y1 && y2 === lr.y2 && height === lr.height) {\n            return this.cache;\n        }\n        this.lastRectangle = {\n            x1: x1,\n            y1: y1,\n            x2: x2,\n            y2: y2,\n            height: height,\n        };\n        // If the rectangle is shifted, we use the smallest aligned rectangle that contains the shifted one:\n        if (!isRectangleAligned(this.lastRectangle))\n            this.lastRectangle = getCircumscribedAlignedRectangle(this.lastRectangle);\n        this.cache = getNodesInAxisAlignedRectangleArea(MAX_LEVEL, this.data, this.containers, x1, y1, Math.abs(x1 - x2) || Math.abs(y1 - y2), height);\n        // Add all the nodes in the outside block, since they might be relevant, and since they should be very few:\n        (0, extend_1.default)(this.cache, this.containers[OUTSIDE_BLOCK]);\n        return this.cache;\n    };\n    return QuadTree;\n}());\nexports.default = QuadTree;\n","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Sigma = exports.MouseCaptor = exports.QuadTree = exports.Camera = void 0;\n/**\n * Sigma.js Library Endpoint\n * =========================\n *\n * The library endpoint.\n * @module\n */\nvar sigma_1 = __importDefault(require(\"./sigma\"));\nexports.Sigma = sigma_1.default;\nvar camera_1 = __importDefault(require(\"./core/camera\"));\nexports.Camera = camera_1.default;\nvar quadtree_1 = __importDefault(require(\"./core/quadtree\"));\nexports.QuadTree = quadtree_1.default;\nvar mouse_1 = __importDefault(require(\"./core/captors/mouse\"));\nexports.MouseCaptor = mouse_1.default;\nexports.default = sigma_1.default;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction drawEdgeLabel(context, edgeData, sourceData, targetData, settings) {\n    var size = settings.edgeLabelSize, font = settings.edgeLabelFont, weight = settings.edgeLabelWeight, color = settings.edgeLabelColor.attribute\n        ? edgeData[settings.edgeLabelColor.attribute] || settings.edgeLabelColor.color || \"#000\"\n        : settings.edgeLabelColor.color;\n    var label = edgeData.label;\n    if (!label)\n        return;\n    context.fillStyle = color;\n    context.font = \"\".concat(weight, \" \").concat(size, \"px \").concat(font);\n    // Computing positions without considering nodes sizes:\n    var sSize = sourceData.size;\n    var tSize = targetData.size;\n    var sx = sourceData.x;\n    var sy = sourceData.y;\n    var tx = targetData.x;\n    var ty = targetData.y;\n    var cx = (sx + tx) / 2;\n    var cy = (sy + ty) / 2;\n    var dx = tx - sx;\n    var dy = ty - sy;\n    var d = Math.sqrt(dx * dx + dy * dy);\n    if (d < sSize + tSize)\n        return;\n    // Adding nodes sizes:\n    sx += (dx * sSize) / d;\n    sy += (dy * sSize) / d;\n    tx -= (dx * tSize) / d;\n    ty -= (dy * tSize) / d;\n    cx = (sx + tx) / 2;\n    cy = (sy + ty) / 2;\n    dx = tx - sx;\n    dy = ty - sy;\n    d = Math.sqrt(dx * dx + dy * dy);\n    // Handling ellipsis\n    var textLength = context.measureText(label).width;\n    if (textLength > d) {\n        var ellipsis = \"…\";\n        label = label + ellipsis;\n        textLength = context.measureText(label).width;\n        while (textLength > d && label.length > 1) {\n            label = label.slice(0, -2) + ellipsis;\n            textLength = context.measureText(label).width;\n        }\n        if (label.length < 4)\n            return;\n    }\n    var angle;\n    if (dx > 0) {\n        if (dy > 0)\n            angle = Math.acos(dx / d);\n        else\n            angle = Math.asin(dy / d);\n    }\n    else {\n        if (dy > 0)\n            angle = Math.acos(dx / d) + Math.PI;\n        else\n            angle = Math.asin(dx / d) + Math.PI / 2;\n    }\n    context.save();\n    context.translate(cx, cy);\n    context.rotate(angle);\n    context.fillText(label, -textLength / 2, edgeData.size / 2 + size);\n    context.restore();\n}\nexports.default = drawEdgeLabel;\n","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar label_1 = __importDefault(require(\"./label\"));\n/**\n * Draw an hovered node.\n * - if there is no label => display a shadow on the node\n * - if the label box is bigger than node size => display a label box that contains the node with a shadow\n * - else node with shadow and the label box\n */\nfunction drawHover(context, data, settings) {\n    var size = settings.labelSize, font = settings.labelFont, weight = settings.labelWeight;\n    context.font = \"\".concat(weight, \" \").concat(size, \"px \").concat(font);\n    // Then we draw the label background\n    context.fillStyle = \"#FFF\";\n    context.shadowOffsetX = 0;\n    context.shadowOffsetY = 0;\n    context.shadowBlur = 8;\n    context.shadowColor = \"#000\";\n    var PADDING = 2;\n    if (typeof data.label === \"string\") {\n        var textWidth = context.measureText(data.label).width, boxWidth = Math.round(textWidth + 5), boxHeight = Math.round(size + 2 * PADDING), radius = Math.max(data.size, size / 2) + PADDING;\n        var angleRadian = Math.asin(boxHeight / 2 / radius);\n        var xDeltaCoord = Math.sqrt(Math.abs(Math.pow(radius, 2) - Math.pow(boxHeight / 2, 2)));\n        context.beginPath();\n        context.moveTo(data.x + xDeltaCoord, data.y + boxHeight / 2);\n        context.lineTo(data.x + radius + boxWidth, data.y + boxHeight / 2);\n        context.lineTo(data.x + radius + boxWidth, data.y - boxHeight / 2);\n        context.lineTo(data.x + xDeltaCoord, data.y - boxHeight / 2);\n        context.arc(data.x, data.y, radius, angleRadian, -angleRadian);\n        context.closePath();\n        context.fill();\n    }\n    else {\n        context.beginPath();\n        context.arc(data.x, data.y, data.size + PADDING, 0, Math.PI * 2);\n        context.closePath();\n        context.fill();\n    }\n    context.shadowOffsetX = 0;\n    context.shadowOffsetY = 0;\n    context.shadowBlur = 0;\n    // And finally we draw the label\n    (0, label_1.default)(context, data, settings);\n}\nexports.default = drawHover;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction drawLabel(context, data, settings) {\n    if (!data.label)\n        return;\n    var size = settings.labelSize, font = settings.labelFont, weight = settings.labelWeight, color = settings.labelColor.attribute\n        ? data[settings.labelColor.attribute] || settings.labelColor.color || \"#000\"\n        : settings.labelColor.color;\n    context.fillStyle = color;\n    context.font = \"\".concat(weight, \" \").concat(size, \"px \").concat(font);\n    context.fillText(data.label, data.x + data.size + 3, data.y + size / 3);\n}\nexports.default = drawLabel;\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.createEdgeCompoundProgram = exports.EdgeProgram = exports.AbstractEdgeProgram = void 0;\nvar program_1 = require(\"./program\");\nvar AbstractEdgeProgram = /** @class */ (function (_super) {\n    __extends(AbstractEdgeProgram, _super);\n    function AbstractEdgeProgram() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    return AbstractEdgeProgram;\n}(program_1.AbstractProgram));\nexports.AbstractEdgeProgram = AbstractEdgeProgram;\nvar EdgeProgram = /** @class */ (function (_super) {\n    __extends(EdgeProgram, _super);\n    function EdgeProgram() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    EdgeProgram.prototype.process = function (offset, sourceData, targetData, data) {\n        var i = offset * this.STRIDE;\n        // NOTE: dealing with hidden items automatically\n        if (data.hidden || sourceData.hidden || targetData.hidden) {\n            for (var l = i + this.STRIDE; i < l; i++) {\n                this.array[i] = 0;\n            }\n            return;\n        }\n        return this.processVisibleItem(i, sourceData, targetData, data);\n    };\n    return EdgeProgram;\n}(program_1.Program));\nexports.EdgeProgram = EdgeProgram;\n/**\n * Helper function combining two or more programs into a single compound one.\n * Note that this is more a quick & easy way to combine program than a really\n * performant option. More performant programs can be written entirely.\n *\n * @param  {array}    programClasses - Program classes to combine.\n * @return {function}\n */\nfunction createEdgeCompoundProgram(programClasses) {\n    return /** @class */ (function () {\n        function EdgeCompoundProgram(gl, renderer) {\n            this.programs = programClasses.map(function (Program) {\n                return new Program(gl, renderer);\n            });\n        }\n        EdgeCompoundProgram.prototype.reallocate = function (capacity) {\n            this.programs.forEach(function (program) { return program.reallocate(capacity); });\n        };\n        EdgeCompoundProgram.prototype.process = function (offset, sourceData, targetData, data) {\n            this.programs.forEach(function (program) { return program.process(offset, sourceData, targetData, data); });\n        };\n        EdgeCompoundProgram.prototype.render = function (params) {\n            this.programs.forEach(function (program) { return program.render(params); });\n        };\n        return EdgeCompoundProgram;\n    }());\n}\nexports.createEdgeCompoundProgram = createEdgeCompoundProgram;\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.createNodeCompoundProgram = exports.NodeProgram = exports.AbstractNodeProgram = void 0;\nvar program_1 = require(\"./program\");\nvar AbstractNodeProgram = /** @class */ (function (_super) {\n    __extends(AbstractNodeProgram, _super);\n    function AbstractNodeProgram() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    return AbstractNodeProgram;\n}(program_1.AbstractProgram));\nexports.AbstractNodeProgram = AbstractNodeProgram;\nvar NodeProgram = /** @class */ (function (_super) {\n    __extends(NodeProgram, _super);\n    function NodeProgram() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    NodeProgram.prototype.process = function (offset, data) {\n        var i = offset * this.STRIDE;\n        // NOTE: dealing with hidden items automatically\n        if (data.hidden) {\n            for (var l = i + this.STRIDE; i < l; i++) {\n                this.array[i] = 0;\n            }\n            return;\n        }\n        return this.processVisibleItem(i, data);\n    };\n    return NodeProgram;\n}(program_1.Program));\nexports.NodeProgram = NodeProgram;\n/**\n * Helper function combining two or more programs into a single compound one.\n * Note that this is more a quick & easy way to combine program than a really\n * performant option. More performant programs can be written entirely.\n *\n * @param  {array}    programClasses - Program classes to combine.\n * @return {function}\n */\nfunction createNodeCompoundProgram(programClasses) {\n    return /** @class */ (function () {\n        function NodeCompoundProgram(gl, renderer) {\n            this.programs = programClasses.map(function (Program) {\n                return new Program(gl, renderer);\n            });\n        }\n        NodeCompoundProgram.prototype.reallocate = function (capacity) {\n            this.programs.forEach(function (program) { return program.reallocate(capacity); });\n        };\n        NodeCompoundProgram.prototype.process = function (offset, data) {\n            this.programs.forEach(function (program) { return program.process(offset, data); });\n        };\n        NodeCompoundProgram.prototype.render = function (params) {\n            this.programs.forEach(function (program) { return program.render(params); });\n        };\n        return NodeCompoundProgram;\n    }());\n}\nexports.createNodeCompoundProgram = createNodeCompoundProgram;\n","\"use strict\";\nvar _a;\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Program = exports.AbstractProgram = void 0;\nvar utils_1 = require(\"../../../../utils\");\nvar utils_2 = require(\"../../shaders/utils\");\nvar SIZE_FACTOR_PER_ATTRIBUTE_TYPE = (_a = {},\n    _a[WebGL2RenderingContext.BOOL] = 1,\n    _a[WebGL2RenderingContext.BYTE] = 1,\n    _a[WebGL2RenderingContext.UNSIGNED_BYTE] = 1,\n    _a[WebGL2RenderingContext.SHORT] = 2,\n    _a[WebGL2RenderingContext.UNSIGNED_SHORT] = 2,\n    _a[WebGL2RenderingContext.INT] = 4,\n    _a[WebGL2RenderingContext.UNSIGNED_INT] = 4,\n    _a[WebGL2RenderingContext.FLOAT] = 4,\n    _a);\nvar AbstractProgram = /** @class */ (function () {\n    // eslint-disable-next-line @typescript-eslint/no-empty-function\n    function AbstractProgram(_gl, _renderer) {\n    }\n    return AbstractProgram;\n}());\nexports.AbstractProgram = AbstractProgram;\nvar Program = /** @class */ (function () {\n    function Program(gl, renderer) {\n        var _this = this;\n        this.array = new Float32Array();\n        this.indicesArray = null;\n        this.uniformLocations = {};\n        this.attributeLocations = {};\n        this.capacity = 0;\n        this.verticesCount = 0;\n        // Reading program definition\n        var definition = this.getDefinition();\n        this.VERTICES = definition.VERTICES;\n        this.ARRAY_ITEMS_PER_VERTEX = definition.ARRAY_ITEMS_PER_VERTEX;\n        this.VERTEX_SHADER_SOURCE = definition.VERTEX_SHADER_SOURCE;\n        this.FRAGMENT_SHADER_SOURCE = definition.FRAGMENT_SHADER_SOURCE;\n        this.UNIFORMS = definition.UNIFORMS;\n        this.ATTRIBUTES = definition.ATTRIBUTES;\n        // Computing stride\n        this.STRIDE = this.VERTICES * this.ARRAY_ITEMS_PER_VERTEX;\n        // Members\n        this.gl = gl;\n        this.renderer = renderer;\n        // Webgl buffers\n        var buffer = gl.createBuffer();\n        if (buffer === null)\n            throw new Error(\"Program: error while creating the webgl buffer.\");\n        this.buffer = buffer;\n        var indicesBuffer = gl.createBuffer();\n        if (indicesBuffer === null)\n            throw new Error(\"Program: error while creating the webgl indices buffer.\");\n        this.indicesBuffer = indicesBuffer;\n        // Shaders and program\n        this.vertexShader = (0, utils_2.loadVertexShader)(this.gl, this.VERTEX_SHADER_SOURCE);\n        this.fragmentShader = (0, utils_2.loadFragmentShader)(this.gl, this.FRAGMENT_SHADER_SOURCE);\n        this.program = (0, utils_2.loadProgram)(this.gl, [this.vertexShader, this.fragmentShader]);\n        // Indices\n        this.canUse32BitsIndices = (0, utils_1.canUse32BitsIndices)(this.gl);\n        this.indicesType = this.canUse32BitsIndices ? gl.UNSIGNED_INT : gl.UNSIGNED_SHORT;\n        this.IndicesArray = this.canUse32BitsIndices ? Uint32Array : Uint16Array;\n        // Initializing locations\n        this.UNIFORMS.forEach(function (uniformName) {\n            var location = _this.gl.getUniformLocation(_this.program, uniformName);\n            if (location === null)\n                throw new Error(\"Program: error while getting location for uniform \\\"\".concat(uniformName, \"\\\".\"));\n            _this.uniformLocations[uniformName] = location;\n        });\n        this.ATTRIBUTES.forEach(function (attr) {\n            var location = _this.gl.getAttribLocation(_this.program, attr.name);\n            if (location === -1)\n                throw new Error(\"Program: error while getting location for attribute \\\"\".concat(attr.name, \"\\\".\"));\n            _this.attributeLocations[attr.name] = location;\n        });\n    }\n    Program.prototype.bind = function () {\n        var _this = this;\n        var gl = this.gl;\n        gl.bindBuffer(gl.ARRAY_BUFFER, this.buffer);\n        if (this.indicesArray) {\n            gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, this.indicesBuffer);\n        }\n        for (var attributeName in this.attributeLocations) {\n            gl.enableVertexAttribArray(this.attributeLocations[attributeName]);\n        }\n        var offset = 0;\n        this.ATTRIBUTES.forEach(function (attr) {\n            var location = _this.attributeLocations[attr.name];\n            gl.vertexAttribPointer(location, attr.size, attr.type, attr.normalized || false, _this.ARRAY_ITEMS_PER_VERTEX * Float32Array.BYTES_PER_ELEMENT, offset);\n            var sizeFactor = SIZE_FACTOR_PER_ATTRIBUTE_TYPE[attr.type];\n            if (typeof sizeFactor !== \"number\")\n                throw new Error(\"Program.bind: yet unsupported attribute type \\\"\".concat(attr.type, \"\\\"!\"));\n            offset += attr.size * sizeFactor;\n        });\n    };\n    Program.prototype.bufferData = function () {\n        var gl = this.gl;\n        this.gl.bufferData(gl.ARRAY_BUFFER, this.array, gl.DYNAMIC_DRAW);\n        if (this.indicesArray) {\n            this.gl.bufferData(gl.ELEMENT_ARRAY_BUFFER, this.indicesArray, gl.STATIC_DRAW);\n        }\n    };\n    // NOTE: implementing `reallocateIndices` is optional\n    Program.prototype.reallocateIndices = function () {\n        return;\n    };\n    Program.prototype.reallocate = function (capacity) {\n        // If desired capacity has not changed we do nothing\n        // NOTE: it's possible here to implement more subtle reallocation schemes\n        // when the number of rendered items increase or decrease\n        if (capacity === this.capacity)\n            return;\n        this.capacity = capacity;\n        this.verticesCount = this.VERTICES * capacity;\n        this.array = new Float32Array(this.verticesCount * this.ARRAY_ITEMS_PER_VERTEX);\n        if (typeof this.reallocateIndices === \"function\")\n            this.reallocateIndices();\n    };\n    Program.prototype.hasNothingToRender = function () {\n        return this.verticesCount === 0;\n    };\n    Program.prototype.render = function (params) {\n        if (this.hasNothingToRender())\n            return;\n        this.bind();\n        this.bufferData();\n        this.gl.useProgram(this.program);\n        this.draw(params);\n    };\n    return Program;\n}());\nexports.Program = Program;\n","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/**\n * Sigma.js WebGL Renderer Edge Arrow Program\n * ===========================================\n *\n * Compound program rendering edges as an arrow from the source to the target.\n * @module\n */\nvar edge_1 = require(\"./common/edge\");\nvar edge_arrowHead_1 = __importDefault(require(\"./edge.arrowHead\"));\nvar edge_clamped_1 = __importDefault(require(\"./edge.clamped\"));\nvar EdgeArrowProgram = (0, edge_1.createEdgeCompoundProgram)([edge_clamped_1.default, edge_arrowHead_1.default]);\nexports.default = EdgeArrowProgram;\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar utils_1 = require(\"../../../utils\");\nvar edge_1 = require(\"./common/edge\");\nvar edge_arrowHead_vert_glsl_1 = __importDefault(require(\"../shaders/edge.arrowHead.vert.glsl.js\"));\nvar edge_arrowHead_frag_glsl_1 = __importDefault(require(\"../shaders/edge.arrowHead.frag.glsl.js\"));\nvar UNSIGNED_BYTE = WebGLRenderingContext.UNSIGNED_BYTE, FLOAT = WebGLRenderingContext.FLOAT;\nvar UNIFORMS = [\"u_matrix\", \"u_sizeRatio\", \"u_correctionRatio\"];\nvar EdgeArrowHeadProgram = /** @class */ (function (_super) {\n    __extends(EdgeArrowHeadProgram, _super);\n    function EdgeArrowHeadProgram() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    EdgeArrowHeadProgram.prototype.getDefinition = function () {\n        return {\n            VERTICES: 3,\n            ARRAY_ITEMS_PER_VERTEX: 9,\n            VERTEX_SHADER_SOURCE: edge_arrowHead_vert_glsl_1.default,\n            FRAGMENT_SHADER_SOURCE: edge_arrowHead_frag_glsl_1.default,\n            UNIFORMS: UNIFORMS,\n            ATTRIBUTES: [\n                { name: \"a_position\", size: 2, type: FLOAT },\n                { name: \"a_normal\", size: 2, type: FLOAT },\n                { name: \"a_radius\", size: 1, type: FLOAT },\n                { name: \"a_color\", size: 4, type: UNSIGNED_BYTE, normalized: true },\n                { name: \"a_barycentric\", size: 3, type: FLOAT },\n            ],\n        };\n    };\n    EdgeArrowHeadProgram.prototype.processVisibleItem = function (i, sourceData, targetData, data) {\n        var thickness = data.size || 1;\n        var radius = targetData.size || 1;\n        var x1 = sourceData.x;\n        var y1 = sourceData.y;\n        var x2 = targetData.x;\n        var y2 = targetData.y;\n        var color = (0, utils_1.floatColor)(data.color);\n        // Computing normals\n        var dx = x2 - x1;\n        var dy = y2 - y1;\n        var len = dx * dx + dy * dy;\n        var n1 = 0;\n        var n2 = 0;\n        if (len) {\n            len = 1 / Math.sqrt(len);\n            n1 = -dy * len * thickness;\n            n2 = dx * len * thickness;\n        }\n        var array = this.array;\n        // First point\n        array[i++] = x2;\n        array[i++] = y2;\n        array[i++] = -n1;\n        array[i++] = -n2;\n        array[i++] = radius;\n        array[i++] = color;\n        array[i++] = 1;\n        array[i++] = 0;\n        array[i++] = 0;\n        // Second point\n        array[i++] = x2;\n        array[i++] = y2;\n        array[i++] = -n1;\n        array[i++] = -n2;\n        array[i++] = radius;\n        array[i++] = color;\n        array[i++] = 0;\n        array[i++] = 1;\n        array[i++] = 0;\n        // Third point\n        array[i++] = x2;\n        array[i++] = y2;\n        array[i++] = -n1;\n        array[i++] = -n2;\n        array[i++] = radius;\n        array[i++] = color;\n        array[i++] = 0;\n        array[i++] = 0;\n        array[i] = 1;\n    };\n    EdgeArrowHeadProgram.prototype.draw = function (params) {\n        var gl = this.gl;\n        var _a = this.uniformLocations, u_matrix = _a.u_matrix, u_sizeRatio = _a.u_sizeRatio, u_correctionRatio = _a.u_correctionRatio;\n        gl.uniformMatrix3fv(u_matrix, false, params.matrix);\n        gl.uniform1f(u_sizeRatio, params.sizeRatio);\n        gl.uniform1f(u_correctionRatio, params.correctionRatio);\n        gl.drawArrays(gl.TRIANGLES, 0, this.verticesCount);\n    };\n    return EdgeArrowHeadProgram;\n}(edge_1.EdgeProgram));\nexports.default = EdgeArrowHeadProgram;\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/**\n * Sigma.js WebGL Renderer Edge Program\n * =====================================\n *\n * Program rendering edges as thick lines but with a twist: the end of edge\n * does not sit in the middle of target node but instead stays by some margin.\n *\n * This is useful when combined with arrows to draw directed edges.\n * @module\n */\nvar edge_rectangle_1 = __importDefault(require(\"./edge.rectangle\"));\nvar edge_clamped_vert_glsl_1 = __importDefault(require(\"../shaders/edge.clamped.vert.glsl.js\"));\nvar utils_1 = require(\"../../../utils\");\nvar UNSIGNED_BYTE = WebGLRenderingContext.UNSIGNED_BYTE, FLOAT = WebGLRenderingContext.FLOAT;\nvar EdgeClampedProgram = /** @class */ (function (_super) {\n    __extends(EdgeClampedProgram, _super);\n    function EdgeClampedProgram() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    EdgeClampedProgram.prototype.getDefinition = function () {\n        return __assign(__assign({}, _super.prototype.getDefinition.call(this)), { ARRAY_ITEMS_PER_VERTEX: 6, VERTEX_SHADER_SOURCE: edge_clamped_vert_glsl_1.default, ATTRIBUTES: [\n                { name: \"a_position\", size: 2, type: FLOAT },\n                { name: \"a_normal\", size: 2, type: FLOAT },\n                { name: \"a_color\", size: 4, type: UNSIGNED_BYTE, normalized: true },\n                { name: \"a_radius\", size: 1, type: FLOAT },\n            ] });\n    };\n    EdgeClampedProgram.prototype.processVisibleItem = function (i, sourceData, targetData, data) {\n        var thickness = data.size || 1;\n        var x1 = sourceData.x;\n        var y1 = sourceData.y;\n        var x2 = targetData.x;\n        var y2 = targetData.y;\n        var color = (0, utils_1.floatColor)(data.color);\n        // Computing normals\n        var dx = x2 - x1;\n        var dy = y2 - y1;\n        var radius = targetData.size || 1;\n        var len = dx * dx + dy * dy;\n        var n1 = 0;\n        var n2 = 0;\n        if (len) {\n            len = 1 / Math.sqrt(len);\n            n1 = -dy * len * thickness;\n            n2 = dx * len * thickness;\n        }\n        var array = this.array;\n        // First point\n        array[i++] = x1;\n        array[i++] = y1;\n        array[i++] = n1;\n        array[i++] = n2;\n        array[i++] = color;\n        array[i++] = 0;\n        // First point flipped\n        array[i++] = x1;\n        array[i++] = y1;\n        array[i++] = -n1;\n        array[i++] = -n2;\n        array[i++] = color;\n        array[i++] = 0;\n        // Second point\n        array[i++] = x2;\n        array[i++] = y2;\n        array[i++] = n1;\n        array[i++] = n2;\n        array[i++] = color;\n        array[i++] = radius;\n        // Second point flipped\n        array[i++] = x2;\n        array[i++] = y2;\n        array[i++] = -n1;\n        array[i++] = -n2;\n        array[i++] = color;\n        array[i] = -radius;\n    };\n    return EdgeClampedProgram;\n}(edge_rectangle_1.default));\nexports.default = EdgeClampedProgram;\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar utils_1 = require(\"../../../utils\");\nvar edge_1 = require(\"./common/edge\");\nvar edge_rectangle_vert_glsl_1 = __importDefault(require(\"../shaders/edge.rectangle.vert.glsl.js\"));\nvar edge_rectangle_frag_glsl_1 = __importDefault(require(\"../shaders/edge.rectangle.frag.glsl.js\"));\nvar UNSIGNED_BYTE = WebGLRenderingContext.UNSIGNED_BYTE, FLOAT = WebGLRenderingContext.FLOAT;\nvar UNIFORMS = [\"u_matrix\", \"u_zoomRatio\", \"u_sizeRatio\", \"u_correctionRatio\"];\nvar EdgeRectangleProgram = /** @class */ (function (_super) {\n    __extends(EdgeRectangleProgram, _super);\n    function EdgeRectangleProgram() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    EdgeRectangleProgram.prototype.getDefinition = function () {\n        return {\n            VERTICES: 4,\n            ARRAY_ITEMS_PER_VERTEX: 5,\n            VERTEX_SHADER_SOURCE: edge_rectangle_vert_glsl_1.default,\n            FRAGMENT_SHADER_SOURCE: edge_rectangle_frag_glsl_1.default,\n            UNIFORMS: UNIFORMS,\n            ATTRIBUTES: [\n                { name: \"a_position\", size: 2, type: FLOAT },\n                { name: \"a_normal\", size: 2, type: FLOAT },\n                { name: \"a_color\", size: 4, type: UNSIGNED_BYTE, normalized: true },\n            ],\n        };\n    };\n    EdgeRectangleProgram.prototype.reallocateIndices = function () {\n        var l = this.verticesCount;\n        var size = l + l / 2;\n        var indices = new this.IndicesArray(size);\n        for (var i = 0, c = 0; i < l; i += 4) {\n            indices[c++] = i;\n            indices[c++] = i + 1;\n            indices[c++] = i + 2;\n            indices[c++] = i + 2;\n            indices[c++] = i + 1;\n            indices[c++] = i + 3;\n        }\n        this.indicesArray = indices;\n    };\n    EdgeRectangleProgram.prototype.processVisibleItem = function (i, sourceData, targetData, data) {\n        var thickness = data.size || 1;\n        var x1 = sourceData.x;\n        var y1 = sourceData.y;\n        var x2 = targetData.x;\n        var y2 = targetData.y;\n        var color = (0, utils_1.floatColor)(data.color);\n        // Computing normals\n        var dx = x2 - x1;\n        var dy = y2 - y1;\n        var len = dx * dx + dy * dy;\n        var n1 = 0;\n        var n2 = 0;\n        if (len) {\n            len = 1 / Math.sqrt(len);\n            n1 = -dy * len * thickness;\n            n2 = dx * len * thickness;\n        }\n        var array = this.array;\n        // First point\n        array[i++] = x1;\n        array[i++] = y1;\n        array[i++] = n1;\n        array[i++] = n2;\n        array[i++] = color;\n        // First point flipped\n        array[i++] = x1;\n        array[i++] = y1;\n        array[i++] = -n1;\n        array[i++] = -n2;\n        array[i++] = color;\n        // Second point\n        array[i++] = x2;\n        array[i++] = y2;\n        array[i++] = n1;\n        array[i++] = n2;\n        array[i++] = color;\n        // Second point flipped\n        array[i++] = x2;\n        array[i++] = y2;\n        array[i++] = -n1;\n        array[i++] = -n2;\n        array[i] = color;\n    };\n    EdgeRectangleProgram.prototype.draw = function (params) {\n        var gl = this.gl;\n        var _a = this.uniformLocations, u_matrix = _a.u_matrix, u_zoomRatio = _a.u_zoomRatio, u_correctionRatio = _a.u_correctionRatio, u_sizeRatio = _a.u_sizeRatio;\n        gl.uniformMatrix3fv(u_matrix, false, params.matrix);\n        gl.uniform1f(u_zoomRatio, params.zoomRatio);\n        gl.uniform1f(u_sizeRatio, params.sizeRatio);\n        gl.uniform1f(u_correctionRatio, params.correctionRatio);\n        if (!this.indicesArray)\n            throw new Error(\"EdgeRectangleProgram: indicesArray should be allocated when drawing!\");\n        gl.drawElements(gl.TRIANGLES, this.indicesArray.length, this.indicesType, 0);\n    };\n    return EdgeRectangleProgram;\n}(edge_1.EdgeProgram));\nexports.default = EdgeRectangleProgram;\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar utils_1 = require(\"../../../utils\");\nvar node_1 = require(\"./common/node\");\nvar node_circle_vert_glsl_1 = __importDefault(require(\"../shaders/node.circle.vert.glsl.js\"));\nvar node_circle_frag_glsl_1 = __importDefault(require(\"../shaders/node.circle.frag.glsl.js\"));\nvar UNSIGNED_BYTE = WebGLRenderingContext.UNSIGNED_BYTE, FLOAT = WebGLRenderingContext.FLOAT;\nvar UNIFORMS = [\"u_sizeRatio\", \"u_correctionRatio\", \"u_matrix\"];\nvar NodeCircleProgram = /** @class */ (function (_super) {\n    __extends(NodeCircleProgram, _super);\n    function NodeCircleProgram() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    NodeCircleProgram.prototype.getDefinition = function () {\n        return {\n            VERTICES: 3,\n            ARRAY_ITEMS_PER_VERTEX: 5,\n            VERTEX_SHADER_SOURCE: node_circle_vert_glsl_1.default,\n            FRAGMENT_SHADER_SOURCE: node_circle_frag_glsl_1.default,\n            UNIFORMS: UNIFORMS,\n            ATTRIBUTES: [\n                { name: \"a_position\", size: 2, type: FLOAT },\n                { name: \"a_size\", size: 1, type: FLOAT },\n                { name: \"a_color\", size: 4, type: UNSIGNED_BYTE, normalized: true },\n                { name: \"a_angle\", size: 1, type: FLOAT },\n            ],\n        };\n    };\n    NodeCircleProgram.prototype.processVisibleItem = function (i, data) {\n        var array = this.array;\n        var color = (0, utils_1.floatColor)(data.color);\n        array[i++] = data.x;\n        array[i++] = data.y;\n        array[i++] = data.size;\n        array[i++] = color;\n        array[i++] = NodeCircleProgram.ANGLE_1;\n        array[i++] = data.x;\n        array[i++] = data.y;\n        array[i++] = data.size;\n        array[i++] = color;\n        array[i++] = NodeCircleProgram.ANGLE_2;\n        array[i++] = data.x;\n        array[i++] = data.y;\n        array[i++] = data.size;\n        array[i++] = color;\n        array[i] = NodeCircleProgram.ANGLE_3;\n    };\n    NodeCircleProgram.prototype.draw = function (params) {\n        var gl = this.gl;\n        var _a = this.uniformLocations, u_sizeRatio = _a.u_sizeRatio, u_correctionRatio = _a.u_correctionRatio, u_matrix = _a.u_matrix;\n        gl.uniform1f(u_sizeRatio, params.sizeRatio);\n        gl.uniform1f(u_correctionRatio, params.correctionRatio);\n        gl.uniformMatrix3fv(u_matrix, false, params.matrix);\n        gl.drawArrays(gl.TRIANGLES, 0, this.verticesCount);\n    };\n    NodeCircleProgram.ANGLE_1 = 0;\n    NodeCircleProgram.ANGLE_2 = (2 * Math.PI) / 3;\n    NodeCircleProgram.ANGLE_3 = (4 * Math.PI) / 3;\n    return NodeCircleProgram;\n}(node_1.NodeProgram));\nexports.default = NodeCircleProgram;\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar utils_1 = require(\"../../../utils\");\nvar node_1 = require(\"./common/node\");\nvar node_point_vert_glsl_1 = __importDefault(require(\"../shaders/node.point.vert.glsl.js\"));\nvar node_point_frag_glsl_1 = __importDefault(require(\"../shaders/node.point.frag.glsl.js\"));\nvar UNSIGNED_BYTE = WebGLRenderingContext.UNSIGNED_BYTE, FLOAT = WebGLRenderingContext.FLOAT;\nvar UNIFORMS = [\"u_sizeRatio\", \"u_pixelRatio\", \"u_matrix\"];\nvar NodePointProgram = /** @class */ (function (_super) {\n    __extends(NodePointProgram, _super);\n    function NodePointProgram() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    NodePointProgram.prototype.getDefinition = function () {\n        return {\n            VERTICES: 1,\n            ARRAY_ITEMS_PER_VERTEX: 4,\n            VERTEX_SHADER_SOURCE: node_point_vert_glsl_1.default,\n            FRAGMENT_SHADER_SOURCE: node_point_frag_glsl_1.default,\n            UNIFORMS: UNIFORMS,\n            ATTRIBUTES: [\n                { name: \"a_position\", size: 2, type: FLOAT },\n                { name: \"a_size\", size: 1, type: FLOAT },\n                { name: \"a_color\", size: 4, type: UNSIGNED_BYTE, normalized: true },\n            ],\n        };\n    };\n    NodePointProgram.prototype.processVisibleItem = function (i, data) {\n        var array = this.array;\n        array[i++] = data.x;\n        array[i++] = data.y;\n        array[i++] = data.size;\n        array[i] = (0, utils_1.floatColor)(data.color);\n    };\n    NodePointProgram.prototype.draw = function (params) {\n        var gl = this.gl;\n        var _a = this.uniformLocations, u_sizeRatio = _a.u_sizeRatio, u_pixelRatio = _a.u_pixelRatio, u_matrix = _a.u_matrix;\n        gl.uniform1f(u_sizeRatio, params.sizeRatio);\n        gl.uniform1f(u_pixelRatio, params.pixelRatio);\n        gl.uniformMatrix3fv(u_matrix, false, params.matrix);\n        gl.drawArrays(gl.POINTS, 0, this.verticesCount);\n    };\n    return NodePointProgram;\n}(node_1.NodeProgram));\nexports.default = NodePointProgram;\n","(()=>{\"use strict\";var e={d:(o,r)=>{for(var t in r)e.o(r,t)&&!e.o(o,t)&&Object.defineProperty(o,t,{enumerable:!0,get:r[t]})},o:(e,o)=>Object.prototype.hasOwnProperty.call(e,o),r:e=>{\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})}},o={};e.r(o),e.d(o,{default:()=>r});const r=\"precision mediump float;\\n\\nvarying vec4 v_color;\\n\\nvoid main(void) {\\n  gl_FragColor = v_color;\\n}\\n\";module.exports=o})();","(()=>{\"use strict\";var e={d:(a,n)=>{for(var t in n)e.o(n,t)&&!e.o(a,t)&&Object.defineProperty(a,t,{enumerable:!0,get:n[t]})},o:(e,a)=>Object.prototype.hasOwnProperty.call(e,a),r:e=>{\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})}},a={};e.r(a),e.d(a,{default:()=>n});const n=\"attribute vec2 a_position;\\nattribute vec2 a_normal;\\nattribute float a_radius;\\nattribute vec4 a_color;\\nattribute vec3 a_barycentric;\\n\\nuniform mat3 u_matrix;\\nuniform float u_sizeRatio;\\nuniform float u_correctionRatio;\\n\\nvarying vec4 v_color;\\n\\nconst float minThickness = 1.7;\\nconst float bias = 255.0 / 254.0;\\nconst float arrowHeadWidthLengthRatio = 0.66;\\nconst float arrowHeadLengthThicknessRatio = 2.5;\\n\\nvoid main() {\\n  float normalLength = length(a_normal);\\n  vec2 unitNormal = a_normal / normalLength;\\n\\n  // These first computations are taken from edge.vert.glsl and\\n  // edge.clamped.vert.glsl. Please read it to get better comments on what's\\n  // happening:\\n  float pixelsThickness = max(normalLength, minThickness * u_sizeRatio);\\n  float webGLThickness = pixelsThickness * u_correctionRatio / u_sizeRatio;\\n  float webGLNodeRadius = a_radius * 2.0 * u_correctionRatio / u_sizeRatio;\\n  float webGLArrowHeadLength = webGLThickness * 2.0 * arrowHeadLengthThicknessRatio;\\n  float webGLArrowHeadHalfWidth = webGLArrowHeadLength * arrowHeadWidthLengthRatio / 2.0;\\n\\n  float da = a_barycentric.x;\\n  float db = a_barycentric.y;\\n  float dc = a_barycentric.z;\\n\\n  vec2 delta = vec2(\\n      da * (webGLNodeRadius * unitNormal.y)\\n    + db * ((webGLNodeRadius + webGLArrowHeadLength) * unitNormal.y + webGLArrowHeadHalfWidth * unitNormal.x)\\n    + dc * ((webGLNodeRadius + webGLArrowHeadLength) * unitNormal.y - webGLArrowHeadHalfWidth * unitNormal.x),\\n\\n      da * (-webGLNodeRadius * unitNormal.x)\\n    + db * (-(webGLNodeRadius + webGLArrowHeadLength) * unitNormal.x + webGLArrowHeadHalfWidth * unitNormal.y)\\n    + dc * (-(webGLNodeRadius + webGLArrowHeadLength) * unitNormal.x - webGLArrowHeadHalfWidth * unitNormal.y)\\n  );\\n\\n  vec2 position = (u_matrix * vec3(a_position + delta, 1)).xy;\\n\\n  gl_Position = vec4(position, 0, 1);\\n\\n  // Extract the color:\\n  v_color = a_color;\\n  v_color.a *= bias;\\n}\\n\";module.exports=a})();","(()=>{\"use strict\";var e={d:(o,n)=>{for(var t in n)e.o(n,t)&&!e.o(o,t)&&Object.defineProperty(o,t,{enumerable:!0,get:n[t]})},o:(e,o)=>Object.prototype.hasOwnProperty.call(e,o),r:e=>{\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})}},o={};e.r(o),e.d(o,{default:()=>n});const n=\"attribute vec4 a_color;\\nattribute vec2 a_normal;\\nattribute vec2 a_position;\\nattribute float a_radius;\\n\\nuniform mat3 u_matrix;\\nuniform float u_zoomRatio;\\nuniform float u_sizeRatio;\\nuniform float u_correctionRatio;\\n\\nvarying vec4 v_color;\\nvarying vec2 v_normal;\\nvarying float v_thickness;\\n\\nconst float minThickness = 1.7;\\nconst float bias = 255.0 / 254.0;\\nconst float arrowHeadLengthThicknessRatio = 2.5;\\n\\nvoid main() {\\n  float normalLength = length(a_normal);\\n  vec2 unitNormal = a_normal / normalLength;\\n\\n  // These first computations are taken from edge.vert.glsl. Please read it to\\n  // get better comments on what's happening:\\n  float pixelsThickness = max(normalLength, minThickness * u_sizeRatio);\\n  float webGLThickness = pixelsThickness * u_correctionRatio / u_sizeRatio;\\n\\n  // Here, we move the point to leave space for the arrow head:\\n  float direction = sign(a_radius);\\n  float webGLNodeRadius = direction * a_radius * 2.0 * u_correctionRatio / u_sizeRatio;\\n  float webGLArrowHeadLength = webGLThickness * 2.0 * arrowHeadLengthThicknessRatio;\\n\\n  vec2 compensationVector = vec2(-direction * unitNormal.y, direction * unitNormal.x) * (webGLNodeRadius + webGLArrowHeadLength);\\n\\n  // Here is the proper position of the vertex\\n  gl_Position = vec4((u_matrix * vec3(a_position + unitNormal * webGLThickness + compensationVector, 1)).xy, 0, 1);\\n\\n  v_thickness = webGLThickness / u_zoomRatio;\\n\\n  v_normal = unitNormal;\\n  v_color = a_color;\\n  v_color.a *= bias;\\n}\\n\";module.exports=o})();","(()=>{\"use strict\";var e={d:(n,t)=>{for(var o in t)e.o(t,o)&&!e.o(n,o)&&Object.defineProperty(n,o,{enumerable:!0,get:t[o]})},o:(e,n)=>Object.prototype.hasOwnProperty.call(e,n),r:e=>{\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})}},n={};e.r(n),e.d(n,{default:()=>t});const t=\"precision mediump float;\\n\\nvarying vec4 v_color;\\nvarying vec2 v_normal;\\nvarying float v_thickness;\\n\\nconst float feather = 0.001;\\nconst vec4 transparent = vec4(0.0, 0.0, 0.0, 0.0);\\n\\nvoid main(void) {\\n  float dist = length(v_normal) * v_thickness;\\n\\n  float t = smoothstep(\\n    v_thickness - feather,\\n    v_thickness,\\n    dist\\n  );\\n\\n  gl_FragColor = mix(v_color, transparent, t);\\n}\\n\";module.exports=n})();","(()=>{\"use strict\";var e={d:(n,o)=>{for(var t in o)e.o(o,t)&&!e.o(n,t)&&Object.defineProperty(n,t,{enumerable:!0,get:o[t]})},o:(e,n)=>Object.prototype.hasOwnProperty.call(e,n),r:e=>{\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})}},n={};e.r(n),e.d(n,{default:()=>o});const o='attribute vec4 a_color;\\nattribute vec2 a_normal;\\nattribute vec2 a_position;\\n\\nuniform mat3 u_matrix;\\nuniform float u_sizeRatio;\\nuniform float u_zoomRatio;\\nuniform float u_correctionRatio;\\n\\nvarying vec4 v_color;\\nvarying vec2 v_normal;\\nvarying float v_thickness;\\n\\nconst float minThickness = 1.7;\\nconst float bias = 255.0 / 254.0;\\n\\nvoid main() {\\n  float normalLength = length(a_normal);\\n  vec2 unitNormal = a_normal / normalLength;\\n\\n  // We require edges to be at least `minThickness` pixels thick *on screen*\\n  // (so we need to compensate the size ratio):\\n  float pixelsThickness = max(normalLength, minThickness * u_sizeRatio);\\n\\n  // Then, we need to retrieve the normalized thickness of the edge in the WebGL\\n  // referential (in a ([0, 1], [0, 1]) space), using our \"magic\" correction\\n  // ratio:\\n  float webGLThickness = pixelsThickness * u_correctionRatio / u_sizeRatio;\\n\\n  // Here is the proper position of the vertex\\n  gl_Position = vec4((u_matrix * vec3(a_position + unitNormal * webGLThickness, 1)).xy, 0, 1);\\n\\n  // For the fragment shader though, we need a thickness that takes the \"magic\"\\n  // correction ratio into account (as in webGLThickness), but so that the\\n  // antialiasing effect does not depend on the zoom level. So here\\'s yet\\n  // another thickness version:\\n  v_thickness = webGLThickness / u_zoomRatio;\\n\\n  v_normal = unitNormal;\\n  v_color = a_color;\\n  v_color.a *= bias;\\n}\\n';module.exports=n})();","(()=>{\"use strict\";var e={d:(n,r)=>{for(var t in r)e.o(r,t)&&!e.o(n,t)&&Object.defineProperty(n,t,{enumerable:!0,get:r[t]})},o:(e,n)=>Object.prototype.hasOwnProperty.call(e,n),r:e=>{\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})}},n={};e.r(n),e.d(n,{default:()=>r});const r=\"precision mediump float;\\n\\nvarying vec4 v_color;\\nvarying vec2 v_diffVector;\\nvarying float v_radius;\\nvarying float v_border;\\n\\nconst vec4 transparent = vec4(0.0, 0.0, 0.0, 0.0);\\n\\nvoid main(void) {\\n  float dist = length(v_diffVector) - v_radius;\\n\\n  float t = 0.0;\\n  if (dist > v_border)\\n    t = 1.0;\\n  else if (dist > 0.0)\\n    t = dist / v_border;\\n\\n  gl_FragColor = mix(v_color, transparent, t);\\n}\\n\";module.exports=n})();","(()=>{\"use strict\";var o={d:(n,t)=>{for(var e in t)o.o(t,e)&&!o.o(n,e)&&Object.defineProperty(n,e,{enumerable:!0,get:t[e]})},o:(o,n)=>Object.prototype.hasOwnProperty.call(o,n),r:o=>{\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(o,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(o,\"__esModule\",{value:!0})}},n={};o.r(n),o.d(n,{default:()=>t});const t=\"attribute vec2 a_position;\\nattribute float a_size;\\nattribute float a_angle;\\nattribute vec4 a_color;\\n\\nuniform mat3 u_matrix;\\nuniform float u_sizeRatio;\\nuniform float u_correctionRatio;\\n\\nvarying vec4 v_color;\\nvarying vec2 v_diffVector;\\nvarying float v_radius;\\nvarying float v_border;\\n\\nconst float bias = 255.0 / 254.0;\\nconst float marginRatio = 1.05;\\n\\nvoid main() {\\n  float size = a_size * u_correctionRatio / u_sizeRatio * 4.0;\\n  vec2 diffVector = size * vec2(cos(a_angle), sin(a_angle));\\n  vec2 position = a_position + diffVector * marginRatio;\\n  gl_Position = vec4(\\n    (u_matrix * vec3(position, 1)).xy,\\n    0,\\n    1\\n  );\\n\\n  v_border = u_correctionRatio;\\n  v_diffVector = diffVector;\\n  v_radius = size / 2.0 / marginRatio;\\n\\n  v_color = a_color;\\n  v_color.a *= bias;\\n}\\n\";module.exports=n})();","(()=>{\"use strict\";var e={d:(n,o)=>{for(var t in o)e.o(o,t)&&!e.o(n,t)&&Object.defineProperty(n,t,{enumerable:!0,get:o[t]})},o:(e,n)=>Object.prototype.hasOwnProperty.call(e,n),r:e=>{\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})}},n={};e.r(n),e.d(n,{default:()=>o});const o=\"precision mediump float;\\n\\nvarying vec4 v_color;\\nvarying float v_border;\\n\\nconst float radius = 0.5;\\nconst vec4 transparent = vec4(0.0, 0.0, 0.0, 0.0);\\n\\nvoid main(void) {\\n  vec2 m = gl_PointCoord - vec2(0.5, 0.5);\\n  float dist = radius - length(m);\\n\\n  float t = 0.0;\\n  if (dist > v_border)\\n    t = 1.0;\\n  else if (dist > 0.0)\\n    t = dist / v_border;\\n\\n  gl_FragColor = mix(transparent, v_color, t);\\n}\\n\";module.exports=n})();","(()=>{\"use strict\";var o={d:(t,e)=>{for(var n in e)o.o(e,n)&&!o.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},o:(o,t)=>Object.prototype.hasOwnProperty.call(o,t),r:o=>{\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(o,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(o,\"__esModule\",{value:!0})}},t={};o.r(t),o.d(t,{default:()=>e});const e=\"attribute vec2 a_position;\\nattribute float a_size;\\nattribute vec4 a_color;\\n\\nuniform float u_sizeRatio;\\nuniform float u_pixelRatio;\\nuniform mat3 u_matrix;\\n\\nvarying vec4 v_color;\\nvarying float v_border;\\n\\nconst float bias = 255.0 / 254.0;\\n\\nvoid main() {\\n  gl_Position = vec4(\\n    (u_matrix * vec3(a_position, 1)).xy,\\n    0,\\n    1\\n  );\\n\\n  // Multiply the point size twice:\\n  //  - x SCALING_RATIO to correct the canvas scaling\\n  //  - x 2 to correct the formulae\\n  gl_PointSize = a_size / u_sizeRatio * u_pixelRatio * 2.0;\\n\\n  v_border = (0.5 / a_size) * u_sizeRatio;\\n\\n  // Extract the color:\\n  v_color = a_color;\\n  v_color.a *= bias;\\n}\\n\";module.exports=t})();","\"use strict\";\n/**\n * Sigma.js Shader Utils\n * ======================\n *\n * Code used to load sigma's shaders.\n * @module\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.loadProgram = exports.loadFragmentShader = exports.loadVertexShader = void 0;\n/**\n * Function used to load a shader.\n */\nfunction loadShader(type, gl, source) {\n    var glType = type === \"VERTEX\" ? gl.VERTEX_SHADER : gl.FRAGMENT_SHADER;\n    // Creating the shader\n    var shader = gl.createShader(glType);\n    if (shader === null) {\n        throw new Error(\"loadShader: error while creating the shader\");\n    }\n    // Loading source\n    gl.shaderSource(shader, source);\n    // Compiling the shader\n    gl.compileShader(shader);\n    // Retrieving compilation status\n    var successfullyCompiled = gl.getShaderParameter(shader, gl.COMPILE_STATUS);\n    // Throwing if something went awry\n    if (!successfullyCompiled) {\n        var infoLog = gl.getShaderInfoLog(shader);\n        gl.deleteShader(shader);\n        throw new Error(\"loadShader: error while compiling the shader:\\n\".concat(infoLog, \"\\n\").concat(source));\n    }\n    return shader;\n}\nfunction loadVertexShader(gl, source) {\n    return loadShader(\"VERTEX\", gl, source);\n}\nexports.loadVertexShader = loadVertexShader;\nfunction loadFragmentShader(gl, source) {\n    return loadShader(\"FRAGMENT\", gl, source);\n}\nexports.loadFragmentShader = loadFragmentShader;\n/**\n * Function used to load a program.\n */\nfunction loadProgram(gl, shaders) {\n    var program = gl.createProgram();\n    if (program === null) {\n        throw new Error(\"loadProgram: error while creating the program.\");\n    }\n    var i, l;\n    // Attaching the shaders\n    for (i = 0, l = shaders.length; i < l; i++)\n        gl.attachShader(program, shaders[i]);\n    gl.linkProgram(program);\n    // Checking status\n    var successfullyLinked = gl.getProgramParameter(program, gl.LINK_STATUS);\n    if (!successfullyLinked) {\n        gl.deleteProgram(program);\n        throw new Error(\"loadProgram: error while linking the program.\");\n    }\n    return program;\n}\nexports.loadProgram = loadProgram;\n","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.resolveSettings = exports.validateSettings = exports.DEFAULT_EDGE_PROGRAM_CLASSES = exports.DEFAULT_NODE_PROGRAM_CLASSES = exports.DEFAULT_SETTINGS = void 0;\nvar utils_1 = require(\"./utils\");\nvar label_1 = __importDefault(require(\"./rendering/canvas/label\"));\nvar hover_1 = __importDefault(require(\"./rendering/canvas/hover\"));\nvar edge_label_1 = __importDefault(require(\"./rendering/canvas/edge-label\"));\nvar node_point_1 = __importDefault(require(\"./rendering/webgl/programs/node.point\"));\nvar edge_rectangle_1 = __importDefault(require(\"./rendering/webgl/programs/edge.rectangle\"));\nvar edge_arrow_1 = __importDefault(require(\"./rendering/webgl/programs/edge.arrow\"));\nexports.DEFAULT_SETTINGS = {\n    // Performance\n    hideEdgesOnMove: false,\n    hideLabelsOnMove: false,\n    renderLabels: true,\n    renderEdgeLabels: false,\n    enableEdgeClickEvents: false,\n    enableEdgeWheelEvents: false,\n    enableEdgeHoverEvents: false,\n    // Component rendering\n    defaultNodeColor: \"#999\",\n    defaultNodeType: \"circle\",\n    defaultEdgeColor: \"#ccc\",\n    defaultEdgeType: \"line\",\n    labelFont: \"Arial\",\n    labelSize: 14,\n    labelWeight: \"normal\",\n    labelColor: { color: \"#000\" },\n    edgeLabelFont: \"Arial\",\n    edgeLabelSize: 14,\n    edgeLabelWeight: \"normal\",\n    edgeLabelColor: { attribute: \"color\" },\n    stagePadding: 30,\n    zoomToSizeRatioFunction: Math.sqrt,\n    // Labels\n    labelDensity: 1,\n    labelGridCellSize: 100,\n    labelRenderedSizeThreshold: 6,\n    // Reducers\n    nodeReducer: null,\n    edgeReducer: null,\n    // Features\n    zIndex: false,\n    minCameraRatio: null,\n    maxCameraRatio: null,\n    // Renderers\n    labelRenderer: label_1.default,\n    hoverRenderer: hover_1.default,\n    edgeLabelRenderer: edge_label_1.default,\n    // Lifecycle\n    allowInvalidContainer: false,\n    // Program classes\n    nodeProgramClasses: {},\n    nodeHoverProgramClasses: {},\n    edgeProgramClasses: {},\n};\nexports.DEFAULT_NODE_PROGRAM_CLASSES = {\n    circle: node_point_1.default,\n};\nexports.DEFAULT_EDGE_PROGRAM_CLASSES = {\n    arrow: edge_arrow_1.default,\n    line: edge_rectangle_1.default,\n};\nfunction validateSettings(settings) {\n    if (typeof settings.labelDensity !== \"number\" || settings.labelDensity < 0) {\n        throw new Error(\"Settings: invalid `labelDensity`. Expecting a positive number.\");\n    }\n    var minCameraRatio = settings.minCameraRatio, maxCameraRatio = settings.maxCameraRatio;\n    if (typeof minCameraRatio === \"number\" && typeof maxCameraRatio === \"number\" && maxCameraRatio < minCameraRatio) {\n        throw new Error(\"Settings: invalid camera ratio boundaries. Expecting `maxCameraRatio` to be greater than `minCameraRatio`.\");\n    }\n}\nexports.validateSettings = validateSettings;\nfunction resolveSettings(settings) {\n    var resolvedSettings = (0, utils_1.assign)({}, exports.DEFAULT_SETTINGS, settings);\n    resolvedSettings.nodeProgramClasses = (0, utils_1.assign)({}, exports.DEFAULT_NODE_PROGRAM_CLASSES, resolvedSettings.nodeProgramClasses);\n    resolvedSettings.edgeProgramClasses = (0, utils_1.assign)({}, exports.DEFAULT_EDGE_PROGRAM_CLASSES, resolvedSettings.edgeProgramClasses);\n    return resolvedSettings;\n}\nexports.resolveSettings = resolveSettings;\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __values = (this && this.__values) || function(o) {\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\n    if (m) return m.call(o);\n    if (o && typeof o.length === \"number\") return {\n        next: function () {\n            if (o && i >= o.length) o = void 0;\n            return { value: o && o[i++], done: !o };\n        }\n    };\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar extend_1 = __importDefault(require(\"@yomguithereal/helpers/extend\"));\nvar camera_1 = __importDefault(require(\"./core/camera\"));\nvar mouse_1 = __importDefault(require(\"./core/captors/mouse\"));\nvar quadtree_1 = __importDefault(require(\"./core/quadtree\"));\nvar types_1 = require(\"./types\");\nvar utils_1 = require(\"./utils\");\nvar labels_1 = require(\"./core/labels\");\nvar settings_1 = require(\"./settings\");\nvar touch_1 = __importDefault(require(\"./core/captors/touch\"));\nvar matrices_1 = require(\"./utils/matrices\");\nvar edge_collisions_1 = require(\"./utils/edge-collisions\");\n/**\n * Constants.\n */\nvar X_LABEL_MARGIN = 150;\nvar Y_LABEL_MARGIN = 50;\n/**\n * Important functions.\n */\nfunction applyNodeDefaults(settings, key, data) {\n    if (!data.hasOwnProperty(\"x\") || !data.hasOwnProperty(\"y\"))\n        throw new Error(\"Sigma: could not find a valid position (x, y) for node \\\"\".concat(key, \"\\\". All your nodes must have a number \\\"x\\\" and \\\"y\\\". Maybe your forgot to apply a layout or your \\\"nodeReducer\\\" is not returning the correct data?\"));\n    if (!data.color)\n        data.color = settings.defaultNodeColor;\n    if (!data.label && data.label !== \"\")\n        data.label = null;\n    if (data.label !== undefined && data.label !== null)\n        data.label = \"\" + data.label;\n    else\n        data.label = null;\n    if (!data.size)\n        data.size = 2;\n    if (!data.hasOwnProperty(\"hidden\"))\n        data.hidden = false;\n    if (!data.hasOwnProperty(\"highlighted\"))\n        data.highlighted = false;\n    if (!data.hasOwnProperty(\"forceLabel\"))\n        data.forceLabel = false;\n    if (!data.type || data.type === \"\")\n        data.type = settings.defaultNodeType;\n    if (!data.zIndex)\n        data.zIndex = 0;\n    return data;\n}\nfunction applyEdgeDefaults(settings, key, data) {\n    if (!data.color)\n        data.color = settings.defaultEdgeColor;\n    if (!data.label)\n        data.label = \"\";\n    if (!data.size)\n        data.size = 0.5;\n    if (!data.hasOwnProperty(\"hidden\"))\n        data.hidden = false;\n    if (!data.hasOwnProperty(\"forceLabel\"))\n        data.forceLabel = false;\n    if (!data.type || data.type === \"\")\n        data.type = settings.defaultEdgeType;\n    if (!data.zIndex)\n        data.zIndex = 0;\n    return data;\n}\n/**\n * Main class.\n *\n * @constructor\n * @param {Graph}       graph     - Graph to render.\n * @param {HTMLElement} container - DOM container in which to render.\n * @param {object}      settings  - Optional settings.\n */\nvar Sigma = /** @class */ (function (_super) {\n    __extends(Sigma, _super);\n    function Sigma(graph, container, settings) {\n        if (settings === void 0) { settings = {}; }\n        var _this = _super.call(this) || this;\n        _this.elements = {};\n        _this.canvasContexts = {};\n        _this.webGLContexts = {};\n        _this.activeListeners = {};\n        _this.quadtree = new quadtree_1.default();\n        _this.labelGrid = new labels_1.LabelGrid();\n        _this.nodeDataCache = {};\n        _this.edgeDataCache = {};\n        _this.nodesWithForcedLabels = [];\n        _this.edgesWithForcedLabels = [];\n        _this.nodeExtent = { x: [0, 1], y: [0, 1] };\n        _this.matrix = (0, matrices_1.identity)();\n        _this.invMatrix = (0, matrices_1.identity)();\n        _this.correctionRatio = 1;\n        _this.customBBox = null;\n        _this.normalizationFunction = (0, utils_1.createNormalizationFunction)({\n            x: [0, 1],\n            y: [0, 1],\n        });\n        // Cache:\n        _this.cameraSizeRatio = 1;\n        // Starting dimensions and pixel ratio\n        _this.width = 0;\n        _this.height = 0;\n        _this.pixelRatio = (0, utils_1.getPixelRatio)();\n        // State\n        _this.displayedNodeLabels = new Set();\n        _this.displayedEdgeLabels = new Set();\n        _this.highlightedNodes = new Set();\n        _this.hoveredNode = null;\n        _this.hoveredEdge = null;\n        _this.renderFrame = null;\n        _this.renderHighlightedNodesFrame = null;\n        _this.needToProcess = false;\n        _this.checkEdgesEventsFrame = null;\n        // Programs\n        _this.nodePrograms = {};\n        _this.nodeHoverPrograms = {};\n        _this.edgePrograms = {};\n        // Resolving settings\n        _this.settings = (0, settings_1.resolveSettings)(settings);\n        // Validating\n        (0, settings_1.validateSettings)(_this.settings);\n        (0, utils_1.validateGraph)(graph);\n        if (!(container instanceof HTMLElement))\n            throw new Error(\"Sigma: container should be an html element.\");\n        // Properties\n        _this.graph = graph;\n        _this.container = container;\n        // Initializing contexts\n        _this.createWebGLContext(\"edges\", { preserveDrawingBuffer: true });\n        _this.createCanvasContext(\"edgeLabels\");\n        _this.createWebGLContext(\"nodes\");\n        _this.createCanvasContext(\"labels\");\n        _this.createCanvasContext(\"hovers\");\n        _this.createWebGLContext(\"hoverNodes\");\n        _this.createCanvasContext(\"mouse\");\n        // Blending\n        for (var key in _this.webGLContexts) {\n            var gl = _this.webGLContexts[key];\n            gl.blendFunc(gl.ONE, gl.ONE_MINUS_SRC_ALPHA);\n            gl.enable(gl.BLEND);\n        }\n        // Loading programs\n        for (var type in _this.settings.nodeProgramClasses) {\n            var NodeProgramClass = _this.settings.nodeProgramClasses[type];\n            _this.nodePrograms[type] = new NodeProgramClass(_this.webGLContexts.nodes, _this);\n            var NodeHoverProgram = NodeProgramClass;\n            if (type in _this.settings.nodeHoverProgramClasses) {\n                NodeHoverProgram = _this.settings.nodeHoverProgramClasses[type];\n            }\n            _this.nodeHoverPrograms[type] = new NodeHoverProgram(_this.webGLContexts.hoverNodes, _this);\n        }\n        for (var type in _this.settings.edgeProgramClasses) {\n            var EdgeProgramClass = _this.settings.edgeProgramClasses[type];\n            _this.edgePrograms[type] = new EdgeProgramClass(_this.webGLContexts.edges, _this);\n        }\n        // Initial resize\n        _this.resize();\n        // Initializing the camera\n        _this.camera = new camera_1.default();\n        // Binding camera events\n        _this.bindCameraHandlers();\n        // Initializing captors\n        _this.mouseCaptor = new mouse_1.default(_this.elements.mouse, _this);\n        _this.touchCaptor = new touch_1.default(_this.elements.mouse, _this);\n        // Binding event handlers\n        _this.bindEventHandlers();\n        // Binding graph handlers\n        _this.bindGraphHandlers();\n        // Trigger eventual settings-related things\n        _this.handleSettingsUpdate();\n        // Processing data for the first time & render\n        _this.refresh();\n        return _this;\n    }\n    /**---------------------------------------------------------------------------\n     * Internal methods.\n     **---------------------------------------------------------------------------\n     */\n    /**\n     * Internal function used to create a canvas element.\n     * @param  {string} id - Context's id.\n     * @return {Sigma}\n     */\n    Sigma.prototype.createCanvas = function (id) {\n        var canvas = (0, utils_1.createElement)(\"canvas\", {\n            position: \"absolute\",\n        }, {\n            class: \"sigma-\".concat(id),\n        });\n        this.elements[id] = canvas;\n        this.container.appendChild(canvas);\n        return canvas;\n    };\n    /**\n     * Internal function used to create a canvas context and add the relevant\n     * DOM elements.\n     *\n     * @param  {string} id - Context's id.\n     * @return {Sigma}\n     */\n    Sigma.prototype.createCanvasContext = function (id) {\n        var canvas = this.createCanvas(id);\n        var contextOptions = {\n            preserveDrawingBuffer: false,\n            antialias: false,\n        };\n        this.canvasContexts[id] = canvas.getContext(\"2d\", contextOptions);\n        return this;\n    };\n    /**\n     * Internal function used to create a canvas context and add the relevant\n     * DOM elements.\n     *\n     * @param  {string}  id      - Context's id.\n     * @param  {object?} options - #getContext params to override (optional)\n     * @return {Sigma}\n     */\n    Sigma.prototype.createWebGLContext = function (id, options) {\n        var canvas = this.createCanvas(id);\n        var contextOptions = __assign({ preserveDrawingBuffer: false, antialias: false }, (options || {}));\n        var context;\n        // First we try webgl2 for an easy performance boost\n        context = canvas.getContext(\"webgl2\", contextOptions);\n        // Else we fall back to webgl\n        if (!context)\n            context = canvas.getContext(\"webgl\", contextOptions);\n        // Edge, I am looking right at you...\n        if (!context)\n            context = canvas.getContext(\"experimental-webgl\", contextOptions);\n        this.webGLContexts[id] = context;\n        return this;\n    };\n    /**\n     * Method binding camera handlers.\n     *\n     * @return {Sigma}\n     */\n    Sigma.prototype.bindCameraHandlers = function () {\n        var _this = this;\n        this.activeListeners.camera = function () {\n            _this.scheduleRender();\n        };\n        this.camera.on(\"updated\", this.activeListeners.camera);\n        return this;\n    };\n    /**\n     * Method that checks whether or not a node collides with a given position.\n     */\n    Sigma.prototype.mouseIsOnNode = function (_a, _b, size) {\n        var x = _a.x, y = _a.y;\n        var nodeX = _b.x, nodeY = _b.y;\n        return (x > nodeX - size &&\n            x < nodeX + size &&\n            y > nodeY - size &&\n            y < nodeY + size &&\n            Math.sqrt(Math.pow(x - nodeX, 2) + Math.pow(y - nodeY, 2)) < size);\n    };\n    /**\n     * Method that returns all nodes in quad at a given position.\n     */\n    Sigma.prototype.getQuadNodes = function (position) {\n        var mouseGraphPosition = this.viewportToFramedGraph(position);\n        return this.quadtree.point(mouseGraphPosition.x, 1 - mouseGraphPosition.y);\n    };\n    /**\n     * Method that returns the closest node to a given position.\n     */\n    Sigma.prototype.getNodeAtPosition = function (position) {\n        var x = position.x, y = position.y;\n        var quadNodes = this.getQuadNodes(position);\n        // We will hover the node whose center is closest to mouse\n        var minDistance = Infinity, nodeAtPosition = null;\n        for (var i = 0, l = quadNodes.length; i < l; i++) {\n            var node = quadNodes[i];\n            var data = this.nodeDataCache[node];\n            var nodePosition = this.framedGraphToViewport(data);\n            var size = this.scaleSize(data.size);\n            if (!data.hidden && this.mouseIsOnNode(position, nodePosition, size)) {\n                var distance = Math.sqrt(Math.pow(x - nodePosition.x, 2) + Math.pow(y - nodePosition.y, 2));\n                // TODO: sort by min size also for cases where center is the same\n                if (distance < minDistance) {\n                    minDistance = distance;\n                    nodeAtPosition = node;\n                }\n            }\n        }\n        return nodeAtPosition;\n    };\n    /**\n     * Method binding event handlers.\n     *\n     * @return {Sigma}\n     */\n    Sigma.prototype.bindEventHandlers = function () {\n        var _this = this;\n        // Handling window resize\n        this.activeListeners.handleResize = function () {\n            _this.scheduleRender();\n        };\n        window.addEventListener(\"resize\", this.activeListeners.handleResize);\n        // Handling mouse move\n        this.activeListeners.handleMove = function (e) {\n            var baseEvent = {\n                event: e,\n                preventSigmaDefault: function () {\n                    e.preventSigmaDefault();\n                },\n            };\n            var nodeToHover = _this.getNodeAtPosition(e);\n            if (nodeToHover && _this.hoveredNode !== nodeToHover && !_this.nodeDataCache[nodeToHover].hidden) {\n                // Handling passing from one node to the other directly\n                if (_this.hoveredNode)\n                    _this.emit(\"leaveNode\", __assign(__assign({}, baseEvent), { node: _this.hoveredNode }));\n                _this.hoveredNode = nodeToHover;\n                _this.emit(\"enterNode\", __assign(__assign({}, baseEvent), { node: nodeToHover }));\n                _this.scheduleHighlightedNodesRender();\n                return;\n            }\n            // Checking if the hovered node is still hovered\n            if (_this.hoveredNode) {\n                var data = _this.nodeDataCache[_this.hoveredNode];\n                var pos = _this.framedGraphToViewport(data);\n                var size = _this.scaleSize(data.size);\n                if (!_this.mouseIsOnNode(e, pos, size)) {\n                    var node = _this.hoveredNode;\n                    _this.hoveredNode = null;\n                    _this.emit(\"leaveNode\", __assign(__assign({}, baseEvent), { node: node }));\n                    _this.scheduleHighlightedNodesRender();\n                    return;\n                }\n            }\n            if (_this.settings.enableEdgeHoverEvents === true) {\n                _this.checkEdgeHoverEvents(baseEvent);\n            }\n            else if (_this.settings.enableEdgeHoverEvents === \"debounce\") {\n                if (!_this.checkEdgesEventsFrame)\n                    _this.checkEdgesEventsFrame = (0, utils_1.requestFrame)(function () {\n                        _this.checkEdgeHoverEvents(baseEvent);\n                        _this.checkEdgesEventsFrame = null;\n                    });\n            }\n        };\n        // Handling click\n        var createMouseListener = function (eventType) {\n            return function (e) {\n                var baseEvent = {\n                    event: e,\n                    preventSigmaDefault: function () {\n                        e.preventSigmaDefault();\n                    },\n                };\n                var isFakeSigmaMouseEvent = e.original.isFakeSigmaMouseEvent;\n                var nodeAtPosition = isFakeSigmaMouseEvent ? _this.getNodeAtPosition(e) : _this.hoveredNode;\n                if (nodeAtPosition)\n                    return _this.emit(\"\".concat(eventType, \"Node\"), __assign(__assign({}, baseEvent), { node: nodeAtPosition }));\n                if (eventType === \"wheel\" ? _this.settings.enableEdgeWheelEvents : _this.settings.enableEdgeClickEvents) {\n                    var edge = _this.getEdgeAtPoint(e.x, e.y);\n                    if (edge)\n                        return _this.emit(\"\".concat(eventType, \"Edge\"), __assign(__assign({}, baseEvent), { edge: edge }));\n                }\n                return _this.emit(\"\".concat(eventType, \"Stage\"), baseEvent);\n            };\n        };\n        this.activeListeners.handleClick = createMouseListener(\"click\");\n        this.activeListeners.handleRightClick = createMouseListener(\"rightClick\");\n        this.activeListeners.handleDoubleClick = createMouseListener(\"doubleClick\");\n        this.activeListeners.handleWheel = createMouseListener(\"wheel\");\n        this.activeListeners.handleDown = createMouseListener(\"down\");\n        this.mouseCaptor.on(\"mousemove\", this.activeListeners.handleMove);\n        this.mouseCaptor.on(\"click\", this.activeListeners.handleClick);\n        this.mouseCaptor.on(\"rightClick\", this.activeListeners.handleRightClick);\n        this.mouseCaptor.on(\"doubleClick\", this.activeListeners.handleDoubleClick);\n        this.mouseCaptor.on(\"wheel\", this.activeListeners.handleWheel);\n        this.mouseCaptor.on(\"mousedown\", this.activeListeners.handleDown);\n        // TODO\n        // Deal with Touch captor events\n        return this;\n    };\n    /**\n     * Method binding graph handlers\n     *\n     * @return {Sigma}\n     */\n    Sigma.prototype.bindGraphHandlers = function () {\n        var _this = this;\n        var graph = this.graph;\n        this.activeListeners.graphUpdate = function () {\n            _this.scheduleRefresh();\n        };\n        this.activeListeners.dropNodeGraphUpdate = function (e) {\n            delete _this.nodeDataCache[e.key];\n            if (_this.hoveredNode === e.key)\n                _this.hoveredNode = null;\n            _this.activeListeners.graphUpdate();\n        };\n        this.activeListeners.dropEdgeGraphUpdate = function (e) {\n            delete _this.edgeDataCache[e.key];\n            if (_this.hoveredEdge === e.key)\n                _this.hoveredEdge = null;\n            _this.activeListeners.graphUpdate();\n        };\n        this.activeListeners.clearEdgesGraphUpdate = function () {\n            _this.edgeDataCache = {};\n            _this.hoveredEdge = null;\n            _this.activeListeners.graphUpdate();\n        };\n        this.activeListeners.clearGraphUpdate = function () {\n            _this.nodeDataCache = {};\n            _this.hoveredNode = null;\n            _this.activeListeners.clearEdgesGraphUpdate();\n        };\n        graph.on(\"nodeAdded\", this.activeListeners.graphUpdate);\n        graph.on(\"nodeDropped\", this.activeListeners.dropNodeGraphUpdate);\n        graph.on(\"nodeAttributesUpdated\", this.activeListeners.graphUpdate);\n        graph.on(\"eachNodeAttributesUpdated\", this.activeListeners.graphUpdate);\n        graph.on(\"edgeAdded\", this.activeListeners.graphUpdate);\n        graph.on(\"edgeDropped\", this.activeListeners.dropEdgeGraphUpdate);\n        graph.on(\"edgeAttributesUpdated\", this.activeListeners.graphUpdate);\n        graph.on(\"eachEdgeAttributesUpdated\", this.activeListeners.graphUpdate);\n        graph.on(\"edgesCleared\", this.activeListeners.clearEdgesGraphUpdate);\n        graph.on(\"cleared\", this.activeListeners.clearGraphUpdate);\n        return this;\n    };\n    /**\n     * Method used to unbind handlers from the graph.\n     *\n     * @return {undefined}\n     */\n    Sigma.prototype.unbindGraphHandlers = function () {\n        var graph = this.graph;\n        graph.removeListener(\"nodeAdded\", this.activeListeners.graphUpdate);\n        graph.removeListener(\"nodeDropped\", this.activeListeners.dropNodeGraphUpdate);\n        graph.removeListener(\"nodeAttributesUpdated\", this.activeListeners.graphUpdate);\n        graph.removeListener(\"eachNodeAttributesUpdated\", this.activeListeners.graphUpdate);\n        graph.removeListener(\"edgeAdded\", this.activeListeners.graphUpdate);\n        graph.removeListener(\"edgeDropped\", this.activeListeners.dropEdgeGraphUpdate);\n        graph.removeListener(\"edgeAttributesUpdated\", this.activeListeners.graphUpdate);\n        graph.removeListener(\"eachEdgeAttributesUpdated\", this.activeListeners.graphUpdate);\n        graph.removeListener(\"edgesCleared\", this.activeListeners.clearEdgesGraphUpdate);\n        graph.removeListener(\"cleared\", this.activeListeners.clearGraphUpdate);\n    };\n    /**\n     * Method dealing with \"leaveEdge\" and \"enterEdge\" events.\n     *\n     * @return {Sigma}\n     */\n    Sigma.prototype.checkEdgeHoverEvents = function (payload) {\n        var edgeToHover = this.hoveredNode ? null : this.getEdgeAtPoint(payload.event.x, payload.event.y);\n        if (edgeToHover !== this.hoveredEdge) {\n            if (this.hoveredEdge)\n                this.emit(\"leaveEdge\", __assign(__assign({}, payload), { edge: this.hoveredEdge }));\n            if (edgeToHover)\n                this.emit(\"enterEdge\", __assign(__assign({}, payload), { edge: edgeToHover }));\n            this.hoveredEdge = edgeToHover;\n        }\n        return this;\n    };\n    /**\n     * Method looking for an edge colliding with a given point at (x, y). Returns\n     * the key of the edge if any, or null else.\n     */\n    Sigma.prototype.getEdgeAtPoint = function (x, y) {\n        var e_1, _a;\n        var _this = this;\n        var _b = this, edgeDataCache = _b.edgeDataCache, nodeDataCache = _b.nodeDataCache;\n        // Check first that pixel is colored:\n        // Note that mouse positions must be corrected by pixel ratio to correctly\n        // index the drawing buffer.\n        if (!(0, edge_collisions_1.isPixelColored)(this.webGLContexts.edges, x * this.pixelRatio, y * this.pixelRatio))\n            return null;\n        // Check for each edge if it collides with the point:\n        var _c = this.viewportToGraph({ x: x, y: y }), graphX = _c.x, graphY = _c.y;\n        // To translate edge thicknesses to the graph system, we observe by how much\n        // the length of a non-null edge is transformed to between the graph system\n        // and the viewport system:\n        var transformationRatio = 0;\n        this.graph.someEdge(function (key, _, sourceId, targetId, _a, _b) {\n            var xs = _a.x, ys = _a.y;\n            var xt = _b.x, yt = _b.y;\n            if (edgeDataCache[key].hidden || nodeDataCache[sourceId].hidden || nodeDataCache[targetId].hidden)\n                return false;\n            if (xs !== xt || ys !== yt) {\n                var graphLength = Math.sqrt(Math.pow(xt - xs, 2) + Math.pow(yt - ys, 2));\n                var _c = _this.graphToViewport({ x: xs, y: ys }), vp_xs = _c.x, vp_ys = _c.y;\n                var _d = _this.graphToViewport({ x: xt, y: yt }), vp_xt = _d.x, vp_yt = _d.y;\n                var viewportLength = Math.sqrt(Math.pow(vp_xt - vp_xs, 2) + Math.pow(vp_yt - vp_ys, 2));\n                transformationRatio = graphLength / viewportLength;\n                return true;\n            }\n        });\n        // If no non-null edge has been found, return null:\n        if (!transformationRatio)\n            return null;\n        // Now we can look for matching edges:\n        var edges = this.graph.filterEdges(function (key, edgeAttributes, sourceId, targetId, sourcePosition, targetPosition) {\n            if (edgeDataCache[key].hidden || nodeDataCache[sourceId].hidden || nodeDataCache[targetId].hidden)\n                return false;\n            if ((0, edge_collisions_1.doEdgeCollideWithPoint)(graphX, graphY, sourcePosition.x, sourcePosition.y, targetPosition.x, targetPosition.y, \n            // Adapt the edge size to the zoom ratio:\n            (edgeDataCache[key].size * transformationRatio) / _this.cameraSizeRatio)) {\n                return true;\n            }\n        });\n        if (edges.length === 0)\n            return null; // no edges found\n        // if none of the edges have a zIndex, selected the most recently created one to match the rendering order\n        var selectedEdge = edges[edges.length - 1];\n        // otherwise select edge with highest zIndex\n        var highestZIndex = -Infinity;\n        try {\n            for (var edges_1 = __values(edges), edges_1_1 = edges_1.next(); !edges_1_1.done; edges_1_1 = edges_1.next()) {\n                var edge = edges_1_1.value;\n                var zIndex = this.graph.getEdgeAttribute(edge, \"zIndex\");\n                if (zIndex >= highestZIndex) {\n                    selectedEdge = edge;\n                    highestZIndex = zIndex;\n                }\n            }\n        }\n        catch (e_1_1) { e_1 = { error: e_1_1 }; }\n        finally {\n            try {\n                if (edges_1_1 && !edges_1_1.done && (_a = edges_1.return)) _a.call(edges_1);\n            }\n            finally { if (e_1) throw e_1.error; }\n        }\n        return selectedEdge;\n    };\n    /**\n     * Method used to process the whole graph's data.\n     *\n     * @return {Sigma}\n     */\n    Sigma.prototype.process = function () {\n        var _this = this;\n        var graph = this.graph;\n        var settings = this.settings;\n        var dimensions = this.getDimensions();\n        var nodeZExtent = [Infinity, -Infinity];\n        var edgeZExtent = [Infinity, -Infinity];\n        // Clearing the quad\n        this.quadtree.clear();\n        // Resetting the label grid\n        // TODO: it's probably better to do this explicitly or on resizes for layout and anims\n        this.labelGrid.resizeAndClear(dimensions, settings.labelGridCellSize);\n        // Clear the highlightedNodes\n        this.highlightedNodes = new Set();\n        // Computing extents\n        this.nodeExtent = (0, utils_1.graphExtent)(graph);\n        // Resetting `forceLabel` indices\n        this.nodesWithForcedLabels = [];\n        this.edgesWithForcedLabels = [];\n        // NOTE: it is important to compute this matrix after computing the node's extent\n        // because #.getGraphDimensions relies on it\n        var nullCamera = new camera_1.default();\n        var nullCameraMatrix = (0, utils_1.matrixFromCamera)(nullCamera.getState(), this.getDimensions(), this.getGraphDimensions(), this.getSetting(\"stagePadding\") || 0);\n        // Rescaling function\n        this.normalizationFunction = (0, utils_1.createNormalizationFunction)(this.customBBox || this.nodeExtent);\n        var nodesPerPrograms = {};\n        var nodes = graph.nodes();\n        for (var i = 0, l = nodes.length; i < l; i++) {\n            var node = nodes[i];\n            // Node display data resolution:\n            //   1. First we get the node's attributes\n            //   2. We optionally reduce them using the function provided by the user\n            //      Note that this function must return a total object and won't be merged\n            //   3. We apply our defaults, while running some vital checks\n            //   4. We apply the normalization function\n            // We shallow copy node data to avoid dangerous behaviors from reducers\n            var attr = Object.assign({}, graph.getNodeAttributes(node));\n            if (settings.nodeReducer)\n                attr = settings.nodeReducer(node, attr);\n            var data = applyNodeDefaults(this.settings, node, attr);\n            nodesPerPrograms[data.type] = (nodesPerPrograms[data.type] || 0) + 1;\n            this.nodeDataCache[node] = data;\n            this.normalizationFunction.applyTo(data);\n            if (data.forceLabel)\n                this.nodesWithForcedLabels.push(node);\n            if (this.settings.zIndex) {\n                if (data.zIndex < nodeZExtent[0])\n                    nodeZExtent[0] = data.zIndex;\n                if (data.zIndex > nodeZExtent[1])\n                    nodeZExtent[1] = data.zIndex;\n            }\n        }\n        for (var type in this.nodePrograms) {\n            if (!this.nodePrograms.hasOwnProperty(type)) {\n                throw new Error(\"Sigma: could not find a suitable program for node type \\\"\".concat(type, \"\\\"!\"));\n            }\n            this.nodePrograms[type].reallocate(nodesPerPrograms[type] || 0);\n            // We reset that count here, so that we can reuse it while calling the Program#process methods:\n            nodesPerPrograms[type] = 0;\n        }\n        // Handling node z-index\n        // TODO: z-index needs us to compute display data before hand\n        if (this.settings.zIndex && nodeZExtent[0] !== nodeZExtent[1])\n            nodes = (0, utils_1.zIndexOrdering)(nodeZExtent, function (node) { return _this.nodeDataCache[node].zIndex; }, nodes);\n        for (var i = 0, l = nodes.length; i < l; i++) {\n            var node = nodes[i];\n            var data = this.nodeDataCache[node];\n            this.quadtree.add(node, data.x, 1 - data.y, data.size / this.width);\n            if (typeof data.label === \"string\" && !data.hidden)\n                this.labelGrid.add(node, data.size, this.framedGraphToViewport(data, { matrix: nullCameraMatrix }));\n            var nodeProgram = this.nodePrograms[data.type];\n            if (!nodeProgram)\n                throw new Error(\"Sigma: could not find a suitable program for node type \\\"\".concat(data.type, \"\\\"!\"));\n            nodeProgram.process(nodesPerPrograms[data.type]++, data);\n            // Save the node in the highlighted set if needed\n            if (data.highlighted && !data.hidden)\n                this.highlightedNodes.add(node);\n        }\n        this.labelGrid.organize();\n        var edgesPerPrograms = {};\n        var edges = graph.edges();\n        for (var i = 0, l = edges.length; i < l; i++) {\n            var edge = edges[i];\n            // Edge display data resolution:\n            //   1. First we get the edge's attributes\n            //   2. We optionally reduce them using the function provided by the user\n            //      Note that this function must return a total object and won't be merged\n            //   3. We apply our defaults, while running some vital checks\n            // We shallow copy edge data to avoid dangerous behaviors from reducers\n            var attr = Object.assign({}, graph.getEdgeAttributes(edge));\n            if (settings.edgeReducer)\n                attr = settings.edgeReducer(edge, attr);\n            var data = applyEdgeDefaults(this.settings, edge, attr);\n            edgesPerPrograms[data.type] = (edgesPerPrograms[data.type] || 0) + 1;\n            this.edgeDataCache[edge] = data;\n            if (data.forceLabel && !data.hidden)\n                this.edgesWithForcedLabels.push(edge);\n            if (this.settings.zIndex) {\n                if (data.zIndex < edgeZExtent[0])\n                    edgeZExtent[0] = data.zIndex;\n                if (data.zIndex > edgeZExtent[1])\n                    edgeZExtent[1] = data.zIndex;\n            }\n        }\n        for (var type in this.edgePrograms) {\n            if (!this.edgePrograms.hasOwnProperty(type)) {\n                throw new Error(\"Sigma: could not find a suitable program for edge type \\\"\".concat(type, \"\\\"!\"));\n            }\n            this.edgePrograms[type].reallocate(edgesPerPrograms[type] || 0);\n            // We reset that count here, so that we can reuse it while calling the Program#process methods:\n            edgesPerPrograms[type] = 0;\n        }\n        // Handling edge z-index\n        if (this.settings.zIndex && edgeZExtent[0] !== edgeZExtent[1])\n            edges = (0, utils_1.zIndexOrdering)(edgeZExtent, function (edge) { return _this.edgeDataCache[edge].zIndex; }, edges);\n        for (var i = 0, l = edges.length; i < l; i++) {\n            var edge = edges[i];\n            var data = this.edgeDataCache[edge];\n            var extremities = graph.extremities(edge), sourceData = this.nodeDataCache[extremities[0]], targetData = this.nodeDataCache[extremities[1]];\n            this.edgePrograms[data.type].process(edgesPerPrograms[data.type]++, sourceData, targetData, data);\n        }\n        return this;\n    };\n    /**\n     * Method that backports potential settings updates where it's needed.\n     * @private\n     */\n    Sigma.prototype.handleSettingsUpdate = function () {\n        this.camera.minRatio = this.settings.minCameraRatio;\n        this.camera.maxRatio = this.settings.maxCameraRatio;\n        this.camera.setState(this.camera.validateState(this.camera.getState()));\n        return this;\n    };\n    /**\n     * Method used to render labels.\n     *\n     * @return {Sigma}\n     */\n    Sigma.prototype.renderLabels = function () {\n        if (!this.settings.renderLabels)\n            return this;\n        var cameraState = this.camera.getState();\n        // Selecting labels to draw\n        var labelsToDisplay = this.labelGrid.getLabelsToDisplay(cameraState.ratio, this.settings.labelDensity);\n        (0, extend_1.default)(labelsToDisplay, this.nodesWithForcedLabels);\n        this.displayedNodeLabels = new Set();\n        // Drawing labels\n        var context = this.canvasContexts.labels;\n        for (var i = 0, l = labelsToDisplay.length; i < l; i++) {\n            var node = labelsToDisplay[i];\n            var data = this.nodeDataCache[node];\n            // If the node was already drawn (like if it is eligible AND has\n            // `forceLabel`), we don't want to draw it again\n            // NOTE: we can do better probably\n            if (this.displayedNodeLabels.has(node))\n                continue;\n            // If the node is hidden, we don't need to display its label obviously\n            if (data.hidden)\n                continue;\n            var _a = this.framedGraphToViewport(data), x = _a.x, y = _a.y;\n            // NOTE: we can cache the labels we need to render until the camera's ratio changes\n            var size = this.scaleSize(data.size);\n            // Is node big enough?\n            if (!data.forceLabel && size < this.settings.labelRenderedSizeThreshold)\n                continue;\n            // Is node actually on screen (with some margin)\n            // NOTE: we used to rely on the quadtree for this, but the coordinates\n            // conversion make it unreliable and at that point we already converted\n            // to viewport coordinates and since the label grid already culls the\n            // number of potential labels to display this looks like a good\n            // performance compromise.\n            // NOTE: labelGrid.getLabelsToDisplay could probably optimize by not\n            // considering cells obviously outside of the range of the current\n            // view rectangle.\n            if (x < -X_LABEL_MARGIN ||\n                x > this.width + X_LABEL_MARGIN ||\n                y < -Y_LABEL_MARGIN ||\n                y > this.height + Y_LABEL_MARGIN)\n                continue;\n            // Because displayed edge labels depend directly on actually rendered node\n            // labels, we need to only add to this.displayedNodeLabels nodes whose label\n            // is rendered.\n            // This makes this.displayedNodeLabels depend on viewport, which might become\n            // an issue once we start memoizing getLabelsToDisplay.\n            this.displayedNodeLabels.add(node);\n            this.settings.labelRenderer(context, __assign(__assign({ key: node }, data), { size: size, x: x, y: y }), this.settings);\n        }\n        return this;\n    };\n    /**\n     * Method used to render edge labels, based on which node labels were\n     * rendered.\n     *\n     * @return {Sigma}\n     */\n    Sigma.prototype.renderEdgeLabels = function () {\n        if (!this.settings.renderEdgeLabels)\n            return this;\n        var context = this.canvasContexts.edgeLabels;\n        // Clearing\n        context.clearRect(0, 0, this.width, this.height);\n        var edgeLabelsToDisplay = (0, labels_1.edgeLabelsToDisplayFromNodes)({\n            graph: this.graph,\n            hoveredNode: this.hoveredNode,\n            displayedNodeLabels: this.displayedNodeLabels,\n            highlightedNodes: this.highlightedNodes,\n        }).concat(this.edgesWithForcedLabels);\n        var displayedLabels = new Set();\n        for (var i = 0, l = edgeLabelsToDisplay.length; i < l; i++) {\n            var edge = edgeLabelsToDisplay[i], extremities = this.graph.extremities(edge), sourceData = this.nodeDataCache[extremities[0]], targetData = this.nodeDataCache[extremities[1]], edgeData = this.edgeDataCache[edge];\n            // If the edge was already drawn (like if it is eligible AND has\n            // `forceLabel`), we don't want to draw it again\n            if (displayedLabels.has(edge))\n                continue;\n            // If the edge is hidden we don't need to display its label\n            // NOTE: the test on sourceData & targetData is probably paranoid at this point?\n            if (edgeData.hidden || sourceData.hidden || targetData.hidden) {\n                continue;\n            }\n            this.settings.edgeLabelRenderer(context, __assign(__assign({ key: edge }, edgeData), { size: this.scaleSize(edgeData.size) }), __assign(__assign(__assign({ key: extremities[0] }, sourceData), this.framedGraphToViewport(sourceData)), { size: this.scaleSize(sourceData.size) }), __assign(__assign(__assign({ key: extremities[1] }, targetData), this.framedGraphToViewport(targetData)), { size: this.scaleSize(targetData.size) }), this.settings);\n            displayedLabels.add(edge);\n        }\n        this.displayedEdgeLabels = displayedLabels;\n        return this;\n    };\n    /**\n     * Method used to render the highlighted nodes.\n     *\n     * @return {Sigma}\n     */\n    Sigma.prototype.renderHighlightedNodes = function () {\n        var _this = this;\n        var context = this.canvasContexts.hovers;\n        // Clearing\n        context.clearRect(0, 0, this.width, this.height);\n        // Rendering\n        var render = function (node) {\n            var data = _this.nodeDataCache[node];\n            var _a = _this.framedGraphToViewport(data), x = _a.x, y = _a.y;\n            var size = _this.scaleSize(data.size);\n            _this.settings.hoverRenderer(context, __assign(__assign({ key: node }, data), { size: size, x: x, y: y }), _this.settings);\n        };\n        var nodesToRender = [];\n        if (this.hoveredNode && !this.nodeDataCache[this.hoveredNode].hidden) {\n            nodesToRender.push(this.hoveredNode);\n        }\n        this.highlightedNodes.forEach(function (node) {\n            // The hovered node has already been highlighted\n            if (node !== _this.hoveredNode)\n                nodesToRender.push(node);\n        });\n        // Draw labels:\n        nodesToRender.forEach(function (node) { return render(node); });\n        // Draw WebGL nodes on top of the labels:\n        var nodesPerPrograms = {};\n        // 1. Count nodes per type:\n        nodesToRender.forEach(function (node) {\n            var type = _this.nodeDataCache[node].type;\n            nodesPerPrograms[type] = (nodesPerPrograms[type] || 0) + 1;\n        });\n        // 2. Allocate for each type for the proper number of nodes\n        for (var type in this.nodeHoverPrograms) {\n            this.nodeHoverPrograms[type].reallocate(nodesPerPrograms[type] || 0);\n            // Also reset count, to use when rendering:\n            nodesPerPrograms[type] = 0;\n        }\n        // 3. Process all nodes to render:\n        nodesToRender.forEach(function (node) {\n            var data = _this.nodeDataCache[node];\n            _this.nodeHoverPrograms[data.type].process(nodesPerPrograms[data.type]++, data);\n        });\n        // 4. Clear hovered nodes layer:\n        this.webGLContexts.hoverNodes.clear(this.webGLContexts.hoverNodes.COLOR_BUFFER_BIT);\n        // 5. Render:\n        for (var type in this.nodeHoverPrograms) {\n            var program = this.nodeHoverPrograms[type];\n            program.render({\n                matrix: this.matrix,\n                width: this.width,\n                height: this.height,\n                pixelRatio: this.pixelRatio,\n                zoomRatio: this.camera.ratio,\n                sizeRatio: this.settings.zoomToSizeRatioFunction(this.camera.ratio),\n                correctionRatio: this.correctionRatio,\n            });\n        }\n    };\n    /**\n     * Method used to schedule a hover render.\n     *\n     */\n    Sigma.prototype.scheduleHighlightedNodesRender = function () {\n        var _this = this;\n        if (this.renderHighlightedNodesFrame || this.renderFrame)\n            return;\n        this.renderHighlightedNodesFrame = (0, utils_1.requestFrame)(function () {\n            // Resetting state\n            _this.renderHighlightedNodesFrame = null;\n            // Rendering\n            _this.renderHighlightedNodes();\n            _this.renderEdgeLabels();\n        });\n    };\n    /**\n     * Method used to render.\n     *\n     * @return {Sigma}\n     */\n    Sigma.prototype.render = function () {\n        var _this = this;\n        this.emit(\"beforeRender\");\n        var exitRender = function () {\n            _this.emit(\"afterRender\");\n            return _this;\n        };\n        // If a render was scheduled, we cancel it\n        if (this.renderFrame) {\n            (0, utils_1.cancelFrame)(this.renderFrame);\n            this.renderFrame = null;\n        }\n        // First we need to resize\n        this.resize();\n        // Recomputing useful camera-related values:\n        this.updateCachedValues();\n        // Do we need to reprocess data?\n        if (this.needToProcess)\n            this.process();\n        this.needToProcess = false;\n        // Clearing the canvases\n        this.clear();\n        // If we have no nodes we can stop right there\n        if (!this.graph.order)\n            return exitRender();\n        // TODO: improve this heuristic or move to the captor itself?\n        // TODO: deal with the touch captor here as well\n        var mouseCaptor = this.mouseCaptor;\n        var moving = this.camera.isAnimated() ||\n            mouseCaptor.isMoving ||\n            mouseCaptor.draggedEvents ||\n            mouseCaptor.currentWheelDirection;\n        // Then we need to extract a matrix from the camera\n        var cameraState = this.camera.getState();\n        var viewportDimensions = this.getDimensions();\n        var graphDimensions = this.getGraphDimensions();\n        var padding = this.getSetting(\"stagePadding\") || 0;\n        this.matrix = (0, utils_1.matrixFromCamera)(cameraState, viewportDimensions, graphDimensions, padding);\n        this.invMatrix = (0, utils_1.matrixFromCamera)(cameraState, viewportDimensions, graphDimensions, padding, true);\n        this.correctionRatio = (0, utils_1.getMatrixImpact)(this.matrix, cameraState, viewportDimensions);\n        var params = {\n            matrix: this.matrix,\n            width: this.width,\n            height: this.height,\n            pixelRatio: this.pixelRatio,\n            zoomRatio: this.camera.ratio,\n            sizeRatio: this.settings.zoomToSizeRatioFunction(this.camera.ratio),\n            correctionRatio: this.correctionRatio,\n        };\n        // Drawing nodes\n        for (var type in this.nodePrograms) {\n            var program = this.nodePrograms[type];\n            program.render(params);\n        }\n        // Drawing edges\n        if (!this.settings.hideEdgesOnMove || !moving) {\n            for (var type in this.edgePrograms) {\n                var program = this.edgePrograms[type];\n                program.render(params);\n            }\n        }\n        // Do not display labels on move per setting\n        if (this.settings.hideLabelsOnMove && moving)\n            return exitRender();\n        this.renderLabels();\n        this.renderEdgeLabels();\n        this.renderHighlightedNodes();\n        return exitRender();\n    };\n    /**\n     * Internal method used to update expensive and therefore cached values\n     * each time the camera state is updated.\n     */\n    Sigma.prototype.updateCachedValues = function () {\n        var ratio = this.camera.getState().ratio;\n        this.cameraSizeRatio = this.settings.zoomToSizeRatioFunction(ratio);\n    };\n    /**---------------------------------------------------------------------------\n     * Public API.\n     **---------------------------------------------------------------------------\n     */\n    /**\n     * Method returning the renderer's camera.\n     *\n     * @return {Camera}\n     */\n    Sigma.prototype.getCamera = function () {\n        return this.camera;\n    };\n    /**\n     * Method returning the container DOM element.\n     *\n     * @return {HTMLElement}\n     */\n    Sigma.prototype.getContainer = function () {\n        return this.container;\n    };\n    /**\n     * Method returning the renderer's graph.\n     *\n     * @return {Graph}\n     */\n    Sigma.prototype.getGraph = function () {\n        return this.graph;\n    };\n    /**\n     * Method used to set the renderer's graph.\n     *\n     * @return {Graph}\n     */\n    Sigma.prototype.setGraph = function (graph) {\n        if (graph === this.graph)\n            return;\n        // Unbinding handlers on the current graph\n        this.unbindGraphHandlers();\n        // Clearing the graph data caches\n        this.nodeDataCache = {};\n        this.edgeDataCache = {};\n        // Cleaning renderer state tied to the current graph\n        this.displayedNodeLabels.clear();\n        this.displayedEdgeLabels.clear();\n        this.highlightedNodes.clear();\n        this.hoveredNode = null;\n        this.hoveredEdge = null;\n        this.nodesWithForcedLabels.length = 0;\n        this.edgesWithForcedLabels.length = 0;\n        if (this.checkEdgesEventsFrame !== null) {\n            (0, utils_1.cancelFrame)(this.checkEdgesEventsFrame);\n            this.checkEdgesEventsFrame = null;\n        }\n        // Installing new graph\n        this.graph = graph;\n        // Binding new handlers\n        this.bindGraphHandlers();\n        // Re-rendering now to avoid discrepancies from now to next frame\n        this.refresh();\n    };\n    /**\n     * Method returning the mouse captor.\n     *\n     * @return {MouseCaptor}\n     */\n    Sigma.prototype.getMouseCaptor = function () {\n        return this.mouseCaptor;\n    };\n    /**\n     * Method returning the touch captor.\n     *\n     * @return {TouchCaptor}\n     */\n    Sigma.prototype.getTouchCaptor = function () {\n        return this.touchCaptor;\n    };\n    /**\n     * Method returning the current renderer's dimensions.\n     *\n     * @return {Dimensions}\n     */\n    Sigma.prototype.getDimensions = function () {\n        return { width: this.width, height: this.height };\n    };\n    /**\n     * Method returning the current graph's dimensions.\n     *\n     * @return {Dimensions}\n     */\n    Sigma.prototype.getGraphDimensions = function () {\n        var extent = this.customBBox || this.nodeExtent;\n        return {\n            width: extent.x[1] - extent.x[0] || 1,\n            height: extent.y[1] - extent.y[0] || 1,\n        };\n    };\n    /**\n     * Method used to get all the sigma node attributes.\n     * It's usefull for example to get the position of a node\n     * and to get values that are set by the nodeReducer\n     *\n     * @param  {string} key - The node's key.\n     * @return {NodeDisplayData | undefined} A copy of the desired node's attribute or undefined if not found\n     */\n    Sigma.prototype.getNodeDisplayData = function (key) {\n        var node = this.nodeDataCache[key];\n        return node ? Object.assign({}, node) : undefined;\n    };\n    /**\n     * Method used to get all the sigma edge attributes.\n     * It's usefull for example to get values that are set by the edgeReducer.\n     *\n     * @param  {string} key - The edge's key.\n     * @return {EdgeDisplayData | undefined} A copy of the desired edge's attribute or undefined if not found\n     */\n    Sigma.prototype.getEdgeDisplayData = function (key) {\n        var edge = this.edgeDataCache[key];\n        return edge ? Object.assign({}, edge) : undefined;\n    };\n    /**\n     * Method used to get the set of currently displayed node labels.\n     *\n     * @return {Set<string>} A set of node keys whose label is displayed.\n     */\n    Sigma.prototype.getNodeDisplayedLabels = function () {\n        return new Set(this.displayedNodeLabels);\n    };\n    /**\n     * Method used to get the set of currently displayed edge labels.\n     *\n     * @return {Set<string>} A set of edge keys whose label is displayed.\n     */\n    Sigma.prototype.getEdgeDisplayedLabels = function () {\n        return new Set(this.displayedEdgeLabels);\n    };\n    /**\n     * Method returning a copy of the settings collection.\n     *\n     * @return {Settings} A copy of the settings collection.\n     */\n    Sigma.prototype.getSettings = function () {\n        return __assign({}, this.settings);\n    };\n    /**\n     * Method returning the current value for a given setting key.\n     *\n     * @param  {string} key - The setting key to get.\n     * @return {any} The value attached to this setting key or undefined if not found\n     */\n    Sigma.prototype.getSetting = function (key) {\n        return this.settings[key];\n    };\n    /**\n     * Method setting the value of a given setting key. Note that this will schedule\n     * a new render next frame.\n     *\n     * @param  {string} key - The setting key to set.\n     * @param  {any}    value - The value to set.\n     * @return {Sigma}\n     */\n    Sigma.prototype.setSetting = function (key, value) {\n        this.settings[key] = value;\n        (0, settings_1.validateSettings)(this.settings);\n        this.handleSettingsUpdate();\n        this.scheduleRefresh();\n        return this;\n    };\n    /**\n     * Method updating the value of a given setting key using the provided function.\n     * Note that this will schedule a new render next frame.\n     *\n     * @param  {string}   key     - The setting key to set.\n     * @param  {function} updater - The update function.\n     * @return {Sigma}\n     */\n    Sigma.prototype.updateSetting = function (key, updater) {\n        this.settings[key] = updater(this.settings[key]);\n        (0, settings_1.validateSettings)(this.settings);\n        this.handleSettingsUpdate();\n        this.scheduleRefresh();\n        return this;\n    };\n    /**\n     * Method used to resize the renderer.\n     *\n     * @return {Sigma}\n     */\n    Sigma.prototype.resize = function () {\n        var previousWidth = this.width, previousHeight = this.height;\n        this.width = this.container.offsetWidth;\n        this.height = this.container.offsetHeight;\n        this.pixelRatio = (0, utils_1.getPixelRatio)();\n        if (this.width === 0) {\n            if (this.settings.allowInvalidContainer)\n                this.width = 1;\n            else\n                throw new Error(\"Sigma: Container has no width. You can set the allowInvalidContainer setting to true to stop seeing this error.\");\n        }\n        if (this.height === 0) {\n            if (this.settings.allowInvalidContainer)\n                this.height = 1;\n            else\n                throw new Error(\"Sigma: Container has no height. You can set the allowInvalidContainer setting to true to stop seeing this error.\");\n        }\n        // If nothing has changed, we can stop right here\n        if (previousWidth === this.width && previousHeight === this.height)\n            return this;\n        this.emit(\"resize\");\n        // Sizing dom elements\n        for (var id in this.elements) {\n            var element = this.elements[id];\n            element.style.width = this.width + \"px\";\n            element.style.height = this.height + \"px\";\n        }\n        // Sizing canvas contexts\n        for (var id in this.canvasContexts) {\n            this.elements[id].setAttribute(\"width\", this.width * this.pixelRatio + \"px\");\n            this.elements[id].setAttribute(\"height\", this.height * this.pixelRatio + \"px\");\n            if (this.pixelRatio !== 1)\n                this.canvasContexts[id].scale(this.pixelRatio, this.pixelRatio);\n        }\n        // Sizing WebGL contexts\n        for (var id in this.webGLContexts) {\n            this.elements[id].setAttribute(\"width\", this.width * this.pixelRatio + \"px\");\n            this.elements[id].setAttribute(\"height\", this.height * this.pixelRatio + \"px\");\n            this.webGLContexts[id].viewport(0, 0, this.width * this.pixelRatio, this.height * this.pixelRatio);\n        }\n        return this;\n    };\n    /**\n     * Method used to clear all the canvases.\n     *\n     * @return {Sigma}\n     */\n    Sigma.prototype.clear = function () {\n        this.webGLContexts.nodes.clear(this.webGLContexts.nodes.COLOR_BUFFER_BIT);\n        this.webGLContexts.edges.clear(this.webGLContexts.edges.COLOR_BUFFER_BIT);\n        this.webGLContexts.hoverNodes.clear(this.webGLContexts.hoverNodes.COLOR_BUFFER_BIT);\n        this.canvasContexts.labels.clearRect(0, 0, this.width, this.height);\n        this.canvasContexts.hovers.clearRect(0, 0, this.width, this.height);\n        this.canvasContexts.edgeLabels.clearRect(0, 0, this.width, this.height);\n        return this;\n    };\n    /**\n     * Method used to refresh, i.e. force the renderer to fully reprocess graph\n     * data and render.\n     *\n     * @return {Sigma}\n     */\n    Sigma.prototype.refresh = function () {\n        this.needToProcess = true;\n        this.render();\n        return this;\n    };\n    /**\n     * Method used to schedule a render at the next available frame.\n     * This method can be safely called on a same frame because it basically\n     * debounce refresh to the next frame.\n     *\n     * @return {Sigma}\n     */\n    Sigma.prototype.scheduleRender = function () {\n        var _this = this;\n        if (!this.renderFrame) {\n            this.renderFrame = (0, utils_1.requestFrame)(function () {\n                _this.render();\n            });\n        }\n        return this;\n    };\n    /**\n     * Method used to schedule a refresh (i.e. fully reprocess graph data and render)\n     * at the next available frame.\n     * This method can be safely called on a same frame because it basically\n     * debounce refresh to the next frame.\n     *\n     * @return {Sigma}\n     */\n    Sigma.prototype.scheduleRefresh = function () {\n        this.needToProcess = true;\n        this.scheduleRender();\n        return this;\n    };\n    /**\n     * Method used to (un)zoom, while preserving the position of a viewport point.\n     * Used for instance to zoom \"on the mouse cursor\".\n     *\n     * @param viewportTarget\n     * @param newRatio\n     * @return {CameraState}\n     */\n    Sigma.prototype.getViewportZoomedState = function (viewportTarget, newRatio) {\n        var _a = this.camera.getState(), ratio = _a.ratio, angle = _a.angle, x = _a.x, y = _a.y;\n        // TODO: handle max zoom\n        var ratioDiff = newRatio / ratio;\n        var center = {\n            x: this.width / 2,\n            y: this.height / 2,\n        };\n        var graphMousePosition = this.viewportToFramedGraph(viewportTarget);\n        var graphCenterPosition = this.viewportToFramedGraph(center);\n        return {\n            angle: angle,\n            x: (graphMousePosition.x - graphCenterPosition.x) * (1 - ratioDiff) + x,\n            y: (graphMousePosition.y - graphCenterPosition.y) * (1 - ratioDiff) + y,\n            ratio: newRatio,\n        };\n    };\n    /**\n     * Method returning the abstract rectangle containing the graph according\n     * to the camera's state.\n     *\n     * @return {object} - The view's rectangle.\n     */\n    Sigma.prototype.viewRectangle = function () {\n        // TODO: reduce relative margin?\n        var marginX = (0 * this.width) / 8, marginY = (0 * this.height) / 8;\n        var p1 = this.viewportToFramedGraph({ x: 0 - marginX, y: 0 - marginY }), p2 = this.viewportToFramedGraph({ x: this.width + marginX, y: 0 - marginY }), h = this.viewportToFramedGraph({ x: 0, y: this.height + marginY });\n        return {\n            x1: p1.x,\n            y1: p1.y,\n            x2: p2.x,\n            y2: p2.y,\n            height: p2.y - h.y,\n        };\n    };\n    /**\n     * Method returning the coordinates of a point from the framed graph system to the viewport system. It allows\n     * overriding anything that is used to get the translation matrix, or even the matrix itself.\n     *\n     * Be careful if overriding dimensions, padding or cameraState, as the computation of the matrix is not the lightest\n     * of computations.\n     */\n    Sigma.prototype.framedGraphToViewport = function (coordinates, override) {\n        if (override === void 0) { override = {}; }\n        var recomputeMatrix = !!override.cameraState || !!override.viewportDimensions || !!override.graphDimensions;\n        var matrix = override.matrix\n            ? override.matrix\n            : recomputeMatrix\n                ? (0, utils_1.matrixFromCamera)(override.cameraState || this.camera.getState(), override.viewportDimensions || this.getDimensions(), override.graphDimensions || this.getGraphDimensions(), override.padding || this.getSetting(\"stagePadding\") || 0)\n                : this.matrix;\n        var viewportPos = (0, matrices_1.multiplyVec2)(matrix, coordinates);\n        return {\n            x: ((1 + viewportPos.x) * this.width) / 2,\n            y: ((1 - viewportPos.y) * this.height) / 2,\n        };\n    };\n    /**\n     * Method returning the coordinates of a point from the viewport system to the framed graph system. It allows\n     * overriding anything that is used to get the translation matrix, or even the matrix itself.\n     *\n     * Be careful if overriding dimensions, padding or cameraState, as the computation of the matrix is not the lightest\n     * of computations.\n     */\n    Sigma.prototype.viewportToFramedGraph = function (coordinates, override) {\n        if (override === void 0) { override = {}; }\n        var recomputeMatrix = !!override.cameraState || !!override.viewportDimensions || !override.graphDimensions;\n        var invMatrix = override.matrix\n            ? override.matrix\n            : recomputeMatrix\n                ? (0, utils_1.matrixFromCamera)(override.cameraState || this.camera.getState(), override.viewportDimensions || this.getDimensions(), override.graphDimensions || this.getGraphDimensions(), override.padding || this.getSetting(\"stagePadding\") || 0, true)\n                : this.invMatrix;\n        var res = (0, matrices_1.multiplyVec2)(invMatrix, {\n            x: (coordinates.x / this.width) * 2 - 1,\n            y: 1 - (coordinates.y / this.height) * 2,\n        });\n        if (isNaN(res.x))\n            res.x = 0;\n        if (isNaN(res.y))\n            res.y = 0;\n        return res;\n    };\n    /**\n     * Method used to translate a point's coordinates from the viewport system (pixel distance from the top-left of the\n     * stage) to the graph system (the reference system of data as they are in the given graph instance).\n     *\n     * This method accepts an optional camera which can be useful if you need to translate coordinates\n     * based on a different view than the one being currently being displayed on screen.\n     *\n     * @param {Coordinates}                  viewportPoint\n     * @param {CoordinateConversionOverride} override\n     */\n    Sigma.prototype.viewportToGraph = function (viewportPoint, override) {\n        if (override === void 0) { override = {}; }\n        return this.normalizationFunction.inverse(this.viewportToFramedGraph(viewportPoint, override));\n    };\n    /**\n     * Method used to translate a point's coordinates from the graph system (the reference system of data as they are in\n     * the given graph instance) to the viewport system (pixel distance from the top-left of the stage).\n     *\n     * This method accepts an optional camera which can be useful if you need to translate coordinates\n     * based on a different view than the one being currently being displayed on screen.\n     *\n     * @param {Coordinates}                  graphPoint\n     * @param {CoordinateConversionOverride} override\n     */\n    Sigma.prototype.graphToViewport = function (graphPoint, override) {\n        if (override === void 0) { override = {}; }\n        return this.framedGraphToViewport(this.normalizationFunction(graphPoint), override);\n    };\n    /**\n     * Method returning the graph's bounding box.\n     *\n     * @return {{ x: Extent, y: Extent }}\n     */\n    Sigma.prototype.getBBox = function () {\n        return (0, utils_1.graphExtent)(this.graph);\n    };\n    /**\n     * Method returning the graph's custom bounding box, if any.\n     *\n     * @return {{ x: Extent, y: Extent } | null}\n     */\n    Sigma.prototype.getCustomBBox = function () {\n        return this.customBBox;\n    };\n    /**\n     * Method used to override the graph's bounding box with a custom one. Give `null` as the argument to stop overriding.\n     *\n     * @return {Sigma}\n     */\n    Sigma.prototype.setCustomBBox = function (customBBox) {\n        this.customBBox = customBBox;\n        this.scheduleRender();\n        return this;\n    };\n    /**\n     * Method used to shut the container & release event listeners.\n     *\n     * @return {undefined}\n     */\n    Sigma.prototype.kill = function () {\n        // Emitting \"kill\" events so that plugins and such can cleanup\n        this.emit(\"kill\");\n        // Releasing events\n        this.removeAllListeners();\n        // Releasing camera handlers\n        this.camera.removeListener(\"updated\", this.activeListeners.camera);\n        // Releasing DOM events & captors\n        window.removeEventListener(\"resize\", this.activeListeners.handleResize);\n        this.mouseCaptor.kill();\n        this.touchCaptor.kill();\n        // Releasing graph handlers\n        this.unbindGraphHandlers();\n        // Releasing cache & state\n        this.quadtree = new quadtree_1.default();\n        this.nodeDataCache = {};\n        this.edgeDataCache = {};\n        this.nodesWithForcedLabels = [];\n        this.edgesWithForcedLabels = [];\n        this.highlightedNodes.clear();\n        // Clearing frames\n        if (this.renderFrame) {\n            (0, utils_1.cancelFrame)(this.renderFrame);\n            this.renderFrame = null;\n        }\n        if (this.renderHighlightedNodesFrame) {\n            (0, utils_1.cancelFrame)(this.renderHighlightedNodesFrame);\n            this.renderHighlightedNodesFrame = null;\n        }\n        // Destroying canvases\n        var container = this.container;\n        while (container.firstChild)\n            container.removeChild(container.firstChild);\n    };\n    /**\n     * Method used to scale the given size according to the camera's ratio, i.e.\n     * zooming state.\n     *\n     * @param  {number} size - The size to scale (node size, edge thickness etc.).\n     * @return {number}      - The scaled size.\n     */\n    Sigma.prototype.scaleSize = function (size) {\n        return size / this.cameraSizeRatio;\n    };\n    /**\n     * Method that returns the collection of all used canvases.\n     * At the moment, the instantiated canvases are the following, and in the\n     * following order in the DOM:\n     * - `edges`\n     * - `nodes`\n     * - `edgeLabels`\n     * - `labels`\n     * - `hovers`\n     * - `hoverNodes`\n     * - `mouse`\n     *\n     * @return {PlainObject<HTMLCanvasElement>} - The collection of canvases.\n     */\n    Sigma.prototype.getCanvases = function () {\n        return __assign({}, this.elements);\n    };\n    return Sigma;\n}(types_1.TypedEventEmitter));\nexports.default = Sigma;\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.TypedEventEmitter = void 0;\n/**\n * Sigma.js Types\n * ===============\n *\n * Various type declarations used throughout the library.\n * @module\n */\nvar events_1 = require(\"events\");\nvar TypedEventEmitter = /** @class */ (function (_super) {\n    __extends(TypedEventEmitter, _super);\n    function TypedEventEmitter() {\n        var _this = _super.call(this) || this;\n        _this.rawEmitter = _this;\n        return _this;\n    }\n    return TypedEventEmitter;\n}(events_1.EventEmitter));\nexports.TypedEventEmitter = TypedEventEmitter;\n","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.animateNodes = exports.ANIMATE_DEFAULTS = void 0;\nvar index_1 = require(\"./index\");\nvar easings_1 = __importDefault(require(\"./easings\"));\nexports.ANIMATE_DEFAULTS = {\n    easing: \"quadraticInOut\",\n    duration: 150,\n};\n/**\n * Function used to animate the nodes.\n */\nfunction animateNodes(graph, targets, opts, callback) {\n    var options = Object.assign({}, exports.ANIMATE_DEFAULTS, opts);\n    var easing = typeof options.easing === \"function\" ? options.easing : easings_1.default[options.easing];\n    var start = Date.now();\n    var startPositions = {};\n    for (var node in targets) {\n        var attrs = targets[node];\n        startPositions[node] = {};\n        for (var k in attrs)\n            startPositions[node][k] = graph.getNodeAttribute(node, k);\n    }\n    var frame = null;\n    var step = function () {\n        frame = null;\n        var p = (Date.now() - start) / options.duration;\n        if (p >= 1) {\n            // Animation is done\n            for (var node in targets) {\n                var attrs = targets[node];\n                // We use given values to avoid precision issues and for convenience\n                for (var k in attrs)\n                    graph.setNodeAttribute(node, k, attrs[k]);\n            }\n            if (typeof callback === \"function\")\n                callback();\n            return;\n        }\n        p = easing(p);\n        for (var node in targets) {\n            var attrs = targets[node];\n            var s = startPositions[node];\n            for (var k in attrs)\n                graph.setNodeAttribute(node, k, attrs[k] * p + s[k] * (1 - p));\n        }\n        frame = (0, index_1.requestFrame)(step);\n    };\n    step();\n    return function () {\n        if (frame)\n            (0, index_1.cancelFrame)(frame);\n    };\n}\nexports.animateNodes = animateNodes;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.HTML_COLORS = void 0;\nexports.HTML_COLORS = {\n    black: \"#000000\",\n    silver: \"#C0C0C0\",\n    gray: \"#808080\",\n    grey: \"#808080\",\n    white: \"#FFFFFF\",\n    maroon: \"#800000\",\n    red: \"#FF0000\",\n    purple: \"#800080\",\n    fuchsia: \"#FF00FF\",\n    green: \"#008000\",\n    lime: \"#00FF00\",\n    olive: \"#808000\",\n    yellow: \"#FFFF00\",\n    navy: \"#000080\",\n    blue: \"#0000FF\",\n    teal: \"#008080\",\n    aqua: \"#00FFFF\",\n    darkblue: \"#00008B\",\n    mediumblue: \"#0000CD\",\n    darkgreen: \"#006400\",\n    darkcyan: \"#008B8B\",\n    deepskyblue: \"#00BFFF\",\n    darkturquoise: \"#00CED1\",\n    mediumspringgreen: \"#00FA9A\",\n    springgreen: \"#00FF7F\",\n    cyan: \"#00FFFF\",\n    midnightblue: \"#191970\",\n    dodgerblue: \"#1E90FF\",\n    lightseagreen: \"#20B2AA\",\n    forestgreen: \"#228B22\",\n    seagreen: \"#2E8B57\",\n    darkslategray: \"#2F4F4F\",\n    darkslategrey: \"#2F4F4F\",\n    limegreen: \"#32CD32\",\n    mediumseagreen: \"#3CB371\",\n    turquoise: \"#40E0D0\",\n    royalblue: \"#4169E1\",\n    steelblue: \"#4682B4\",\n    darkslateblue: \"#483D8B\",\n    mediumturquoise: \"#48D1CC\",\n    indigo: \"#4B0082\",\n    darkolivegreen: \"#556B2F\",\n    cadetblue: \"#5F9EA0\",\n    cornflowerblue: \"#6495ED\",\n    rebeccapurple: \"#663399\",\n    mediumaquamarine: \"#66CDAA\",\n    dimgray: \"#696969\",\n    dimgrey: \"#696969\",\n    slateblue: \"#6A5ACD\",\n    olivedrab: \"#6B8E23\",\n    slategray: \"#708090\",\n    slategrey: \"#708090\",\n    lightslategray: \"#778899\",\n    lightslategrey: \"#778899\",\n    mediumslateblue: \"#7B68EE\",\n    lawngreen: \"#7CFC00\",\n    chartreuse: \"#7FFF00\",\n    aquamarine: \"#7FFFD4\",\n    skyblue: \"#87CEEB\",\n    lightskyblue: \"#87CEFA\",\n    blueviolet: \"#8A2BE2\",\n    darkred: \"#8B0000\",\n    darkmagenta: \"#8B008B\",\n    saddlebrown: \"#8B4513\",\n    darkseagreen: \"#8FBC8F\",\n    lightgreen: \"#90EE90\",\n    mediumpurple: \"#9370DB\",\n    darkviolet: \"#9400D3\",\n    palegreen: \"#98FB98\",\n    darkorchid: \"#9932CC\",\n    yellowgreen: \"#9ACD32\",\n    sienna: \"#A0522D\",\n    brown: \"#A52A2A\",\n    darkgray: \"#A9A9A9\",\n    darkgrey: \"#A9A9A9\",\n    lightblue: \"#ADD8E6\",\n    greenyellow: \"#ADFF2F\",\n    paleturquoise: \"#AFEEEE\",\n    lightsteelblue: \"#B0C4DE\",\n    powderblue: \"#B0E0E6\",\n    firebrick: \"#B22222\",\n    darkgoldenrod: \"#B8860B\",\n    mediumorchid: \"#BA55D3\",\n    rosybrown: \"#BC8F8F\",\n    darkkhaki: \"#BDB76B\",\n    mediumvioletred: \"#C71585\",\n    indianred: \"#CD5C5C\",\n    peru: \"#CD853F\",\n    chocolate: \"#D2691E\",\n    tan: \"#D2B48C\",\n    lightgray: \"#D3D3D3\",\n    lightgrey: \"#D3D3D3\",\n    thistle: \"#D8BFD8\",\n    orchid: \"#DA70D6\",\n    goldenrod: \"#DAA520\",\n    palevioletred: \"#DB7093\",\n    crimson: \"#DC143C\",\n    gainsboro: \"#DCDCDC\",\n    plum: \"#DDA0DD\",\n    burlywood: \"#DEB887\",\n    lightcyan: \"#E0FFFF\",\n    lavender: \"#E6E6FA\",\n    darksalmon: \"#E9967A\",\n    violet: \"#EE82EE\",\n    palegoldenrod: \"#EEE8AA\",\n    lightcoral: \"#F08080\",\n    khaki: \"#F0E68C\",\n    aliceblue: \"#F0F8FF\",\n    honeydew: \"#F0FFF0\",\n    azure: \"#F0FFFF\",\n    sandybrown: \"#F4A460\",\n    wheat: \"#F5DEB3\",\n    beige: \"#F5F5DC\",\n    whitesmoke: \"#F5F5F5\",\n    mintcream: \"#F5FFFA\",\n    ghostwhite: \"#F8F8FF\",\n    salmon: \"#FA8072\",\n    antiquewhite: \"#FAEBD7\",\n    linen: \"#FAF0E6\",\n    lightgoldenrodyellow: \"#FAFAD2\",\n    oldlace: \"#FDF5E6\",\n    magenta: \"#FF00FF\",\n    deeppink: \"#FF1493\",\n    orangered: \"#FF4500\",\n    tomato: \"#FF6347\",\n    hotpink: \"#FF69B4\",\n    coral: \"#FF7F50\",\n    darkorange: \"#FF8C00\",\n    lightsalmon: \"#FFA07A\",\n    orange: \"#FFA500\",\n    lightpink: \"#FFB6C1\",\n    pink: \"#FFC0CB\",\n    gold: \"#FFD700\",\n    peachpuff: \"#FFDAB9\",\n    navajowhite: \"#FFDEAD\",\n    moccasin: \"#FFE4B5\",\n    bisque: \"#FFE4C4\",\n    mistyrose: \"#FFE4E1\",\n    blanchedalmond: \"#FFEBCD\",\n    papayawhip: \"#FFEFD5\",\n    lavenderblush: \"#FFF0F5\",\n    seashell: \"#FFF5EE\",\n    cornsilk: \"#FFF8DC\",\n    lemonchiffon: \"#FFFACD\",\n    floralwhite: \"#FFFAF0\",\n    snow: \"#FFFAFA\",\n    lightyellow: \"#FFFFE0\",\n    ivory: \"#FFFFF0\",\n};\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.cubicInOut = exports.cubicOut = exports.cubicIn = exports.quadraticInOut = exports.quadraticOut = exports.quadraticIn = exports.linear = void 0;\n/**\n * Sigma.js Easings\n * =================\n *\n * Handy collection of easing functions.\n * @module\n */\nvar linear = function (k) { return k; };\nexports.linear = linear;\nvar quadraticIn = function (k) { return k * k; };\nexports.quadraticIn = quadraticIn;\nvar quadraticOut = function (k) { return k * (2 - k); };\nexports.quadraticOut = quadraticOut;\nvar quadraticInOut = function (k) {\n    if ((k *= 2) < 1)\n        return 0.5 * k * k;\n    return -0.5 * (--k * (k - 2) - 1);\n};\nexports.quadraticInOut = quadraticInOut;\nvar cubicIn = function (k) { return k * k * k; };\nexports.cubicIn = cubicIn;\nvar cubicOut = function (k) { return --k * k * k + 1; };\nexports.cubicOut = cubicOut;\nvar cubicInOut = function (k) {\n    if ((k *= 2) < 1)\n        return 0.5 * k * k * k;\n    return 0.5 * ((k -= 2) * k * k + 2);\n};\nexports.cubicInOut = cubicInOut;\nvar easings = {\n    linear: exports.linear,\n    quadraticIn: exports.quadraticIn,\n    quadraticOut: exports.quadraticOut,\n    quadraticInOut: exports.quadraticInOut,\n    cubicIn: exports.cubicIn,\n    cubicOut: exports.cubicOut,\n    cubicInOut: exports.cubicInOut,\n};\nexports.default = easings;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.doEdgeCollideWithPoint = exports.isPixelColored = void 0;\n/**\n * This helper returns true is the pixel at (x,y) in the given WebGL context is\n * colored, and false else.\n */\nfunction isPixelColored(gl, x, y) {\n    var pixels = new Uint8Array(4);\n    gl.readPixels(x, gl.drawingBufferHeight - y, 1, 1, gl.RGBA, gl.UNSIGNED_BYTE, pixels);\n    return pixels[3] > 0;\n}\nexports.isPixelColored = isPixelColored;\n/**\n * This helper checks whether or not a point (x, y) collides with an\n * edge, connecting a source (xS, yS) to a target (xT, yT) with a thickness in\n * pixels.\n */\nfunction doEdgeCollideWithPoint(x, y, xS, yS, xT, yT, thickness) {\n    // Check first if point is out of the rectangle which opposite corners are the\n    // source and the target, rectangle we expand by `thickness` in every\n    // directions:\n    if (x < xS - thickness && x < xT - thickness)\n        return false;\n    if (y < yS - thickness && y < yT - thickness)\n        return false;\n    if (x > xS + thickness && x > xT + thickness)\n        return false;\n    if (y > yS + thickness && y > yT + thickness)\n        return false;\n    // Check actual collision now: Since we now the point is in this big rectangle\n    // we \"just\" need to check that the distance between the point and the line\n    // connecting the source and the target is less than `thickness`:\n    // https://en.wikipedia.org/wiki/Distance_from_a_point_to_a_line\n    var distance = Math.abs((xT - xS) * (yS - y) - (xS - x) * (yT - yS)) / Math.sqrt(Math.pow(xT - xS, 2) + Math.pow(yT - yS, 2));\n    return distance < thickness / 2;\n}\nexports.doEdgeCollideWithPoint = doEdgeCollideWithPoint;\n","\"use strict\";\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.validateGraph = exports.canUse32BitsIndices = exports.extractPixel = exports.getMatrixImpact = exports.matrixFromCamera = exports.getCorrectionRatio = exports.floatColor = exports.floatArrayColor = exports.parseColor = exports.zIndexOrdering = exports.createNormalizationFunction = exports.graphExtent = exports.getPixelRatio = exports.createElement = exports.cancelFrame = exports.requestFrame = exports.assignDeep = exports.assign = exports.isPlainObject = void 0;\nvar is_graph_1 = __importDefault(require(\"graphology-utils/is-graph\"));\nvar matrices_1 = require(\"./matrices\");\nvar data_1 = require(\"./data\");\n/**\n * Checks whether the given value is a plain object.\n *\n * @param  {mixed}   value - Target value.\n * @return {boolean}\n */\n// eslint-disable-next-line @typescript-eslint/no-explicit-any, @typescript-eslint/explicit-module-boundary-types\nfunction isPlainObject(value) {\n    return typeof value === \"object\" && value !== null && value.constructor === Object;\n}\nexports.isPlainObject = isPlainObject;\n/**\n * Helper to use Object.assign with more than two objects.\n *\n * @param  {object} target       - First object.\n * @param  {object} [...objects] - Objects to merge.\n * @return {object}\n */\nfunction assign(target) {\n    var objects = [];\n    for (var _i = 1; _i < arguments.length; _i++) {\n        objects[_i - 1] = arguments[_i];\n    }\n    target = target || {};\n    for (var i = 0, l = objects.length; i < l; i++) {\n        var o = objects[i];\n        if (!o)\n            continue;\n        Object.assign(target, o);\n    }\n    return target;\n}\nexports.assign = assign;\n/**\n * Very simple recursive Object.assign-like function.\n *\n * @param  {object} target       - First object.\n * @param  {object} [...objects] - Objects to merge.\n * @return {object}\n */\nfunction assignDeep(target) {\n    var objects = [];\n    for (var _i = 1; _i < arguments.length; _i++) {\n        objects[_i - 1] = arguments[_i];\n    }\n    target = target || {};\n    for (var i = 0, l = objects.length; i < l; i++) {\n        var o = objects[i];\n        if (!o)\n            continue;\n        for (var k in o) {\n            if (isPlainObject(o[k])) {\n                target[k] = assignDeep(target[k], o[k]);\n            }\n            else {\n                target[k] = o[k];\n            }\n        }\n    }\n    return target;\n}\nexports.assignDeep = assignDeep;\n/**\n * Just some dirty trick to make requestAnimationFrame and cancelAnimationFrame \"work\" in Node.js, for unit tests:\n */\nexports.requestFrame = typeof requestAnimationFrame !== \"undefined\"\n    ? function (callback) { return requestAnimationFrame(callback); }\n    : function (callback) { return setTimeout(callback, 0); };\nexports.cancelFrame = typeof cancelAnimationFrame !== \"undefined\"\n    ? function (requestID) { return cancelAnimationFrame(requestID); }\n    : function (requestID) { return clearTimeout(requestID); };\n/**\n * Function used to create DOM elements easily.\n *\n * @param  {string} tag        - Tag name of the element to create.\n * @param  {object} style      - Styles map.\n * @param  {object} attributes - Attributes map.\n * @return {HTMLElement}\n */\nfunction createElement(tag, style, attributes) {\n    var element = document.createElement(tag);\n    if (style) {\n        for (var k in style) {\n            element.style[k] = style[k];\n        }\n    }\n    if (attributes) {\n        for (var k in attributes) {\n            element.setAttribute(k, attributes[k]);\n        }\n    }\n    return element;\n}\nexports.createElement = createElement;\n/**\n * Function returning the browser's pixel ratio.\n *\n * @return {number}\n */\nfunction getPixelRatio() {\n    if (typeof window.devicePixelRatio !== \"undefined\")\n        return window.devicePixelRatio;\n    return 1;\n}\nexports.getPixelRatio = getPixelRatio;\n/**\n * Function returning the graph's node extent in x & y.\n *\n * @param  {Graph}\n * @return {object}\n */\nfunction graphExtent(graph) {\n    if (!graph.order)\n        return { x: [0, 1], y: [0, 1] };\n    var xMin = Infinity;\n    var xMax = -Infinity;\n    var yMin = Infinity;\n    var yMax = -Infinity;\n    graph.forEachNode(function (_, attr) {\n        var x = attr.x, y = attr.y;\n        if (x < xMin)\n            xMin = x;\n        if (x > xMax)\n            xMax = x;\n        if (y < yMin)\n            yMin = y;\n        if (y > yMax)\n            yMax = y;\n    });\n    return { x: [xMin, xMax], y: [yMin, yMax] };\n}\nexports.graphExtent = graphExtent;\nfunction createNormalizationFunction(extent) {\n    var _a = __read(extent.x, 2), minX = _a[0], maxX = _a[1], _b = __read(extent.y, 2), minY = _b[0], maxY = _b[1];\n    var ratio = Math.max(maxX - minX, maxY - minY), dX = (maxX + minX) / 2, dY = (maxY + minY) / 2;\n    if (ratio === 0 || Math.abs(ratio) === Infinity || isNaN(ratio))\n        ratio = 1;\n    if (isNaN(dX))\n        dX = 0;\n    if (isNaN(dY))\n        dY = 0;\n    var fn = function (data) {\n        return {\n            x: 0.5 + (data.x - dX) / ratio,\n            y: 0.5 + (data.y - dY) / ratio,\n        };\n    };\n    // TODO: possibility to apply this in batch over array of indices\n    fn.applyTo = function (data) {\n        data.x = 0.5 + (data.x - dX) / ratio;\n        data.y = 0.5 + (data.y - dY) / ratio;\n    };\n    fn.inverse = function (data) {\n        return {\n            x: dX + ratio * (data.x - 0.5),\n            y: dY + ratio * (data.y - 0.5),\n        };\n    };\n    fn.ratio = ratio;\n    return fn;\n}\nexports.createNormalizationFunction = createNormalizationFunction;\n/**\n * Function ordering the given elements in reverse z-order so they drawn\n * the correct way.\n *\n * @param  {number}   extent   - [min, max] z values.\n * @param  {function} getter   - Z attribute getter function.\n * @param  {array}    elements - The array to sort.\n * @return {array} - The sorted array.\n */\nfunction zIndexOrdering(extent, getter, elements) {\n    // If k is > n, we'll use a standard sort\n    return elements.sort(function (a, b) {\n        var zA = getter(a) || 0, zB = getter(b) || 0;\n        if (zA < zB)\n            return -1;\n        if (zA > zB)\n            return 1;\n        return 0;\n    });\n    // TODO: counting sort optimization\n}\nexports.zIndexOrdering = zIndexOrdering;\n/**\n * WebGL utils\n * ===========\n */\n/**\n * Memoized function returning a float-encoded color from various string\n * formats describing colors.\n */\nvar INT8 = new Int8Array(4);\nvar INT32 = new Int32Array(INT8.buffer, 0, 1);\nvar FLOAT32 = new Float32Array(INT8.buffer, 0, 1);\nvar RGBA_TEST_REGEX = /^\\s*rgba?\\s*\\(/;\nvar RGBA_EXTRACT_REGEX = /^\\s*rgba?\\s*\\(\\s*([0-9]*)\\s*,\\s*([0-9]*)\\s*,\\s*([0-9]*)(?:\\s*,\\s*(.*)?)?\\)\\s*$/;\nfunction parseColor(val) {\n    var r = 0; // byte\n    var g = 0; // byte\n    var b = 0; // byte\n    var a = 1; // float\n    // Handling hexadecimal notation\n    if (val[0] === \"#\") {\n        if (val.length === 4) {\n            r = parseInt(val.charAt(1) + val.charAt(1), 16);\n            g = parseInt(val.charAt(2) + val.charAt(2), 16);\n            b = parseInt(val.charAt(3) + val.charAt(3), 16);\n        }\n        else {\n            r = parseInt(val.charAt(1) + val.charAt(2), 16);\n            g = parseInt(val.charAt(3) + val.charAt(4), 16);\n            b = parseInt(val.charAt(5) + val.charAt(6), 16);\n        }\n        if (val.length === 9) {\n            a = parseInt(val.charAt(7) + val.charAt(8), 16) / 255;\n        }\n    }\n    // Handling rgb notation\n    else if (RGBA_TEST_REGEX.test(val)) {\n        var match = val.match(RGBA_EXTRACT_REGEX);\n        if (match) {\n            r = +match[1];\n            g = +match[2];\n            b = +match[3];\n            if (match[4])\n                a = +match[4];\n        }\n    }\n    return { r: r, g: g, b: b, a: a };\n}\nexports.parseColor = parseColor;\nvar FLOAT_COLOR_CACHE = {};\nfor (var htmlColor in data_1.HTML_COLORS) {\n    FLOAT_COLOR_CACHE[htmlColor] = floatColor(data_1.HTML_COLORS[htmlColor]);\n    // Replicating cache for hex values for free\n    FLOAT_COLOR_CACHE[data_1.HTML_COLORS[htmlColor]] = FLOAT_COLOR_CACHE[htmlColor];\n}\nfunction floatArrayColor(val) {\n    val = data_1.HTML_COLORS[val] || val;\n    // NOTE: this variant is not cached because it is mostly used for uniforms\n    var _a = parseColor(val), r = _a.r, g = _a.g, b = _a.b, a = _a.a;\n    return new Float32Array([r / 255, g / 255, b / 255, a]);\n}\nexports.floatArrayColor = floatArrayColor;\nfunction floatColor(val) {\n    // If the color is already computed, we yield it\n    if (typeof FLOAT_COLOR_CACHE[val] !== \"undefined\")\n        return FLOAT_COLOR_CACHE[val];\n    var parsed = parseColor(val);\n    var r = parsed.r, g = parsed.g, b = parsed.b;\n    var a = parsed.a;\n    a = (a * 255) | 0;\n    INT32[0] = ((a << 24) | (b << 16) | (g << 8) | r) & 0xfeffffff;\n    var color = FLOAT32[0];\n    FLOAT_COLOR_CACHE[val] = color;\n    return color;\n}\nexports.floatColor = floatColor;\n/**\n * In sigma, the graph is normalized into a [0, 1], [0, 1] square, before being given to the various renderers. This\n * helps dealing with quadtree in particular.\n * But at some point, we need to rescale it so that it takes the best place in the screen, ie. we always want to see two\n * nodes \"touching\" opposite sides of the graph, with the camera being at its default state.\n *\n * This function determines this ratio.\n */\nfunction getCorrectionRatio(viewportDimensions, graphDimensions) {\n    var viewportRatio = viewportDimensions.height / viewportDimensions.width;\n    var graphRatio = graphDimensions.height / graphDimensions.width;\n    // If the stage and the graphs are in different directions (such as the graph being wider that tall while the stage\n    // is taller than wide), we can stop here to have indeed nodes touching opposite sides:\n    if ((viewportRatio < 1 && graphRatio > 1) || (viewportRatio > 1 && graphRatio < 1)) {\n        return 1;\n    }\n    // Else, we need to fit the graph inside the stage:\n    // 1. If the graph is \"squarer\" (ie. with a ratio closer to 1), we need to make the largest sides touch;\n    // 2. If the stage is \"squarer\", we need to make the smallest sides touch.\n    return Math.min(Math.max(graphRatio, 1 / graphRatio), Math.max(1 / viewportRatio, viewportRatio));\n}\nexports.getCorrectionRatio = getCorrectionRatio;\n/**\n * Function returning a matrix from the current state of the camera.\n */\n// TODO: it's possible to optimize this drastically!\nfunction matrixFromCamera(state, viewportDimensions, graphDimensions, padding, inverse) {\n    var angle = state.angle, ratio = state.ratio, x = state.x, y = state.y;\n    var width = viewportDimensions.width, height = viewportDimensions.height;\n    var matrix = (0, matrices_1.identity)();\n    var smallestDimension = Math.min(width, height) - 2 * padding;\n    var correctionRatio = getCorrectionRatio(viewportDimensions, graphDimensions);\n    if (!inverse) {\n        (0, matrices_1.multiply)(matrix, (0, matrices_1.scale)((0, matrices_1.identity)(), 2 * (smallestDimension / width) * correctionRatio, 2 * (smallestDimension / height) * correctionRatio));\n        (0, matrices_1.multiply)(matrix, (0, matrices_1.rotate)((0, matrices_1.identity)(), -angle));\n        (0, matrices_1.multiply)(matrix, (0, matrices_1.scale)((0, matrices_1.identity)(), 1 / ratio));\n        (0, matrices_1.multiply)(matrix, (0, matrices_1.translate)((0, matrices_1.identity)(), -x, -y));\n    }\n    else {\n        (0, matrices_1.multiply)(matrix, (0, matrices_1.translate)((0, matrices_1.identity)(), x, y));\n        (0, matrices_1.multiply)(matrix, (0, matrices_1.scale)((0, matrices_1.identity)(), ratio));\n        (0, matrices_1.multiply)(matrix, (0, matrices_1.rotate)((0, matrices_1.identity)(), angle));\n        (0, matrices_1.multiply)(matrix, (0, matrices_1.scale)((0, matrices_1.identity)(), width / smallestDimension / 2 / correctionRatio, height / smallestDimension / 2 / correctionRatio));\n    }\n    return matrix;\n}\nexports.matrixFromCamera = matrixFromCamera;\n/**\n * All these transformations we apply on the matrix to get it rescale the graph\n * as we want make it very hard to get pixel-perfect distances in WebGL. This\n * function returns a factor that properly cancels the matrix effect on lengths.\n *\n * [jacomyal]\n * To be fully honest, I can't really explain happens here... I notice that the\n * following ratio works (ie. it correctly compensates the matrix impact on all\n * camera states I could try):\n * > `R = size(V) / size(M * V) / W`\n * as long as `M * V` is in the direction of W (ie. parallel to (Ox)). It works\n * as well with H and a vector that transforms into something parallel to (Oy).\n *\n * Also, note that we use `angle` and not `-angle` (that would seem logical,\n * since we want to anticipate the rotation), because of the fact that in WebGL,\n * the image is vertically swapped.\n */\nfunction getMatrixImpact(matrix, cameraState, viewportDimensions) {\n    var _a = (0, matrices_1.multiplyVec2)(matrix, { x: Math.cos(cameraState.angle), y: Math.sin(cameraState.angle) }, 0), x = _a.x, y = _a.y;\n    return 1 / Math.sqrt(Math.pow(x, 2) + Math.pow(y, 2)) / viewportDimensions.width;\n}\nexports.getMatrixImpact = getMatrixImpact;\n/**\n * Function extracting the color at the given pixel.\n */\nfunction extractPixel(gl, x, y, array) {\n    var data = array || new Uint8Array(4);\n    gl.readPixels(x, y, 1, 1, gl.RGBA, gl.UNSIGNED_BYTE, data);\n    return data;\n}\nexports.extractPixel = extractPixel;\n/**\n * Function used to know whether given webgl context can use 32 bits indices.\n */\nfunction canUse32BitsIndices(gl) {\n    var webgl2 = typeof WebGL2RenderingContext !== \"undefined\" && gl instanceof WebGL2RenderingContext;\n    return webgl2 || !!gl.getExtension(\"OES_element_index_uint\");\n}\nexports.canUse32BitsIndices = canUse32BitsIndices;\n/**\n * Check if the graph variable is a valid graph, and if sigma can render it.\n */\nfunction validateGraph(graph) {\n    // check if it's a valid graphology instance\n    if (!(0, is_graph_1.default)(graph))\n        throw new Error(\"Sigma: invalid graph instance.\");\n    // check if nodes have x/y attributes\n    graph.forEachNode(function (key, attributes) {\n        if (!Number.isFinite(attributes.x) || !Number.isFinite(attributes.y)) {\n            throw new Error(\"Sigma: Coordinates of node \".concat(key, \" are invalid. A node must have a numeric 'x' and 'y' attribute.\"));\n        }\n    });\n}\nexports.validateGraph = validateGraph;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.multiplyVec2 = exports.multiply = exports.translate = exports.rotate = exports.scale = exports.identity = void 0;\nfunction identity() {\n    return Float32Array.of(1, 0, 0, 0, 1, 0, 0, 0, 1);\n}\nexports.identity = identity;\n// TODO: optimize\nfunction scale(m, x, y) {\n    m[0] = x;\n    m[4] = typeof y === \"number\" ? y : x;\n    return m;\n}\nexports.scale = scale;\nfunction rotate(m, r) {\n    var s = Math.sin(r), c = Math.cos(r);\n    m[0] = c;\n    m[1] = s;\n    m[3] = -s;\n    m[4] = c;\n    return m;\n}\nexports.rotate = rotate;\nfunction translate(m, x, y) {\n    m[6] = x;\n    m[7] = y;\n    return m;\n}\nexports.translate = translate;\nfunction multiply(a, b) {\n    var a00 = a[0], a01 = a[1], a02 = a[2];\n    var a10 = a[3], a11 = a[4], a12 = a[5];\n    var a20 = a[6], a21 = a[7], a22 = a[8];\n    var b00 = b[0], b01 = b[1], b02 = b[2];\n    var b10 = b[3], b11 = b[4], b12 = b[5];\n    var b20 = b[6], b21 = b[7], b22 = b[8];\n    a[0] = b00 * a00 + b01 * a10 + b02 * a20;\n    a[1] = b00 * a01 + b01 * a11 + b02 * a21;\n    a[2] = b00 * a02 + b01 * a12 + b02 * a22;\n    a[3] = b10 * a00 + b11 * a10 + b12 * a20;\n    a[4] = b10 * a01 + b11 * a11 + b12 * a21;\n    a[5] = b10 * a02 + b11 * a12 + b12 * a22;\n    a[6] = b20 * a00 + b21 * a10 + b22 * a20;\n    a[7] = b20 * a01 + b21 * a11 + b22 * a21;\n    a[8] = b20 * a02 + b21 * a12 + b22 * a22;\n    return a;\n}\nexports.multiply = multiply;\nfunction multiplyVec2(a, b, z) {\n    if (z === void 0) { z = 1; }\n    var a00 = a[0];\n    var a01 = a[1];\n    var a10 = a[3];\n    var a11 = a[4];\n    var a20 = a[6];\n    var a21 = a[7];\n    var b0 = b.x;\n    var b1 = b.y;\n    return { x: b0 * a00 + b1 * a10 + a20 * z, y: b0 * a01 + b1 * a11 + a21 * z };\n}\nexports.multiplyVec2 = multiplyVec2;\n","import { Settings } from 'sigma/settings';\nimport { NodeDisplayData, PartialButFor } from 'sigma/types';\n\nexport default function drawLabel(\n  context: CanvasRenderingContext2D,\n  data: PartialButFor<NodeDisplayData, 'x' | 'y' | 'size' | 'label' | 'color'>,\n  settings: Settings\n): void {\n  if (!data.label) return;\n\n  const size = data.labelSize || settings.labelSize;\n  const font = settings.labelFont;\n  const weight = settings.labelWeight;\n  const color = data.labelColor || settings.labelColor.color;\n  const labelOffsetX = data.labelOffsetX || 0;\n  const labelOffsetY = data.labelOffsetY || 0;\n\n  context.fillStyle = color;\n  context.font = `${weight} ${size}px ${font}`;\n\n  context.fillText(data.label, data.x + labelOffsetX + data.size + 3, data.y + labelOffsetY + size / 3);\n}\n","import chroma from \"chroma-js\";\nimport iwanthue from \"iwanthue\";\n\nimport seedrandom from \"seedrandom\";\n\nimport FileSaver from \"file-saver\";\n\nimport Graph from \"graphology\";\nimport { Sigma } from \"sigma\";\nimport { Coordinates } from \"sigma/types\";\nimport { parse } from \"graphology-gexf/browser\";\n\nimport simmelianStrength from 'graphology-metrics/edge/simmelian-strength';\nimport betweennessCentrality from 'graphology-metrics/centrality/betweenness';\nimport closenessCentrality from 'graphology-metrics/centrality/closeness';\nimport eigenvectorCentrality from 'graphology-metrics/centrality/eigenvector';\nimport hits from 'graphology-metrics/centrality/hits';\nimport {\n  degreeCentrality,\n  inDegreeCentrality,\n  outDegreeCentrality\n} from 'graphology-metrics/centrality/degree';\nimport pagerank from 'graphology-metrics/centrality/pagerank';\n\nimport louvain from 'graphology-communities-louvain';\nimport forceAtlas2 from 'graphology-layout-forceatlas2';\n\nimport { createNodeCompoundProgram } from 'sigma/rendering/webgl/programs/common/node';\nimport NodePointWithBorderProgram from '@yomguithereal/sigma-experiments-renderers/node/node.point.border';\nimport NodeHaloProgram from '@yomguithereal/sigma-experiments-renderers/node/node.halo';\nimport EdgeCurveProgram from '@yomguithereal/sigma-experiments-renderers/edge/edge.curve';\nimport drawLabel from \"./custom-label\"\n\nimport { cropToLargestConnectedComponent } from \"graphology-components\";\n\nlet haloSize = 14;\nconst baseAngle = 132;\nconst haloIntensity = 0.1;\nconst seed = \"0.5333956272631921\";\n//const colorSeed = \"logiciels libres\";\n//const colorSeed = \"0.8453856862674052\";\nconst colorSeed = \"0.9404079128839915\";\n\nconst labelsOffsets = {\n    \"16787\": {y: 6},\n    \"18237\": {y: 15000000},\n    \"33\": {y: -2},\n    \"119\": {y: 1},\n    \"53\": {y: 2}\n};\n\nconst sigmaContainer = document.getElementById(\"sigma\");\n\nconst sigmaSettings = ratio => ({\n  minCameraRatio: 0.1,\n  maxCameraRatio: 10,\n  labelFont: \"SourceCodePro\",\n  labelColor: {color: '#000'},\n  labelWeight: 'bold',\n  labelDensity: 1.5,\n  labelGridCellSize: ratio * 190,\n  nodeProgramClasses: {\n    circle: createNodeCompoundProgram([\n      NodeHaloProgram,\n      NodePointWithBorderProgram\n    ])\n  },\n  nodeHoverProgramClasses: {\n    circle: NodePointWithBorderProgram\n  },\n  defaultEdgeColor: '#000',\n  defaultEdgeType: 'curve',\n  edgeProgramClasses: {\n    curve: EdgeCurveProgram\n  },\n  labelRenderer: drawLabel,\n  stagePadding: ratio * 50,\n  nodeReducer: (n, attrs) => ({\n    ...attrs,\n    size: attrs.size * ratio,\n    labelSize: attrs.labelSize * ratio,\n    borderSize: attrs.borderSize * ratio,\n    haloSize: haloSize * Math.sqrt(attrs[\"nansi-degree\"]) * ratio,\n    labelOffsetX: ratio * attrs[\"labelOffsetX\"],\n    labelOffsetY: ratio * attrs[\"labelOffsetY\"]\n  }),\n  edgeReducer: (e, attrs) => ({\n    ...attrs,\n    size: attrs.size * ratio\n  })\n});\n\nconst prepareGraph = function(gexf) {\n  const graph = parse(Graph, gexf);\n  const graph2 = new Graph({type: \"directed\"});\n\n  simmelianStrength.assign(graph);\n  betweennessCentrality.assign(graph, {getEdgeWeight: null});\n  closenessCentrality.assign(graph);\n  degreeCentrality.assign(graph);\n  inDegreeCentrality.assign(graph);\n  outDegreeCentrality.assign(graph);\n  eigenvectorCentrality.assign(graph);\n  hits.assign(graph);\n  pagerank.assign(graph);\n\n  const maxVals = {};\n  graph.forEachNode((node, attrs)  => {\n    const size = Math.sqrt(attrs['nansi-degree']);\n    graph2.addNode(node, {\n      ...attrs,\n      type: \"circle\",\n      size: size,\n      labelSize: Math.pow(80 * size, 0.4),\n      borderSize: 1.5,\n      haloSize: haloSize * size,\n      haloIntensity: haloIntensity,\n      labelOffsetX: (labelsOffsets[node] || {x: 0}).x || 0,\n      labelOffsetY: (labelsOffsets[node] || {y: 0}).y || 0\n    });\n    Object.keys(attrs).forEach(attr => {\n      if (typeof attrs[attr] === \"number\")\n        maxVals[attr] = Math.max(maxVals[attr] || 0, attrs[attr]);\n    });\n  });\n\n  graph.forEachEdge((edge, attrs, source, target) => {\n    if (attrs.simmelianStrength > 3)\n      graph2.addEdge(source, target, {\n        ...attrs,\n        curveness: 0.3,\n        size: 0.5,\n        color: \"#999\"\n      });\n  });\n\n  cropToLargestConnectedComponent(graph2);\n\n  const FA2settings = forceAtlas2.inferSettings(graph2);\n  FA2settings[\"edgeWeightInfluence\"] = 1.25;\n  FA2settings[\"gravity\"] = 0.5;\n  //FA2settings[\"scalingRatio\"] = 100;\n  //FA2settings[\"adjustSizes\"] = true;\n  //FA2settings[\"strongGravityMode\"] = false;\n\n  forceAtlas2.assign(graph2, {\n    iterations: 1000,\n    getEdgeWeight: 'simmelianStrength',\n    settings: FA2settings\n  });\n\n  const renderer = new Sigma(graph2, sigmaContainer, sigmaSettings(1));\n  const camera = renderer.getCamera();\n\n  document.getElementById(\"loader\").remove();\n  return {graph, graph2, maxVals, renderer, camera};\n};\n\nconst adjustCommunitiesColors = function(graph, graph2, louvainSeed, IWHSeed) {\n  const communities = louvain(graph, {\n    resolution: 1.075,\n    getEdgeWeight: 'simmelianStrength',\n    rng: seedrandom(louvainSeed)\n  });\n  const palette = iwanthue(9, {\n    colorSpace: 'sensible',\n    seed: IWHSeed,\n    clustering: 'force-vector',\n    attempts: 5,\n  });\n  graph2.updateEachNodeAttributes((node, attrs) => {\n    const color = palette[communities[node] % palette.length];\n    return {\n      ...attrs,\n      color: color,\n      borderColor: chroma(color).darken().hex(),\n      haloColor: \"rgba(\" + chroma(color).brighten().rgb().join(\",\") + \",0.9)\"\n    }\n  });\n};\n\nconst adjustAngle = function(renderer, camera, angle, renderers) {\n  camera.angle = Math.PI * parseFloat(angle) / 180; \n  renderer.refresh();\n  if (renderers)\n    renderers.forEach(r => {\n      r.getCamera().angle = camera.angle\n      r.refresh();\n    });\n};\n\nconst buildExportableGraphs = function(graph, graph2, maxVals, renderer, camera) {\n  const angleInput = document.getElementById(\"angle\") as HTMLInputElement;\n  const hSizeInput = document.getElementById(\"halo-size\") as HTMLInputElement;\n  const hIntInput = document.getElementById(\"halo-intensity\") as HTMLInputElement;\n  const colorSeedInput = document.getElementById(\"color-seed\") as HTMLInputElement;\n  \n  const miniSigmaSettings = (attr, ratio) => ({\n    labelFont: '\"DejaVu Sans Mono\", monospace',\n    labelColor: {color: '#333'},\n    labelWeight: 'bold',\n    labelDensity: 1.5,\n    labelGridCellSize: ratio * 190,\n    labelRenderedSizeThreshold: ratio * 3.5,\n    labelRenderer: drawLabel,\n    nodeProgramClasses: {\n      circle: createNodeCompoundProgram([\n        NodeHaloProgram,\n        NodePointWithBorderProgram\n      ])\n    },\n    nodeHoverProgramClasses: {\n      circle: NodePointWithBorderProgram\n    },\n    defaultEdgeType: 'curve',\n    edgeProgramClasses: {\n      curve: EdgeCurveProgram\n    },\n    nodeReducer: (n, attrs) => ({\n      ...attrs,\n      size: ratio * Math.max(0.5, 10 * Math.pow(attrs[attr] / maxVals[attr], 6/5)),\n      labelSize: ratio * Math.pow(35 * Math.max(0.1, 10 * Math.pow(attrs[attr] / maxVals[attr], 6/5)), 0.4),\n      borderSize: attrs.borderSize * ratio / 3,\n      color: '#999',\n      borderColor: '#666',\n      haloColor: '#999',\n      haloSize: ratio * Math.max(1.5, 10 * Math.pow(attrs[attr] / maxVals[attr], 6/5)) * 5,\n      haloIntensity: 0.2 + Math.pow(attrs[attr] / (4 * maxVals[attr]), 6/5)\n    }),\n    edgeReducer: (n, attrs) => ({\n      ...attrs,\n      size: ratio * 0.01,\n      color: '#FFF'\n    })\n  });\n  const renderers = [];\n/* \"betweennessCentrality\", \"closenessCentrality\", \"degreeCentrality\", \"inDegreeCentrality\", \"outDegreeCentrality\",\n\"eigenvectorCentrality\", \"authority\", \"hub\", \"pagerank\" */\n  const miniMapsAttributes = [\n    \"indegree\",\n    //\"inDegreeCentrality\",\n    \"betweennessCentrality\",\n    \"outdegree\",\n    //\"outDegreeCentrality\",\n    \"pagerank\",\n    //\"authority\",\n    //\"eigenvectorCentrality\",\n  ];\n  miniMapsAttributes.forEach((attr, idx) => {\n    document.querySelector(\"#minimap\" + (idx+1) + \" > span\").innerHTML = attr;\n    renderers.push(new Sigma(graph2, document.querySelector(\"#minimap\" + (idx+1) + \" > div\"), miniSigmaSettings(attr, 1)));\n    renderers[idx].getCamera().ratio = 1/1.3;\n  });\n\n  angleInput.value = baseAngle + \"\";\n  angleInput.onchange = e => adjustAngle(renderer, camera, angleInput.value, renderers)\n  angleInput.onchange(null);\n \n  hSizeInput.value = haloSize + \"\";\n  hSizeInput.onchange = e => {\n    haloSize = parseFloat(hSizeInput.value);\n    graph2.updateEachNodeAttributes((n, attrs) => ({\n      ...attrs,\n      haloSize: haloSize * Math.sqrt(attrs[\"nansi-degree\"])\n    }));\n  };\n\n  hIntInput.value = haloIntensity + \"\";\n  hIntInput.onchange = e => graph2.updateEachNodeAttributes((n, attrs) => ({\n    ...attrs,\n    haloIntensity: parseFloat(hIntInput.value)\n  }));\n \n  colorSeedInput.value = colorSeed;\n  const seedInput = document.getElementById(\"seed\") as HTMLInputElement;\n  seedInput.value = seed;\n  seedInput.onchange = e => adjustCommunitiesColors(graph, graph2, seedInput.value, colorSeedInput.value);\n  colorSeedInput.onchange = seedInput.onchange;\n  seedInput.onchange(null);\n  document.getElementById(\"random-seed\").onclick = () => {\n    seedInput.value = Math.random() + \"\";\n    seedInput.onchange(null);\n  };\n  document.getElementById(\"random-color-seed\").onclick = () => {\n    colorSeedInput.value = Math.random() + \"\";\n    seedInput.onchange(null);\n  };\n\n  // Enable SavePNG button\n  document.getElementById(\"save-as-png\").onclick = () => {\n    function renderPNG(rdr, ratio, fileName, settings) {\n      let { width, height } = rdr.getDimensions();\n      width = width * ratio;\n      height = height * ratio;\n      const pixelRatio = window.devicePixelRatio || 1;\n      const tmpRoot = document.createElement(\"DIV\");\n      tmpRoot.style.width = `${width}px`;\n      tmpRoot.style.height = `${height}px`;\n      tmpRoot.style.position = \"absolute\";\n      tmpRoot.style.right = \"101%\";\n      tmpRoot.style.bottom = \"101%\";\n      document.body.appendChild(tmpRoot);\n      const tmpRenderer = new Sigma(rdr.getGraph(), tmpRoot, settings);\n      tmpRenderer.getCamera().angle = camera.angle;\n      tmpRenderer.refresh();\n      const canvas = document.createElement(\"CANVAS\") as HTMLCanvasElement;\n      canvas.setAttribute(\"width\", width * pixelRatio + \"\");\n      canvas.setAttribute(\"height\", height * pixelRatio + \"\");\n      const ctx = canvas.getContext(\"2d\") as CanvasRenderingContext2D;\n      ctx.fillStyle = \"#fff\";\n      ctx.fillRect(0, 0, width * pixelRatio, height * pixelRatio);\n      const canvases = tmpRenderer.getCanvases();\n      const layers = Object.keys(canvases);\n      layers.forEach((id) => {\n        ctx.drawImage(\n          canvases[id],\n          0,\n          0,\n          width * pixelRatio,\n          height * pixelRatio,\n          0,\n          0,\n          width * pixelRatio,\n          height * pixelRatio,\n        );\n      });\n      canvas.toBlob((blob) => {\n        if (blob) FileSaver.saveAs(blob, fileName + \".png\");\n        tmpRenderer.kill();\n        tmpRoot.remove();\n      }, \"image/png\");\n    }\n    setTimeout(async () => {\n      let rate = 6;\n      renderPNG(renderer, rate, \"main-graph\", sigmaSettings(rate));\n      miniMapsAttributes.forEach((attr, idx) =>\n       renderPNG(renderers[idx], rate, \"mini-graph-\" + attr, miniSigmaSettings(attr, rate))\n      );\n    }, 10);\n  };\n};\n\nconst buildHomepage = function(graph, graph2, renderer, camera) {\n  //TODO:\n  // - add buttons to switch node size with other metrics\n\n  adjustCommunitiesColors(graph, graph2, seed, colorSeed);\n  adjustAngle(renderer, camera, baseAngle, null);\n\n  // Zoom buttons\n  document.getElementById(\"zoom-in\").onclick =\n    () => camera.animatedZoom({ duration: 600 });\n  document.getElementById(\"zoom-out\").onclick =\n    () => camera.animatedUnzoom({ duration: 600 });\n  document.getElementById(\"zoom-reset\").onclick =\n    () => camera.animate({x: 0.5, y: 0.5, ratio: 1, angle: Math.PI * baseAngle / 180}, { duration: 300});\n\n  // Fullscreen buttons\n   const fullscreenButton = document.getElementById(\"fullscreen\"),\n    regscreenButton = document.getElementById(\"regscreen\");\n  fullscreenButton.onclick = () => {\n    const doc = document.documentElement as any;\n    if (doc.requestFullscreen) {\n      doc.requestFullscreen();\n    } else if (doc.webkitRequestFullscreen) { /* Safari */\n      doc.webkitRequestFullscreen();\n    } else if (doc.msRequestFullscreen) { /* IE11 */\n      doc.msRequestFullscreen();\n    }\n    fullscreenButton.style.display = \"none\";\n    regscreenButton.style.display = \"block\";\n  };\n\n  regscreenButton.onclick = () => {\n    const doc = document as any;\n    if (doc.exitFullscreen) {\n      doc.exitFullscreen();\n    } else if (doc.webkitExitFullscreen) { /* Safari */\n      doc.webkitExitFullscreen();\n    } else if (doc.msExitFullscreen) { /* IE11 */\n      doc.msExitFullscreen();\n    }\n    regscreenButton.style.display = \"none\";\n    fullscreenButton.style.display = \"block\";\n  };\n\n  // Prepare list of nodes for search suggestions\n  let suggestions = [],\n    selectedNode = null;\n  const allSuggestions = graph2.nodes()\n    .map((node) => ({\n      node: node,\n      label: graph2.getNodeAttribute(node, \"label\")\n    }))\n    .sort((a, b) => a.label < b.label ? -1 : 1);\n  function feedAllSuggestions() {\n    suggestions = allSuggestions.map(x => x);\n  }\n  feedAllSuggestions();\n\n  function fillSuggestions() {\n    document.getElementById(\"suggestions\").innerHTML = suggestions\n      .sort((a, b) => a.label < b.label ? -1 : 1)\n      .map((node) => \"<option>\" + node.label + \"</option>\")\n      .join(\"\\n\");\n  }\n  fillSuggestions();\n\n  // Setup nodes input search for web browsers\n  const searchInput = document.getElementById(\"search-input\") as HTMLInputElement;\n  function setSearchQuery(query=\"\") {\n    feedAllSuggestions();\n    if (searchInput.value !== query)\n      searchInput.value = query;\n\n    if (query) {\n      const lcQuery = query.toLowerCase();\n      suggestions = [];\n      graph2.forEachNode((node, {label}) => {\n        if (label.toLowerCase().includes(lcQuery))\n          suggestions.push({node: node, label: label});\n      });\n\n      const suggestionsMatch = suggestions.filter(x => x.label === query);\n      if (suggestionsMatch.length === 1) {\n        // Move the camera to center it on the selected node:\n        const nodePosition = renderer.getNodeDisplayData(suggestionsMatch[0].node) as Coordinates;\n        camera.animate(nodePosition, {duration: 500});\n        clickNode(suggestionsMatch[0].node);\n        suggestions = [];\n      } else if (selectedNode) {\n        clickNode(null);\n      }\n    } else if (selectedNode) {\n      clickNode(null);\n      feedAllSuggestions();\n    }\n    fillSuggestions();\n  }\n  searchInput.oninput = () => {\n    setSearchQuery(searchInput.value || \"\");\n  };\n  searchInput.onblur = () => {\n    if (!selectedNode)\n      setSearchQuery(\"\");\n  };\n  document.getElementById(\"search-icon\").onclick = () => searchInput.focus();\n\n  // Setup Nodes hovering\n  renderer.on(\"enterNode\", () => sigmaContainer.style.cursor = \"pointer\");\n  renderer.on(\"leaveNode\", () => sigmaContainer.style.cursor = \"default\");\n\n  // Handle clicks on nodes\n  function clickNode(node) {\n    const sameNode = (node === selectedNode);\n    // Reset unselected node view\n    renderer.setSetting(\"nodeReducer\", (n, attrs) => attrs);\n    renderer.setSetting(\"edgeReducer\", (edge, attrs) => attrs);\n    if (!node) {\n      selectedNode = null;\n      return;\n    }\n    searchInput.value = graph2.getNodeAttribute(node, \"label\");\n    selectedNode = node;\n    const neighbors = new Set(graph2.neighbors(node));\n    renderer.setSetting(\"nodeReducer\", (n, attrs) => n === node ?\n        {...attrs, highlighted: true, haloIntensity: 0.15} :\n        neighbors.has(n) ?\n          {...attrs, haloIntensity: 0.15} :\n          {...attrs, color: \"#f6f6f6\", size: 4, haloIntensity: 0}\n    );\n    renderer.setSetting(\"edgeReducer\", (e, attrs) => graph2.hasExtremity(e, node) ? attrs : {...attrs, hidden: true});\n  }\n\n  renderer.on(\"clickNode\", (event) => clickNode(event.node));\n  renderer.on(\"clickStage\", () => setSearchQuery(\"\"));\n  renderer.on(\"doubleClickNode\", (event) => window.open(graph2.getNodeAttribute(event.node, \"homepage\")));\n};\n\nfetch(\"./data/graph.gexf\")\n  .then((res) => res.text())\n  .then((gexf) => {\n    if (! /\\/export\\.html/.test(window.location.pathname)) {\n      sigmaContainer.style.height = window.innerHeight - 47 + \"px\";\n      document.getElementById(\"explications\").style.height = window.innerHeight - 43 + \"px\";\n    }\n    const vars = prepareGraph(gexf);\n    if (window.location.pathname === \"/export.html\")\n      buildExportableGraphs(vars.graph, vars.graph2, vars.maxVals, vars.renderer, vars.camera);\n    else buildHomepage(vars.graph, vars.graph2, vars.renderer, vars.camera);\n  });\n","module.exports = require('./lib/xml-writer.js');\n","\nfunction isFalse(s) {\n  return typeof s !== 'number' && !s;\n}\n\nfunction strval(s) {\n  if (typeof s == 'string') {\n    return s;\n  }\n  else if (typeof s == 'number') {\n    return s+'';\n  }\n  else if (typeof s == 'function') {\n    return s();\n  }\n  else if (s instanceof XMLWriter) {\n    return s.toString();\n  }\n  else throw Error('Bad Parameter');\n}\n\nfunction XMLWriter(indent, callback) {\n\n    if (!(this instanceof XMLWriter)) {\n        return new XMLWriter();\n    }\n\n    this.name_regex = /[_:A-Za-z][-._:A-Za-z0-9]*/;\n    this.indent = indent ? true : false;\n    this.indentString = this.indent && typeof indent === 'string' ? indent : '    ';\n    this.output = '';\n    this.stack = [];\n    this.tags = 0;\n    this.attributes = 0;\n    this.attribute = 0;\n    this.texts = 0;\n    this.comment = 0;\n    this.dtd = 0;\n    this.root = '';\n    this.pi = 0;\n    this.cdata = 0;\n    this.started_write = false;\n    this.writer;\n    this.writer_encoding = 'UTF-8';\n\n    if (typeof callback == 'function') {\n        this.writer = callback;\n    } else {\n        this.writer = function (s, e) {\n            this.output += s;\n        }\n    }\n}\n\nXMLWriter.prototype = {\n    toString : function () {\n        this.flush();\n        return this.output;\n    },\n\n    indenter : function () {\n      if (this.indent) {\n        this.write('\\n');\n        for (var i = 1; i < this.tags; i++) {\n          this.write(this.indentString);\n        }\n      }\n    },\n\n    write : function () {\n        for (var i = 0; i < arguments.length; i++) {\n            this.writer(arguments[i], this.writer_encoding);\n        }\n    },\n\n\n    flush : function () {\n        for (var i = this.tags; i > 0; i--) {\n            this.endElement();\n        }\n        this.tags = 0;\n    },\n\n    startDocument : function (version, encoding, standalone) {\n        if (this.tags || this.attributes) return this;\n\n        this.startPI('xml');\n        this.startAttribute('version');\n        this.text(typeof version == \"string\" ? version : \"1.0\");\n        this.endAttribute();\n        if (typeof encoding == \"string\") {\n            this.startAttribute('encoding');\n            this.text(encoding);\n            this.endAttribute();\n            this.writer_encoding = encoding;\n        }\n        if (standalone) {\n            this.startAttribute('standalone');\n            this.text(\"yes\");\n            this.endAttribute();\n        }\n        this.endPI();\n        if (!this.indent) {\n          this.write('\\n');\n        }\n        return this;\n    },\n\n    endDocument : function () {\n        if (this.attributes) this.endAttributes();\n        return this;\n    },\n\n    writeElement : function (name, content) {\n        return this.startElement(name).text(content).endElement();\n    },\n\n    writeElementNS : function (prefix, name, uri, content) {\n        if (!content) {\n            content = uri;\n        }\n        return this.startElementNS(prefix, name, uri).text(content).endElement();\n    },\n\n    startElement : function (name) {\n        name = strval(name);\n        if (!name.match(this.name_regex)) throw Error('Invalid Parameter');\n        if (this.tags === 0 && this.root && this.root !== name) throw Error('Invalid Parameter');\n        if (this.attributes) this.endAttributes();\n        ++this.tags;\n        this.texts = 0;\n        if (this.stack.length > 0)\n          this.stack[this.stack.length-1].containsTag = true;\n\n        this.stack.push({\n            name: name,\n            tags: this.tags\n        });\n        if (this.started_write) this.indenter();\n        this.write('<', name);\n        this.startAttributes();\n        this.started_write = true;\n        return this;\n    },\n    startElementNS : function (prefix, name, uri) {\n        prefix = strval(prefix);\n        name = strval(name);\n\n        if (!prefix.match(this.name_regex)) throw Error('Invalid Parameter');\n        if (!name.match(this.name_regex)) throw Error('Invalid Parameter');\n        if (this.attributes) this.endAttributes();\n        ++this.tags;\n        this.texts = 0;\n        if (this.stack.length > 0)\n          this.stack[this.stack.length-1].containsTag = true;\n\n        this.stack.push({\n            name: prefix + ':' + name,\n            tags: this.tags\n        });\n        if (this.started_write) this.indenter();\n        this.write('<', prefix + ':' + name);\n        this.startAttributes();\n        this.started_write = true;\n        return this;\n    },\n\n    endElement : function () {\n        if (!this.tags) return this;\n        var t = this.stack.pop();\n        if (this.attributes > 0) {\n            if (this.attribute) {\n                if (this.texts) this.endAttribute();\n                this.endAttribute();\n            }\n            this.write('/');\n            this.endAttributes();\n        } else {\n            if (t.containsTag) this.indenter();\n            this.write('</', t.name, '>');\n        }\n        --this.tags;\n        this.texts = 0;\n        return this;\n    },\n\n    writeAttribute : function (name, content) {\n        if (typeof content == 'function') {\n          content = content();\n        }\n        if (isFalse(content)) {\n           return this;\n        }\n        return this.startAttribute(name).text(content).endAttribute();\n    },\n    writeAttributeNS : function (prefix, name, uri, content) {\n        if (!content) {\n            content = uri;\n        }\n        if (typeof content == 'function') {\n          content = content();\n        }\n        if (isFalse(content)) {\n          return this;\n        }\n        return this.startAttributeNS(prefix, name, uri).text(content).endAttribute();\n    },\n\n    startAttributes : function () {\n        this.attributes = 1;\n        return this;\n    },\n\n    endAttributes : function () {\n        if (!this.attributes) return this;\n        if (this.attribute) this.endAttribute();\n        this.attributes = 0;\n        this.attribute = 0;\n        this.texts = 0;\n        this.write('>');\n        return this;\n    },\n\n    startAttribute : function (name) {\n        name = strval(name);\n        if (!name.match(this.name_regex)) throw Error('Invalid Parameter');\n        if (!this.attributes && !this.pi) return this;\n        if (this.attribute) return this;\n        this.attribute = 1;\n        this.write(' ', name, '=\"');\n        return this;\n    },\n    startAttributeNS : function (prefix, name, uri) {\n        prefix = strval(prefix);\n        name = strval(name);\n\n        if (!prefix.match(this.name_regex)) throw Error('Invalid Parameter');\n        if (!name.match(this.name_regex)) throw Error('Invalid Parameter');\n        if (!this.attributes && !this.pi) return this;\n        if (this.attribute) return this;\n        this.attribute = 1;\n        this.write(' ', prefix + ':' + name, '=\"');\n        return this;\n    },\n    endAttribute : function () {\n        if (!this.attribute) return this;\n        this.attribute = 0;\n        this.texts = 0;\n        this.write('\"');\n        return this;\n    },\n\n    text : function (content) {\n        content = strval(content);\n        if (!this.tags && !this.comment && !this.pi && !this.cdata) return this;\n        if (this.attributes && this.attribute) {\n            ++this.texts;\n            this.write(content\n                       .replace(/&/g, '&amp;')\n                       .replace(/</g, '&lt;')\n                       .replace(/\"/g, '&quot;')\n                       .replace(/\\t/g, '&#x9;')\n                       .replace(/\\n/g, '&#xA;')\n                       .replace(/\\r/g, '&#xD;')\n                      );\n            return this;\n        } else if (this.attributes && !this.attribute) {\n            this.endAttributes();\n        }\n        if (this.comment || this.cdata) {\n            this.write(content);\n        }\n        else {\n          this.write(content.replace(/&/g, '&amp;').replace(/</g, '&lt;').replace(/>/g, '&gt;'));\n        }\n        ++this.texts;\n        this.started_write = true;\n        return this;\n    },\n\n    writeComment : function (content) {\n        return this.startComment().text(content).endComment();\n    },\n\n    startComment : function () {\n        if (this.comment) return this;\n        if (this.attributes) this.endAttributes();\n        this.indenter();\n        this.write('<!--');\n        this.comment = 1;\n        this.started_write = true;\n        return this;\n    },\n\n    endComment : function () {\n        if (!this.comment) return this;\n        this.write('-->');\n        this.comment = 0;\n        return this;\n    },\n\n    writeDocType : function (name, pubid, sysid, subset) {\n        return this.startDocType(name, pubid, sysid, subset).endDocType()\n    },\n\n    startDocType : function (name, pubid, sysid, subset) {\n        if (this.dtd || this.tags) return this;\n\n        name = strval(name);\n        pubid = pubid ? strval(pubid) : pubid;\n        sysid = sysid ? strval(sysid) : sysid;\n        subset = subset ? strval(subset) : subset;\n\n        if (!name.match(this.name_regex)) throw Error('Invalid Parameter');\n        if (pubid && !pubid.match(/^[\\w\\-][\\w\\s\\-\\/\\+\\:\\.]*/)) throw Error('Invalid Parameter');\n        if (sysid && !sysid.match(/^[\\w\\.][\\w\\-\\/\\\\\\:\\.]*/)) throw Error('Invalid Parameter');\n        if (subset && !subset.match(/[\\w\\s\\<\\>\\+\\.\\!\\#\\-\\?\\*\\,\\(\\)\\|]*/)) throw Error('Invalid Parameter');\n\n        pubid = pubid ? ' PUBLIC \"' + pubid + '\"' : (sysid) ? ' SYSTEM' : '';\n        sysid = sysid ? ' \"' + sysid + '\"' : '';\n        subset = subset ? ' [' + subset + ']': '';\n\n        if (this.started_write) this.indenter();\n        this.write('<!DOCTYPE ', name, pubid, sysid, subset);\n        this.root = name;\n        this.dtd = 1;\n        this.started_write = true;\n        return this;\n    },\n\n    endDocType : function () {\n        if (!this.dtd) return this;\n        this.write('>');\n        return this;\n    },\n\n    writePI : function (name, content) {\n        return this.startPI(name).text(content).endPI()\n    },\n\n    startPI : function (name) {\n        name = strval(name);\n        if (!name.match(this.name_regex)) throw Error('Invalid Parameter');\n        if (this.pi) return this;\n        if (this.attributes) this.endAttributes();\n        if (this.started_write) this.indenter();\n        this.write('<?', name);\n        this.pi = 1;\n        this.started_write = true;\n        return this;\n    },\n\n    endPI : function () {\n        if (!this.pi) return this;\n        this.write('?>');\n        this.pi = 0;\n        return this;\n    },\n\n    writeCData : function (content) {\n        return this.startCData().text(content).endCData();\n    },\n\n    startCData : function () {\n        if (this.cdata) return this;\n        if (this.attributes) this.endAttributes();\n        this.indenter();\n        this.write('<![CDATA[');\n        this.cdata = 1;\n        this.started_write = true;\n        return this;\n    },\n\n    endCData : function () {\n        if (!this.cdata) return this;\n        this.write(']]>');\n        this.cdata = 0;\n        return this;\n    },\n\n    writeRaw : function(content) {\n        content = strval(content);\n        if (!this.tags && !this.comment && !this.pi && !this.cdata) return this;\n        if (this.attributes && this.attribute) {\n            ++this.texts;\n            this.write(content.replace('&', '&amp;').replace('\"', '&quot;'));\n            return this;\n        } else if (this.attributes && !this.attribute) {\n            this.endAttributes();\n        }\n        ++this.texts;\n        this.write(content);\n        this.started_write = true;\n        return this;\n    }\n\n}\n\nmodule.exports = XMLWriter;\n","/**\n * chroma.js - JavaScript library for color conversions\n *\n * Copyright (c) 2011-2019, Gregor Aisch\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n * 1. Redistributions of source code must retain the above copyright notice, this\n * list of conditions and the following disclaimer.\n *\n * 2. Redistributions in binary form must reproduce the above copyright notice,\n * this list of conditions and the following disclaimer in the documentation\n * and/or other materials provided with the distribution.\n *\n * 3. The name Gregor Aisch may not be used to endorse or promote products\n * derived from this software without specific prior written permission.\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\"\n * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE\n * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL GREGOR AISCH OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT,\n * INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING,\n * BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY\n * OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING\n * NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE,\n * EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * -------------------------------------------------------\n *\n * chroma.js includes colors from colorbrewer2.org, which are released under\n * the following license:\n *\n * Copyright (c) 2002 Cynthia Brewer, Mark Harrower,\n * and The Pennsylvania State University.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND,\n * either express or implied. See the License for the specific\n * language governing permissions and limitations under the License.\n *\n * ------------------------------------------------------\n *\n * Named colors are taken from X11 Color Names.\n * http://www.w3.org/TR/css3-color/#svg-color\n *\n * @preserve\n */\n\n(function (global, factory) {\n    typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\n    typeof define === 'function' && define.amd ? define(factory) :\n    (global = typeof globalThis !== 'undefined' ? globalThis : global || self, global.chroma = factory());\n})(this, (function () { 'use strict';\n\n    var limit$2 = function (x, min, max) {\n        if ( min === void 0 ) min=0;\n        if ( max === void 0 ) max=1;\n\n        return x < min ? min : x > max ? max : x;\n    };\n\n    var limit$1 = limit$2;\n\n    var clip_rgb$3 = function (rgb) {\n        rgb._clipped = false;\n        rgb._unclipped = rgb.slice(0);\n        for (var i=0; i<=3; i++) {\n            if (i < 3) {\n                if (rgb[i] < 0 || rgb[i] > 255) { rgb._clipped = true; }\n                rgb[i] = limit$1(rgb[i], 0, 255);\n            } else if (i === 3) {\n                rgb[i] = limit$1(rgb[i], 0, 1);\n            }\n        }\n        return rgb;\n    };\n\n    // ported from jQuery's $.type\n    var classToType = {};\n    for (var i$1 = 0, list$1 = ['Boolean', 'Number', 'String', 'Function', 'Array', 'Date', 'RegExp', 'Undefined', 'Null']; i$1 < list$1.length; i$1 += 1) {\n        var name = list$1[i$1];\n\n        classToType[(\"[object \" + name + \"]\")] = name.toLowerCase();\n    }\n    var type$p = function(obj) {\n        return classToType[Object.prototype.toString.call(obj)] || \"object\";\n    };\n\n    var type$o = type$p;\n\n    var unpack$B = function (args, keyOrder) {\n        if ( keyOrder === void 0 ) keyOrder=null;\n\n    \t// if called with more than 3 arguments, we return the arguments\n        if (args.length >= 3) { return Array.prototype.slice.call(args); }\n        // with less than 3 args we check if first arg is object\n        // and use the keyOrder string to extract and sort properties\n    \tif (type$o(args[0]) == 'object' && keyOrder) {\n    \t\treturn keyOrder.split('')\n    \t\t\t.filter(function (k) { return args[0][k] !== undefined; })\n    \t\t\t.map(function (k) { return args[0][k]; });\n    \t}\n    \t// otherwise we just return the first argument\n    \t// (which we suppose is an array of args)\n        return args[0];\n    };\n\n    var type$n = type$p;\n\n    var last$4 = function (args) {\n        if (args.length < 2) { return null; }\n        var l = args.length-1;\n        if (type$n(args[l]) == 'string') { return args[l].toLowerCase(); }\n        return null;\n    };\n\n    var PI$2 = Math.PI;\n\n    var utils = {\n    \tclip_rgb: clip_rgb$3,\n    \tlimit: limit$2,\n    \ttype: type$p,\n    \tunpack: unpack$B,\n    \tlast: last$4,\n    \tPI: PI$2,\n    \tTWOPI: PI$2*2,\n    \tPITHIRD: PI$2/3,\n    \tDEG2RAD: PI$2 / 180,\n    \tRAD2DEG: 180 / PI$2\n    };\n\n    var input$h = {\n    \tformat: {},\n    \tautodetect: []\n    };\n\n    var last$3 = utils.last;\n    var clip_rgb$2 = utils.clip_rgb;\n    var type$m = utils.type;\n    var _input = input$h;\n\n    var Color$D = function Color() {\n        var args = [], len = arguments.length;\n        while ( len-- ) args[ len ] = arguments[ len ];\n\n        var me = this;\n        if (type$m(args[0]) === 'object' &&\n            args[0].constructor &&\n            args[0].constructor === this.constructor) {\n            // the argument is already a Color instance\n            return args[0];\n        }\n\n        // last argument could be the mode\n        var mode = last$3(args);\n        var autodetect = false;\n\n        if (!mode) {\n            autodetect = true;\n            if (!_input.sorted) {\n                _input.autodetect = _input.autodetect.sort(function (a,b) { return b.p - a.p; });\n                _input.sorted = true;\n            }\n            // auto-detect format\n            for (var i = 0, list = _input.autodetect; i < list.length; i += 1) {\n                var chk = list[i];\n\n                mode = chk.test.apply(chk, args);\n                if (mode) { break; }\n            }\n        }\n\n        if (_input.format[mode]) {\n            var rgb = _input.format[mode].apply(null, autodetect ? args : args.slice(0,-1));\n            me._rgb = clip_rgb$2(rgb);\n        } else {\n            throw new Error('unknown format: '+args);\n        }\n\n        // add alpha channel\n        if (me._rgb.length === 3) { me._rgb.push(1); }\n    };\n\n    Color$D.prototype.toString = function toString () {\n        if (type$m(this.hex) == 'function') { return this.hex(); }\n        return (\"[\" + (this._rgb.join(',')) + \"]\");\n    };\n\n    var Color_1 = Color$D;\n\n    var chroma$k = function () {\n    \tvar args = [], len = arguments.length;\n    \twhile ( len-- ) args[ len ] = arguments[ len ];\n\n    \treturn new (Function.prototype.bind.apply( chroma$k.Color, [ null ].concat( args) ));\n    };\n\n    chroma$k.Color = Color_1;\n    chroma$k.version = '2.4.2';\n\n    var chroma_1 = chroma$k;\n\n    var unpack$A = utils.unpack;\n    var max$2 = Math.max;\n\n    var rgb2cmyk$1 = function () {\n        var args = [], len = arguments.length;\n        while ( len-- ) args[ len ] = arguments[ len ];\n\n        var ref = unpack$A(args, 'rgb');\n        var r = ref[0];\n        var g = ref[1];\n        var b = ref[2];\n        r = r / 255;\n        g = g / 255;\n        b = b / 255;\n        var k = 1 - max$2(r,max$2(g,b));\n        var f = k < 1 ? 1 / (1-k) : 0;\n        var c = (1-r-k) * f;\n        var m = (1-g-k) * f;\n        var y = (1-b-k) * f;\n        return [c,m,y,k];\n    };\n\n    var rgb2cmyk_1 = rgb2cmyk$1;\n\n    var unpack$z = utils.unpack;\n\n    var cmyk2rgb = function () {\n        var args = [], len = arguments.length;\n        while ( len-- ) args[ len ] = arguments[ len ];\n\n        args = unpack$z(args, 'cmyk');\n        var c = args[0];\n        var m = args[1];\n        var y = args[2];\n        var k = args[3];\n        var alpha = args.length > 4 ? args[4] : 1;\n        if (k === 1) { return [0,0,0,alpha]; }\n        return [\n            c >= 1 ? 0 : 255 * (1-c) * (1-k), // r\n            m >= 1 ? 0 : 255 * (1-m) * (1-k), // g\n            y >= 1 ? 0 : 255 * (1-y) * (1-k), // b\n            alpha\n        ];\n    };\n\n    var cmyk2rgb_1 = cmyk2rgb;\n\n    var chroma$j = chroma_1;\n    var Color$C = Color_1;\n    var input$g = input$h;\n    var unpack$y = utils.unpack;\n    var type$l = utils.type;\n\n    var rgb2cmyk = rgb2cmyk_1;\n\n    Color$C.prototype.cmyk = function() {\n        return rgb2cmyk(this._rgb);\n    };\n\n    chroma$j.cmyk = function () {\n        var args = [], len = arguments.length;\n        while ( len-- ) args[ len ] = arguments[ len ];\n\n        return new (Function.prototype.bind.apply( Color$C, [ null ].concat( args, ['cmyk']) ));\n    };\n\n    input$g.format.cmyk = cmyk2rgb_1;\n\n    input$g.autodetect.push({\n        p: 2,\n        test: function () {\n            var args = [], len = arguments.length;\n            while ( len-- ) args[ len ] = arguments[ len ];\n\n            args = unpack$y(args, 'cmyk');\n            if (type$l(args) === 'array' && args.length === 4) {\n                return 'cmyk';\n            }\n        }\n    });\n\n    var unpack$x = utils.unpack;\n    var last$2 = utils.last;\n    var rnd = function (a) { return Math.round(a*100)/100; };\n\n    /*\n     * supported arguments:\n     * - hsl2css(h,s,l)\n     * - hsl2css(h,s,l,a)\n     * - hsl2css([h,s,l], mode)\n     * - hsl2css([h,s,l,a], mode)\n     * - hsl2css({h,s,l,a}, mode)\n     */\n    var hsl2css$1 = function () {\n        var args = [], len = arguments.length;\n        while ( len-- ) args[ len ] = arguments[ len ];\n\n        var hsla = unpack$x(args, 'hsla');\n        var mode = last$2(args) || 'lsa';\n        hsla[0] = rnd(hsla[0] || 0);\n        hsla[1] = rnd(hsla[1]*100) + '%';\n        hsla[2] = rnd(hsla[2]*100) + '%';\n        if (mode === 'hsla' || (hsla.length > 3 && hsla[3]<1)) {\n            hsla[3] = hsla.length > 3 ? hsla[3] : 1;\n            mode = 'hsla';\n        } else {\n            hsla.length = 3;\n        }\n        return (mode + \"(\" + (hsla.join(',')) + \")\");\n    };\n\n    var hsl2css_1 = hsl2css$1;\n\n    var unpack$w = utils.unpack;\n\n    /*\n     * supported arguments:\n     * - rgb2hsl(r,g,b)\n     * - rgb2hsl(r,g,b,a)\n     * - rgb2hsl([r,g,b])\n     * - rgb2hsl([r,g,b,a])\n     * - rgb2hsl({r,g,b,a})\n     */\n    var rgb2hsl$3 = function () {\n        var args = [], len = arguments.length;\n        while ( len-- ) args[ len ] = arguments[ len ];\n\n        args = unpack$w(args, 'rgba');\n        var r = args[0];\n        var g = args[1];\n        var b = args[2];\n\n        r /= 255;\n        g /= 255;\n        b /= 255;\n\n        var min = Math.min(r, g, b);\n        var max = Math.max(r, g, b);\n\n        var l = (max + min) / 2;\n        var s, h;\n\n        if (max === min){\n            s = 0;\n            h = Number.NaN;\n        } else {\n            s = l < 0.5 ? (max - min) / (max + min) : (max - min) / (2 - max - min);\n        }\n\n        if (r == max) { h = (g - b) / (max - min); }\n        else if (g == max) { h = 2 + (b - r) / (max - min); }\n        else if (b == max) { h = 4 + (r - g) / (max - min); }\n\n        h *= 60;\n        if (h < 0) { h += 360; }\n        if (args.length>3 && args[3]!==undefined) { return [h,s,l,args[3]]; }\n        return [h,s,l];\n    };\n\n    var rgb2hsl_1 = rgb2hsl$3;\n\n    var unpack$v = utils.unpack;\n    var last$1 = utils.last;\n    var hsl2css = hsl2css_1;\n    var rgb2hsl$2 = rgb2hsl_1;\n    var round$6 = Math.round;\n\n    /*\n     * supported arguments:\n     * - rgb2css(r,g,b)\n     * - rgb2css(r,g,b,a)\n     * - rgb2css([r,g,b], mode)\n     * - rgb2css([r,g,b,a], mode)\n     * - rgb2css({r,g,b,a}, mode)\n     */\n    var rgb2css$1 = function () {\n        var args = [], len = arguments.length;\n        while ( len-- ) args[ len ] = arguments[ len ];\n\n        var rgba = unpack$v(args, 'rgba');\n        var mode = last$1(args) || 'rgb';\n        if (mode.substr(0,3) == 'hsl') {\n            return hsl2css(rgb2hsl$2(rgba), mode);\n        }\n        rgba[0] = round$6(rgba[0]);\n        rgba[1] = round$6(rgba[1]);\n        rgba[2] = round$6(rgba[2]);\n        if (mode === 'rgba' || (rgba.length > 3 && rgba[3]<1)) {\n            rgba[3] = rgba.length > 3 ? rgba[3] : 1;\n            mode = 'rgba';\n        }\n        return (mode + \"(\" + (rgba.slice(0,mode==='rgb'?3:4).join(',')) + \")\");\n    };\n\n    var rgb2css_1 = rgb2css$1;\n\n    var unpack$u = utils.unpack;\n    var round$5 = Math.round;\n\n    var hsl2rgb$1 = function () {\n        var assign;\n\n        var args = [], len = arguments.length;\n        while ( len-- ) args[ len ] = arguments[ len ];\n        args = unpack$u(args, 'hsl');\n        var h = args[0];\n        var s = args[1];\n        var l = args[2];\n        var r,g,b;\n        if (s === 0) {\n            r = g = b = l*255;\n        } else {\n            var t3 = [0,0,0];\n            var c = [0,0,0];\n            var t2 = l < 0.5 ? l * (1+s) : l+s-l*s;\n            var t1 = 2 * l - t2;\n            var h_ = h / 360;\n            t3[0] = h_ + 1/3;\n            t3[1] = h_;\n            t3[2] = h_ - 1/3;\n            for (var i=0; i<3; i++) {\n                if (t3[i] < 0) { t3[i] += 1; }\n                if (t3[i] > 1) { t3[i] -= 1; }\n                if (6 * t3[i] < 1)\n                    { c[i] = t1 + (t2 - t1) * 6 * t3[i]; }\n                else if (2 * t3[i] < 1)\n                    { c[i] = t2; }\n                else if (3 * t3[i] < 2)\n                    { c[i] = t1 + (t2 - t1) * ((2 / 3) - t3[i]) * 6; }\n                else\n                    { c[i] = t1; }\n            }\n            (assign = [round$5(c[0]*255),round$5(c[1]*255),round$5(c[2]*255)], r = assign[0], g = assign[1], b = assign[2]);\n        }\n        if (args.length > 3) {\n            // keep alpha channel\n            return [r,g,b,args[3]];\n        }\n        return [r,g,b,1];\n    };\n\n    var hsl2rgb_1 = hsl2rgb$1;\n\n    var hsl2rgb = hsl2rgb_1;\n    var input$f = input$h;\n\n    var RE_RGB = /^rgb\\(\\s*(-?\\d+),\\s*(-?\\d+)\\s*,\\s*(-?\\d+)\\s*\\)$/;\n    var RE_RGBA = /^rgba\\(\\s*(-?\\d+),\\s*(-?\\d+)\\s*,\\s*(-?\\d+)\\s*,\\s*([01]|[01]?\\.\\d+)\\)$/;\n    var RE_RGB_PCT = /^rgb\\(\\s*(-?\\d+(?:\\.\\d+)?)%,\\s*(-?\\d+(?:\\.\\d+)?)%\\s*,\\s*(-?\\d+(?:\\.\\d+)?)%\\s*\\)$/;\n    var RE_RGBA_PCT = /^rgba\\(\\s*(-?\\d+(?:\\.\\d+)?)%,\\s*(-?\\d+(?:\\.\\d+)?)%\\s*,\\s*(-?\\d+(?:\\.\\d+)?)%\\s*,\\s*([01]|[01]?\\.\\d+)\\)$/;\n    var RE_HSL = /^hsl\\(\\s*(-?\\d+(?:\\.\\d+)?),\\s*(-?\\d+(?:\\.\\d+)?)%\\s*,\\s*(-?\\d+(?:\\.\\d+)?)%\\s*\\)$/;\n    var RE_HSLA = /^hsla\\(\\s*(-?\\d+(?:\\.\\d+)?),\\s*(-?\\d+(?:\\.\\d+)?)%\\s*,\\s*(-?\\d+(?:\\.\\d+)?)%\\s*,\\s*([01]|[01]?\\.\\d+)\\)$/;\n\n    var round$4 = Math.round;\n\n    var css2rgb$1 = function (css) {\n        css = css.toLowerCase().trim();\n        var m;\n\n        if (input$f.format.named) {\n            try {\n                return input$f.format.named(css);\n            } catch (e) {\n                // eslint-disable-next-line\n            }\n        }\n\n        // rgb(250,20,0)\n        if ((m = css.match(RE_RGB))) {\n            var rgb = m.slice(1,4);\n            for (var i=0; i<3; i++) {\n                rgb[i] = +rgb[i];\n            }\n            rgb[3] = 1;  // default alpha\n            return rgb;\n        }\n\n        // rgba(250,20,0,0.4)\n        if ((m = css.match(RE_RGBA))) {\n            var rgb$1 = m.slice(1,5);\n            for (var i$1=0; i$1<4; i$1++) {\n                rgb$1[i$1] = +rgb$1[i$1];\n            }\n            return rgb$1;\n        }\n\n        // rgb(100%,0%,0%)\n        if ((m = css.match(RE_RGB_PCT))) {\n            var rgb$2 = m.slice(1,4);\n            for (var i$2=0; i$2<3; i$2++) {\n                rgb$2[i$2] = round$4(rgb$2[i$2] * 2.55);\n            }\n            rgb$2[3] = 1;  // default alpha\n            return rgb$2;\n        }\n\n        // rgba(100%,0%,0%,0.4)\n        if ((m = css.match(RE_RGBA_PCT))) {\n            var rgb$3 = m.slice(1,5);\n            for (var i$3=0; i$3<3; i$3++) {\n                rgb$3[i$3] = round$4(rgb$3[i$3] * 2.55);\n            }\n            rgb$3[3] = +rgb$3[3];\n            return rgb$3;\n        }\n\n        // hsl(0,100%,50%)\n        if ((m = css.match(RE_HSL))) {\n            var hsl = m.slice(1,4);\n            hsl[1] *= 0.01;\n            hsl[2] *= 0.01;\n            var rgb$4 = hsl2rgb(hsl);\n            rgb$4[3] = 1;\n            return rgb$4;\n        }\n\n        // hsla(0,100%,50%,0.5)\n        if ((m = css.match(RE_HSLA))) {\n            var hsl$1 = m.slice(1,4);\n            hsl$1[1] *= 0.01;\n            hsl$1[2] *= 0.01;\n            var rgb$5 = hsl2rgb(hsl$1);\n            rgb$5[3] = +m[4];  // default alpha = 1\n            return rgb$5;\n        }\n    };\n\n    css2rgb$1.test = function (s) {\n        return RE_RGB.test(s) ||\n            RE_RGBA.test(s) ||\n            RE_RGB_PCT.test(s) ||\n            RE_RGBA_PCT.test(s) ||\n            RE_HSL.test(s) ||\n            RE_HSLA.test(s);\n    };\n\n    var css2rgb_1 = css2rgb$1;\n\n    var chroma$i = chroma_1;\n    var Color$B = Color_1;\n    var input$e = input$h;\n    var type$k = utils.type;\n\n    var rgb2css = rgb2css_1;\n    var css2rgb = css2rgb_1;\n\n    Color$B.prototype.css = function(mode) {\n        return rgb2css(this._rgb, mode);\n    };\n\n    chroma$i.css = function () {\n        var args = [], len = arguments.length;\n        while ( len-- ) args[ len ] = arguments[ len ];\n\n        return new (Function.prototype.bind.apply( Color$B, [ null ].concat( args, ['css']) ));\n    };\n\n    input$e.format.css = css2rgb;\n\n    input$e.autodetect.push({\n        p: 5,\n        test: function (h) {\n            var rest = [], len = arguments.length - 1;\n            while ( len-- > 0 ) rest[ len ] = arguments[ len + 1 ];\n\n            if (!rest.length && type$k(h) === 'string' && css2rgb.test(h)) {\n                return 'css';\n            }\n        }\n    });\n\n    var Color$A = Color_1;\n    var chroma$h = chroma_1;\n    var input$d = input$h;\n    var unpack$t = utils.unpack;\n\n    input$d.format.gl = function () {\n        var args = [], len = arguments.length;\n        while ( len-- ) args[ len ] = arguments[ len ];\n\n        var rgb = unpack$t(args, 'rgba');\n        rgb[0] *= 255;\n        rgb[1] *= 255;\n        rgb[2] *= 255;\n        return rgb;\n    };\n\n    chroma$h.gl = function () {\n        var args = [], len = arguments.length;\n        while ( len-- ) args[ len ] = arguments[ len ];\n\n        return new (Function.prototype.bind.apply( Color$A, [ null ].concat( args, ['gl']) ));\n    };\n\n    Color$A.prototype.gl = function() {\n        var rgb = this._rgb;\n        return [rgb[0]/255, rgb[1]/255, rgb[2]/255, rgb[3]];\n    };\n\n    var unpack$s = utils.unpack;\n\n    var rgb2hcg$1 = function () {\n        var args = [], len = arguments.length;\n        while ( len-- ) args[ len ] = arguments[ len ];\n\n        var ref = unpack$s(args, 'rgb');\n        var r = ref[0];\n        var g = ref[1];\n        var b = ref[2];\n        var min = Math.min(r, g, b);\n        var max = Math.max(r, g, b);\n        var delta = max - min;\n        var c = delta * 100 / 255;\n        var _g = min / (255 - delta) * 100;\n        var h;\n        if (delta === 0) {\n            h = Number.NaN;\n        } else {\n            if (r === max) { h = (g - b) / delta; }\n            if (g === max) { h = 2+(b - r) / delta; }\n            if (b === max) { h = 4+(r - g) / delta; }\n            h *= 60;\n            if (h < 0) { h += 360; }\n        }\n        return [h, c, _g];\n    };\n\n    var rgb2hcg_1 = rgb2hcg$1;\n\n    var unpack$r = utils.unpack;\n    var floor$3 = Math.floor;\n\n    /*\n     * this is basically just HSV with some minor tweaks\n     *\n     * hue.. [0..360]\n     * chroma .. [0..1]\n     * grayness .. [0..1]\n     */\n\n    var hcg2rgb = function () {\n        var assign, assign$1, assign$2, assign$3, assign$4, assign$5;\n\n        var args = [], len = arguments.length;\n        while ( len-- ) args[ len ] = arguments[ len ];\n        args = unpack$r(args, 'hcg');\n        var h = args[0];\n        var c = args[1];\n        var _g = args[2];\n        var r,g,b;\n        _g = _g * 255;\n        var _c = c * 255;\n        if (c === 0) {\n            r = g = b = _g;\n        } else {\n            if (h === 360) { h = 0; }\n            if (h > 360) { h -= 360; }\n            if (h < 0) { h += 360; }\n            h /= 60;\n            var i = floor$3(h);\n            var f = h - i;\n            var p = _g * (1 - c);\n            var q = p + _c * (1 - f);\n            var t = p + _c * f;\n            var v = p + _c;\n            switch (i) {\n                case 0: (assign = [v, t, p], r = assign[0], g = assign[1], b = assign[2]); break\n                case 1: (assign$1 = [q, v, p], r = assign$1[0], g = assign$1[1], b = assign$1[2]); break\n                case 2: (assign$2 = [p, v, t], r = assign$2[0], g = assign$2[1], b = assign$2[2]); break\n                case 3: (assign$3 = [p, q, v], r = assign$3[0], g = assign$3[1], b = assign$3[2]); break\n                case 4: (assign$4 = [t, p, v], r = assign$4[0], g = assign$4[1], b = assign$4[2]); break\n                case 5: (assign$5 = [v, p, q], r = assign$5[0], g = assign$5[1], b = assign$5[2]); break\n            }\n        }\n        return [r, g, b, args.length > 3 ? args[3] : 1];\n    };\n\n    var hcg2rgb_1 = hcg2rgb;\n\n    var unpack$q = utils.unpack;\n    var type$j = utils.type;\n    var chroma$g = chroma_1;\n    var Color$z = Color_1;\n    var input$c = input$h;\n\n    var rgb2hcg = rgb2hcg_1;\n\n    Color$z.prototype.hcg = function() {\n        return rgb2hcg(this._rgb);\n    };\n\n    chroma$g.hcg = function () {\n        var args = [], len = arguments.length;\n        while ( len-- ) args[ len ] = arguments[ len ];\n\n        return new (Function.prototype.bind.apply( Color$z, [ null ].concat( args, ['hcg']) ));\n    };\n\n    input$c.format.hcg = hcg2rgb_1;\n\n    input$c.autodetect.push({\n        p: 1,\n        test: function () {\n            var args = [], len = arguments.length;\n            while ( len-- ) args[ len ] = arguments[ len ];\n\n            args = unpack$q(args, 'hcg');\n            if (type$j(args) === 'array' && args.length === 3) {\n                return 'hcg';\n            }\n        }\n    });\n\n    var unpack$p = utils.unpack;\n    var last = utils.last;\n    var round$3 = Math.round;\n\n    var rgb2hex$2 = function () {\n        var args = [], len = arguments.length;\n        while ( len-- ) args[ len ] = arguments[ len ];\n\n        var ref = unpack$p(args, 'rgba');\n        var r = ref[0];\n        var g = ref[1];\n        var b = ref[2];\n        var a = ref[3];\n        var mode = last(args) || 'auto';\n        if (a === undefined) { a = 1; }\n        if (mode === 'auto') {\n            mode = a < 1 ? 'rgba' : 'rgb';\n        }\n        r = round$3(r);\n        g = round$3(g);\n        b = round$3(b);\n        var u = r << 16 | g << 8 | b;\n        var str = \"000000\" + u.toString(16); //#.toUpperCase();\n        str = str.substr(str.length - 6);\n        var hxa = '0' + round$3(a * 255).toString(16);\n        hxa = hxa.substr(hxa.length - 2);\n        switch (mode.toLowerCase()) {\n            case 'rgba': return (\"#\" + str + hxa);\n            case 'argb': return (\"#\" + hxa + str);\n            default: return (\"#\" + str);\n        }\n    };\n\n    var rgb2hex_1 = rgb2hex$2;\n\n    var RE_HEX = /^#?([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/;\n    var RE_HEXA = /^#?([A-Fa-f0-9]{8}|[A-Fa-f0-9]{4})$/;\n\n    var hex2rgb$1 = function (hex) {\n        if (hex.match(RE_HEX)) {\n            // remove optional leading #\n            if (hex.length === 4 || hex.length === 7) {\n                hex = hex.substr(1);\n            }\n            // expand short-notation to full six-digit\n            if (hex.length === 3) {\n                hex = hex.split('');\n                hex = hex[0]+hex[0]+hex[1]+hex[1]+hex[2]+hex[2];\n            }\n            var u = parseInt(hex, 16);\n            var r = u >> 16;\n            var g = u >> 8 & 0xFF;\n            var b = u & 0xFF;\n            return [r,g,b,1];\n        }\n\n        // match rgba hex format, eg #FF000077\n        if (hex.match(RE_HEXA)) {\n            if (hex.length === 5 || hex.length === 9) {\n                // remove optional leading #\n                hex = hex.substr(1);\n            }\n            // expand short-notation to full eight-digit\n            if (hex.length === 4) {\n                hex = hex.split('');\n                hex = hex[0]+hex[0]+hex[1]+hex[1]+hex[2]+hex[2]+hex[3]+hex[3];\n            }\n            var u$1 = parseInt(hex, 16);\n            var r$1 = u$1 >> 24 & 0xFF;\n            var g$1 = u$1 >> 16 & 0xFF;\n            var b$1 = u$1 >> 8 & 0xFF;\n            var a = Math.round((u$1 & 0xFF) / 0xFF * 100) / 100;\n            return [r$1,g$1,b$1,a];\n        }\n\n        // we used to check for css colors here\n        // if _input.css? and rgb = _input.css hex\n        //     return rgb\n\n        throw new Error((\"unknown hex color: \" + hex));\n    };\n\n    var hex2rgb_1 = hex2rgb$1;\n\n    var chroma$f = chroma_1;\n    var Color$y = Color_1;\n    var type$i = utils.type;\n    var input$b = input$h;\n\n    var rgb2hex$1 = rgb2hex_1;\n\n    Color$y.prototype.hex = function(mode) {\n        return rgb2hex$1(this._rgb, mode);\n    };\n\n    chroma$f.hex = function () {\n        var args = [], len = arguments.length;\n        while ( len-- ) args[ len ] = arguments[ len ];\n\n        return new (Function.prototype.bind.apply( Color$y, [ null ].concat( args, ['hex']) ));\n    };\n\n    input$b.format.hex = hex2rgb_1;\n    input$b.autodetect.push({\n        p: 4,\n        test: function (h) {\n            var rest = [], len = arguments.length - 1;\n            while ( len-- > 0 ) rest[ len ] = arguments[ len + 1 ];\n\n            if (!rest.length && type$i(h) === 'string' && [3,4,5,6,7,8,9].indexOf(h.length) >= 0) {\n                return 'hex';\n            }\n        }\n    });\n\n    var unpack$o = utils.unpack;\n    var TWOPI$2 = utils.TWOPI;\n    var min$2 = Math.min;\n    var sqrt$4 = Math.sqrt;\n    var acos = Math.acos;\n\n    var rgb2hsi$1 = function () {\n        var args = [], len = arguments.length;\n        while ( len-- ) args[ len ] = arguments[ len ];\n\n        /*\n        borrowed from here:\n        http://hummer.stanford.edu/museinfo/doc/examples/humdrum/keyscape2/rgb2hsi.cpp\n        */\n        var ref = unpack$o(args, 'rgb');\n        var r = ref[0];\n        var g = ref[1];\n        var b = ref[2];\n        r /= 255;\n        g /= 255;\n        b /= 255;\n        var h;\n        var min_ = min$2(r,g,b);\n        var i = (r+g+b) / 3;\n        var s = i > 0 ? 1 - min_/i : 0;\n        if (s === 0) {\n            h = NaN;\n        } else {\n            h = ((r-g)+(r-b)) / 2;\n            h /= sqrt$4((r-g)*(r-g) + (r-b)*(g-b));\n            h = acos(h);\n            if (b > g) {\n                h = TWOPI$2 - h;\n            }\n            h /= TWOPI$2;\n        }\n        return [h*360,s,i];\n    };\n\n    var rgb2hsi_1 = rgb2hsi$1;\n\n    var unpack$n = utils.unpack;\n    var limit = utils.limit;\n    var TWOPI$1 = utils.TWOPI;\n    var PITHIRD = utils.PITHIRD;\n    var cos$4 = Math.cos;\n\n    /*\n     * hue [0..360]\n     * saturation [0..1]\n     * intensity [0..1]\n     */\n    var hsi2rgb = function () {\n        var args = [], len = arguments.length;\n        while ( len-- ) args[ len ] = arguments[ len ];\n\n        /*\n        borrowed from here:\n        http://hummer.stanford.edu/museinfo/doc/examples/humdrum/keyscape2/hsi2rgb.cpp\n        */\n        args = unpack$n(args, 'hsi');\n        var h = args[0];\n        var s = args[1];\n        var i = args[2];\n        var r,g,b;\n\n        if (isNaN(h)) { h = 0; }\n        if (isNaN(s)) { s = 0; }\n        // normalize hue\n        if (h > 360) { h -= 360; }\n        if (h < 0) { h += 360; }\n        h /= 360;\n        if (h < 1/3) {\n            b = (1-s)/3;\n            r = (1+s*cos$4(TWOPI$1*h)/cos$4(PITHIRD-TWOPI$1*h))/3;\n            g = 1 - (b+r);\n        } else if (h < 2/3) {\n            h -= 1/3;\n            r = (1-s)/3;\n            g = (1+s*cos$4(TWOPI$1*h)/cos$4(PITHIRD-TWOPI$1*h))/3;\n            b = 1 - (r+g);\n        } else {\n            h -= 2/3;\n            g = (1-s)/3;\n            b = (1+s*cos$4(TWOPI$1*h)/cos$4(PITHIRD-TWOPI$1*h))/3;\n            r = 1 - (g+b);\n        }\n        r = limit(i*r*3);\n        g = limit(i*g*3);\n        b = limit(i*b*3);\n        return [r*255, g*255, b*255, args.length > 3 ? args[3] : 1];\n    };\n\n    var hsi2rgb_1 = hsi2rgb;\n\n    var unpack$m = utils.unpack;\n    var type$h = utils.type;\n    var chroma$e = chroma_1;\n    var Color$x = Color_1;\n    var input$a = input$h;\n\n    var rgb2hsi = rgb2hsi_1;\n\n    Color$x.prototype.hsi = function() {\n        return rgb2hsi(this._rgb);\n    };\n\n    chroma$e.hsi = function () {\n        var args = [], len = arguments.length;\n        while ( len-- ) args[ len ] = arguments[ len ];\n\n        return new (Function.prototype.bind.apply( Color$x, [ null ].concat( args, ['hsi']) ));\n    };\n\n    input$a.format.hsi = hsi2rgb_1;\n\n    input$a.autodetect.push({\n        p: 2,\n        test: function () {\n            var args = [], len = arguments.length;\n            while ( len-- ) args[ len ] = arguments[ len ];\n\n            args = unpack$m(args, 'hsi');\n            if (type$h(args) === 'array' && args.length === 3) {\n                return 'hsi';\n            }\n        }\n    });\n\n    var unpack$l = utils.unpack;\n    var type$g = utils.type;\n    var chroma$d = chroma_1;\n    var Color$w = Color_1;\n    var input$9 = input$h;\n\n    var rgb2hsl$1 = rgb2hsl_1;\n\n    Color$w.prototype.hsl = function() {\n        return rgb2hsl$1(this._rgb);\n    };\n\n    chroma$d.hsl = function () {\n        var args = [], len = arguments.length;\n        while ( len-- ) args[ len ] = arguments[ len ];\n\n        return new (Function.prototype.bind.apply( Color$w, [ null ].concat( args, ['hsl']) ));\n    };\n\n    input$9.format.hsl = hsl2rgb_1;\n\n    input$9.autodetect.push({\n        p: 2,\n        test: function () {\n            var args = [], len = arguments.length;\n            while ( len-- ) args[ len ] = arguments[ len ];\n\n            args = unpack$l(args, 'hsl');\n            if (type$g(args) === 'array' && args.length === 3) {\n                return 'hsl';\n            }\n        }\n    });\n\n    var unpack$k = utils.unpack;\n    var min$1 = Math.min;\n    var max$1 = Math.max;\n\n    /*\n     * supported arguments:\n     * - rgb2hsv(r,g,b)\n     * - rgb2hsv([r,g,b])\n     * - rgb2hsv({r,g,b})\n     */\n    var rgb2hsl = function () {\n        var args = [], len = arguments.length;\n        while ( len-- ) args[ len ] = arguments[ len ];\n\n        args = unpack$k(args, 'rgb');\n        var r = args[0];\n        var g = args[1];\n        var b = args[2];\n        var min_ = min$1(r, g, b);\n        var max_ = max$1(r, g, b);\n        var delta = max_ - min_;\n        var h,s,v;\n        v = max_ / 255.0;\n        if (max_ === 0) {\n            h = Number.NaN;\n            s = 0;\n        } else {\n            s = delta / max_;\n            if (r === max_) { h = (g - b) / delta; }\n            if (g === max_) { h = 2+(b - r) / delta; }\n            if (b === max_) { h = 4+(r - g) / delta; }\n            h *= 60;\n            if (h < 0) { h += 360; }\n        }\n        return [h, s, v]\n    };\n\n    var rgb2hsv$1 = rgb2hsl;\n\n    var unpack$j = utils.unpack;\n    var floor$2 = Math.floor;\n\n    var hsv2rgb = function () {\n        var assign, assign$1, assign$2, assign$3, assign$4, assign$5;\n\n        var args = [], len = arguments.length;\n        while ( len-- ) args[ len ] = arguments[ len ];\n        args = unpack$j(args, 'hsv');\n        var h = args[0];\n        var s = args[1];\n        var v = args[2];\n        var r,g,b;\n        v *= 255;\n        if (s === 0) {\n            r = g = b = v;\n        } else {\n            if (h === 360) { h = 0; }\n            if (h > 360) { h -= 360; }\n            if (h < 0) { h += 360; }\n            h /= 60;\n\n            var i = floor$2(h);\n            var f = h - i;\n            var p = v * (1 - s);\n            var q = v * (1 - s * f);\n            var t = v * (1 - s * (1 - f));\n\n            switch (i) {\n                case 0: (assign = [v, t, p], r = assign[0], g = assign[1], b = assign[2]); break\n                case 1: (assign$1 = [q, v, p], r = assign$1[0], g = assign$1[1], b = assign$1[2]); break\n                case 2: (assign$2 = [p, v, t], r = assign$2[0], g = assign$2[1], b = assign$2[2]); break\n                case 3: (assign$3 = [p, q, v], r = assign$3[0], g = assign$3[1], b = assign$3[2]); break\n                case 4: (assign$4 = [t, p, v], r = assign$4[0], g = assign$4[1], b = assign$4[2]); break\n                case 5: (assign$5 = [v, p, q], r = assign$5[0], g = assign$5[1], b = assign$5[2]); break\n            }\n        }\n        return [r,g,b,args.length > 3?args[3]:1];\n    };\n\n    var hsv2rgb_1 = hsv2rgb;\n\n    var unpack$i = utils.unpack;\n    var type$f = utils.type;\n    var chroma$c = chroma_1;\n    var Color$v = Color_1;\n    var input$8 = input$h;\n\n    var rgb2hsv = rgb2hsv$1;\n\n    Color$v.prototype.hsv = function() {\n        return rgb2hsv(this._rgb);\n    };\n\n    chroma$c.hsv = function () {\n        var args = [], len = arguments.length;\n        while ( len-- ) args[ len ] = arguments[ len ];\n\n        return new (Function.prototype.bind.apply( Color$v, [ null ].concat( args, ['hsv']) ));\n    };\n\n    input$8.format.hsv = hsv2rgb_1;\n\n    input$8.autodetect.push({\n        p: 2,\n        test: function () {\n            var args = [], len = arguments.length;\n            while ( len-- ) args[ len ] = arguments[ len ];\n\n            args = unpack$i(args, 'hsv');\n            if (type$f(args) === 'array' && args.length === 3) {\n                return 'hsv';\n            }\n        }\n    });\n\n    var labConstants = {\n        // Corresponds roughly to RGB brighter/darker\n        Kn: 18,\n\n        // D65 standard referent\n        Xn: 0.950470,\n        Yn: 1,\n        Zn: 1.088830,\n\n        t0: 0.137931034,  // 4 / 29\n        t1: 0.206896552,  // 6 / 29\n        t2: 0.12841855,   // 3 * t1 * t1\n        t3: 0.008856452,  // t1 * t1 * t1\n    };\n\n    var LAB_CONSTANTS$3 = labConstants;\n    var unpack$h = utils.unpack;\n    var pow$a = Math.pow;\n\n    var rgb2lab$2 = function () {\n        var args = [], len = arguments.length;\n        while ( len-- ) args[ len ] = arguments[ len ];\n\n        var ref = unpack$h(args, 'rgb');\n        var r = ref[0];\n        var g = ref[1];\n        var b = ref[2];\n        var ref$1 = rgb2xyz(r,g,b);\n        var x = ref$1[0];\n        var y = ref$1[1];\n        var z = ref$1[2];\n        var l = 116 * y - 16;\n        return [l < 0 ? 0 : l, 500 * (x - y), 200 * (y - z)];\n    };\n\n    var rgb_xyz = function (r) {\n        if ((r /= 255) <= 0.04045) { return r / 12.92; }\n        return pow$a((r + 0.055) / 1.055, 2.4);\n    };\n\n    var xyz_lab = function (t) {\n        if (t > LAB_CONSTANTS$3.t3) { return pow$a(t, 1 / 3); }\n        return t / LAB_CONSTANTS$3.t2 + LAB_CONSTANTS$3.t0;\n    };\n\n    var rgb2xyz = function (r,g,b) {\n        r = rgb_xyz(r);\n        g = rgb_xyz(g);\n        b = rgb_xyz(b);\n        var x = xyz_lab((0.4124564 * r + 0.3575761 * g + 0.1804375 * b) / LAB_CONSTANTS$3.Xn);\n        var y = xyz_lab((0.2126729 * r + 0.7151522 * g + 0.0721750 * b) / LAB_CONSTANTS$3.Yn);\n        var z = xyz_lab((0.0193339 * r + 0.1191920 * g + 0.9503041 * b) / LAB_CONSTANTS$3.Zn);\n        return [x,y,z];\n    };\n\n    var rgb2lab_1 = rgb2lab$2;\n\n    var LAB_CONSTANTS$2 = labConstants;\n    var unpack$g = utils.unpack;\n    var pow$9 = Math.pow;\n\n    /*\n     * L* [0..100]\n     * a [-100..100]\n     * b [-100..100]\n     */\n    var lab2rgb$1 = function () {\n        var args = [], len = arguments.length;\n        while ( len-- ) args[ len ] = arguments[ len ];\n\n        args = unpack$g(args, 'lab');\n        var l = args[0];\n        var a = args[1];\n        var b = args[2];\n        var x,y,z, r,g,b_;\n\n        y = (l + 16) / 116;\n        x = isNaN(a) ? y : y + a / 500;\n        z = isNaN(b) ? y : y - b / 200;\n\n        y = LAB_CONSTANTS$2.Yn * lab_xyz(y);\n        x = LAB_CONSTANTS$2.Xn * lab_xyz(x);\n        z = LAB_CONSTANTS$2.Zn * lab_xyz(z);\n\n        r = xyz_rgb(3.2404542 * x - 1.5371385 * y - 0.4985314 * z);  // D65 -> sRGB\n        g = xyz_rgb(-0.9692660 * x + 1.8760108 * y + 0.0415560 * z);\n        b_ = xyz_rgb(0.0556434 * x - 0.2040259 * y + 1.0572252 * z);\n\n        return [r,g,b_,args.length > 3 ? args[3] : 1];\n    };\n\n    var xyz_rgb = function (r) {\n        return 255 * (r <= 0.00304 ? 12.92 * r : 1.055 * pow$9(r, 1 / 2.4) - 0.055)\n    };\n\n    var lab_xyz = function (t) {\n        return t > LAB_CONSTANTS$2.t1 ? t * t * t : LAB_CONSTANTS$2.t2 * (t - LAB_CONSTANTS$2.t0)\n    };\n\n    var lab2rgb_1 = lab2rgb$1;\n\n    var unpack$f = utils.unpack;\n    var type$e = utils.type;\n    var chroma$b = chroma_1;\n    var Color$u = Color_1;\n    var input$7 = input$h;\n\n    var rgb2lab$1 = rgb2lab_1;\n\n    Color$u.prototype.lab = function() {\n        return rgb2lab$1(this._rgb);\n    };\n\n    chroma$b.lab = function () {\n        var args = [], len = arguments.length;\n        while ( len-- ) args[ len ] = arguments[ len ];\n\n        return new (Function.prototype.bind.apply( Color$u, [ null ].concat( args, ['lab']) ));\n    };\n\n    input$7.format.lab = lab2rgb_1;\n\n    input$7.autodetect.push({\n        p: 2,\n        test: function () {\n            var args = [], len = arguments.length;\n            while ( len-- ) args[ len ] = arguments[ len ];\n\n            args = unpack$f(args, 'lab');\n            if (type$e(args) === 'array' && args.length === 3) {\n                return 'lab';\n            }\n        }\n    });\n\n    var unpack$e = utils.unpack;\n    var RAD2DEG = utils.RAD2DEG;\n    var sqrt$3 = Math.sqrt;\n    var atan2$2 = Math.atan2;\n    var round$2 = Math.round;\n\n    var lab2lch$2 = function () {\n        var args = [], len = arguments.length;\n        while ( len-- ) args[ len ] = arguments[ len ];\n\n        var ref = unpack$e(args, 'lab');\n        var l = ref[0];\n        var a = ref[1];\n        var b = ref[2];\n        var c = sqrt$3(a * a + b * b);\n        var h = (atan2$2(b, a) * RAD2DEG + 360) % 360;\n        if (round$2(c*10000) === 0) { h = Number.NaN; }\n        return [l, c, h];\n    };\n\n    var lab2lch_1 = lab2lch$2;\n\n    var unpack$d = utils.unpack;\n    var rgb2lab = rgb2lab_1;\n    var lab2lch$1 = lab2lch_1;\n\n    var rgb2lch$1 = function () {\n        var args = [], len = arguments.length;\n        while ( len-- ) args[ len ] = arguments[ len ];\n\n        var ref = unpack$d(args, 'rgb');\n        var r = ref[0];\n        var g = ref[1];\n        var b = ref[2];\n        var ref$1 = rgb2lab(r,g,b);\n        var l = ref$1[0];\n        var a = ref$1[1];\n        var b_ = ref$1[2];\n        return lab2lch$1(l,a,b_);\n    };\n\n    var rgb2lch_1 = rgb2lch$1;\n\n    var unpack$c = utils.unpack;\n    var DEG2RAD = utils.DEG2RAD;\n    var sin$3 = Math.sin;\n    var cos$3 = Math.cos;\n\n    var lch2lab$2 = function () {\n        var args = [], len = arguments.length;\n        while ( len-- ) args[ len ] = arguments[ len ];\n\n        /*\n        Convert from a qualitative parameter h and a quantitative parameter l to a 24-bit pixel.\n        These formulas were invented by David Dalrymple to obtain maximum contrast without going\n        out of gamut if the parameters are in the range 0-1.\n\n        A saturation multiplier was added by Gregor Aisch\n        */\n        var ref = unpack$c(args, 'lch');\n        var l = ref[0];\n        var c = ref[1];\n        var h = ref[2];\n        if (isNaN(h)) { h = 0; }\n        h = h * DEG2RAD;\n        return [l, cos$3(h) * c, sin$3(h) * c]\n    };\n\n    var lch2lab_1 = lch2lab$2;\n\n    var unpack$b = utils.unpack;\n    var lch2lab$1 = lch2lab_1;\n    var lab2rgb = lab2rgb_1;\n\n    var lch2rgb$1 = function () {\n        var args = [], len = arguments.length;\n        while ( len-- ) args[ len ] = arguments[ len ];\n\n        args = unpack$b(args, 'lch');\n        var l = args[0];\n        var c = args[1];\n        var h = args[2];\n        var ref = lch2lab$1 (l,c,h);\n        var L = ref[0];\n        var a = ref[1];\n        var b_ = ref[2];\n        var ref$1 = lab2rgb (L,a,b_);\n        var r = ref$1[0];\n        var g = ref$1[1];\n        var b = ref$1[2];\n        return [r, g, b, args.length > 3 ? args[3] : 1];\n    };\n\n    var lch2rgb_1 = lch2rgb$1;\n\n    var unpack$a = utils.unpack;\n    var lch2rgb = lch2rgb_1;\n\n    var hcl2rgb = function () {\n        var args = [], len = arguments.length;\n        while ( len-- ) args[ len ] = arguments[ len ];\n\n        var hcl = unpack$a(args, 'hcl').reverse();\n        return lch2rgb.apply(void 0, hcl);\n    };\n\n    var hcl2rgb_1 = hcl2rgb;\n\n    var unpack$9 = utils.unpack;\n    var type$d = utils.type;\n    var chroma$a = chroma_1;\n    var Color$t = Color_1;\n    var input$6 = input$h;\n\n    var rgb2lch = rgb2lch_1;\n\n    Color$t.prototype.lch = function() { return rgb2lch(this._rgb); };\n    Color$t.prototype.hcl = function() { return rgb2lch(this._rgb).reverse(); };\n\n    chroma$a.lch = function () {\n        var args = [], len = arguments.length;\n        while ( len-- ) args[ len ] = arguments[ len ];\n\n        return new (Function.prototype.bind.apply( Color$t, [ null ].concat( args, ['lch']) ));\n    };\n    chroma$a.hcl = function () {\n        var args = [], len = arguments.length;\n        while ( len-- ) args[ len ] = arguments[ len ];\n\n        return new (Function.prototype.bind.apply( Color$t, [ null ].concat( args, ['hcl']) ));\n    };\n\n    input$6.format.lch = lch2rgb_1;\n    input$6.format.hcl = hcl2rgb_1;\n\n    ['lch','hcl'].forEach(function (m) { return input$6.autodetect.push({\n        p: 2,\n        test: function () {\n            var args = [], len = arguments.length;\n            while ( len-- ) args[ len ] = arguments[ len ];\n\n            args = unpack$9(args, m);\n            if (type$d(args) === 'array' && args.length === 3) {\n                return m;\n            }\n        }\n    }); });\n\n    /**\n    \tX11 color names\n\n    \thttp://www.w3.org/TR/css3-color/#svg-color\n    */\n\n    var w3cx11$1 = {\n        aliceblue: '#f0f8ff',\n        antiquewhite: '#faebd7',\n        aqua: '#00ffff',\n        aquamarine: '#7fffd4',\n        azure: '#f0ffff',\n        beige: '#f5f5dc',\n        bisque: '#ffe4c4',\n        black: '#000000',\n        blanchedalmond: '#ffebcd',\n        blue: '#0000ff',\n        blueviolet: '#8a2be2',\n        brown: '#a52a2a',\n        burlywood: '#deb887',\n        cadetblue: '#5f9ea0',\n        chartreuse: '#7fff00',\n        chocolate: '#d2691e',\n        coral: '#ff7f50',\n        cornflower: '#6495ed',\n        cornflowerblue: '#6495ed',\n        cornsilk: '#fff8dc',\n        crimson: '#dc143c',\n        cyan: '#00ffff',\n        darkblue: '#00008b',\n        darkcyan: '#008b8b',\n        darkgoldenrod: '#b8860b',\n        darkgray: '#a9a9a9',\n        darkgreen: '#006400',\n        darkgrey: '#a9a9a9',\n        darkkhaki: '#bdb76b',\n        darkmagenta: '#8b008b',\n        darkolivegreen: '#556b2f',\n        darkorange: '#ff8c00',\n        darkorchid: '#9932cc',\n        darkred: '#8b0000',\n        darksalmon: '#e9967a',\n        darkseagreen: '#8fbc8f',\n        darkslateblue: '#483d8b',\n        darkslategray: '#2f4f4f',\n        darkslategrey: '#2f4f4f',\n        darkturquoise: '#00ced1',\n        darkviolet: '#9400d3',\n        deeppink: '#ff1493',\n        deepskyblue: '#00bfff',\n        dimgray: '#696969',\n        dimgrey: '#696969',\n        dodgerblue: '#1e90ff',\n        firebrick: '#b22222',\n        floralwhite: '#fffaf0',\n        forestgreen: '#228b22',\n        fuchsia: '#ff00ff',\n        gainsboro: '#dcdcdc',\n        ghostwhite: '#f8f8ff',\n        gold: '#ffd700',\n        goldenrod: '#daa520',\n        gray: '#808080',\n        green: '#008000',\n        greenyellow: '#adff2f',\n        grey: '#808080',\n        honeydew: '#f0fff0',\n        hotpink: '#ff69b4',\n        indianred: '#cd5c5c',\n        indigo: '#4b0082',\n        ivory: '#fffff0',\n        khaki: '#f0e68c',\n        laserlemon: '#ffff54',\n        lavender: '#e6e6fa',\n        lavenderblush: '#fff0f5',\n        lawngreen: '#7cfc00',\n        lemonchiffon: '#fffacd',\n        lightblue: '#add8e6',\n        lightcoral: '#f08080',\n        lightcyan: '#e0ffff',\n        lightgoldenrod: '#fafad2',\n        lightgoldenrodyellow: '#fafad2',\n        lightgray: '#d3d3d3',\n        lightgreen: '#90ee90',\n        lightgrey: '#d3d3d3',\n        lightpink: '#ffb6c1',\n        lightsalmon: '#ffa07a',\n        lightseagreen: '#20b2aa',\n        lightskyblue: '#87cefa',\n        lightslategray: '#778899',\n        lightslategrey: '#778899',\n        lightsteelblue: '#b0c4de',\n        lightyellow: '#ffffe0',\n        lime: '#00ff00',\n        limegreen: '#32cd32',\n        linen: '#faf0e6',\n        magenta: '#ff00ff',\n        maroon: '#800000',\n        maroon2: '#7f0000',\n        maroon3: '#b03060',\n        mediumaquamarine: '#66cdaa',\n        mediumblue: '#0000cd',\n        mediumorchid: '#ba55d3',\n        mediumpurple: '#9370db',\n        mediumseagreen: '#3cb371',\n        mediumslateblue: '#7b68ee',\n        mediumspringgreen: '#00fa9a',\n        mediumturquoise: '#48d1cc',\n        mediumvioletred: '#c71585',\n        midnightblue: '#191970',\n        mintcream: '#f5fffa',\n        mistyrose: '#ffe4e1',\n        moccasin: '#ffe4b5',\n        navajowhite: '#ffdead',\n        navy: '#000080',\n        oldlace: '#fdf5e6',\n        olive: '#808000',\n        olivedrab: '#6b8e23',\n        orange: '#ffa500',\n        orangered: '#ff4500',\n        orchid: '#da70d6',\n        palegoldenrod: '#eee8aa',\n        palegreen: '#98fb98',\n        paleturquoise: '#afeeee',\n        palevioletred: '#db7093',\n        papayawhip: '#ffefd5',\n        peachpuff: '#ffdab9',\n        peru: '#cd853f',\n        pink: '#ffc0cb',\n        plum: '#dda0dd',\n        powderblue: '#b0e0e6',\n        purple: '#800080',\n        purple2: '#7f007f',\n        purple3: '#a020f0',\n        rebeccapurple: '#663399',\n        red: '#ff0000',\n        rosybrown: '#bc8f8f',\n        royalblue: '#4169e1',\n        saddlebrown: '#8b4513',\n        salmon: '#fa8072',\n        sandybrown: '#f4a460',\n        seagreen: '#2e8b57',\n        seashell: '#fff5ee',\n        sienna: '#a0522d',\n        silver: '#c0c0c0',\n        skyblue: '#87ceeb',\n        slateblue: '#6a5acd',\n        slategray: '#708090',\n        slategrey: '#708090',\n        snow: '#fffafa',\n        springgreen: '#00ff7f',\n        steelblue: '#4682b4',\n        tan: '#d2b48c',\n        teal: '#008080',\n        thistle: '#d8bfd8',\n        tomato: '#ff6347',\n        turquoise: '#40e0d0',\n        violet: '#ee82ee',\n        wheat: '#f5deb3',\n        white: '#ffffff',\n        whitesmoke: '#f5f5f5',\n        yellow: '#ffff00',\n        yellowgreen: '#9acd32'\n    };\n\n    var w3cx11_1 = w3cx11$1;\n\n    var Color$s = Color_1;\n    var input$5 = input$h;\n    var type$c = utils.type;\n\n    var w3cx11 = w3cx11_1;\n    var hex2rgb = hex2rgb_1;\n    var rgb2hex = rgb2hex_1;\n\n    Color$s.prototype.name = function() {\n        var hex = rgb2hex(this._rgb, 'rgb');\n        for (var i = 0, list = Object.keys(w3cx11); i < list.length; i += 1) {\n            var n = list[i];\n\n            if (w3cx11[n] === hex) { return n.toLowerCase(); }\n        }\n        return hex;\n    };\n\n    input$5.format.named = function (name) {\n        name = name.toLowerCase();\n        if (w3cx11[name]) { return hex2rgb(w3cx11[name]); }\n        throw new Error('unknown color name: '+name);\n    };\n\n    input$5.autodetect.push({\n        p: 5,\n        test: function (h) {\n            var rest = [], len = arguments.length - 1;\n            while ( len-- > 0 ) rest[ len ] = arguments[ len + 1 ];\n\n            if (!rest.length && type$c(h) === 'string' && w3cx11[h.toLowerCase()]) {\n                return 'named';\n            }\n        }\n    });\n\n    var unpack$8 = utils.unpack;\n\n    var rgb2num$1 = function () {\n        var args = [], len = arguments.length;\n        while ( len-- ) args[ len ] = arguments[ len ];\n\n        var ref = unpack$8(args, 'rgb');\n        var r = ref[0];\n        var g = ref[1];\n        var b = ref[2];\n        return (r << 16) + (g << 8) + b;\n    };\n\n    var rgb2num_1 = rgb2num$1;\n\n    var type$b = utils.type;\n\n    var num2rgb = function (num) {\n        if (type$b(num) == \"number\" && num >= 0 && num <= 0xFFFFFF) {\n            var r = num >> 16;\n            var g = (num >> 8) & 0xFF;\n            var b = num & 0xFF;\n            return [r,g,b,1];\n        }\n        throw new Error(\"unknown num color: \"+num);\n    };\n\n    var num2rgb_1 = num2rgb;\n\n    var chroma$9 = chroma_1;\n    var Color$r = Color_1;\n    var input$4 = input$h;\n    var type$a = utils.type;\n\n    var rgb2num = rgb2num_1;\n\n    Color$r.prototype.num = function() {\n        return rgb2num(this._rgb);\n    };\n\n    chroma$9.num = function () {\n        var args = [], len = arguments.length;\n        while ( len-- ) args[ len ] = arguments[ len ];\n\n        return new (Function.prototype.bind.apply( Color$r, [ null ].concat( args, ['num']) ));\n    };\n\n    input$4.format.num = num2rgb_1;\n\n    input$4.autodetect.push({\n        p: 5,\n        test: function () {\n            var args = [], len = arguments.length;\n            while ( len-- ) args[ len ] = arguments[ len ];\n\n            if (args.length === 1 && type$a(args[0]) === 'number' && args[0] >= 0 && args[0] <= 0xFFFFFF) {\n                return 'num';\n            }\n        }\n    });\n\n    var chroma$8 = chroma_1;\n    var Color$q = Color_1;\n    var input$3 = input$h;\n    var unpack$7 = utils.unpack;\n    var type$9 = utils.type;\n    var round$1 = Math.round;\n\n    Color$q.prototype.rgb = function(rnd) {\n        if ( rnd === void 0 ) rnd=true;\n\n        if (rnd === false) { return this._rgb.slice(0,3); }\n        return this._rgb.slice(0,3).map(round$1);\n    };\n\n    Color$q.prototype.rgba = function(rnd) {\n        if ( rnd === void 0 ) rnd=true;\n\n        return this._rgb.slice(0,4).map(function (v,i) {\n            return i<3 ? (rnd === false ? v : round$1(v)) : v;\n        });\n    };\n\n    chroma$8.rgb = function () {\n        var args = [], len = arguments.length;\n        while ( len-- ) args[ len ] = arguments[ len ];\n\n        return new (Function.prototype.bind.apply( Color$q, [ null ].concat( args, ['rgb']) ));\n    };\n\n    input$3.format.rgb = function () {\n        var args = [], len = arguments.length;\n        while ( len-- ) args[ len ] = arguments[ len ];\n\n        var rgba = unpack$7(args, 'rgba');\n        if (rgba[3] === undefined) { rgba[3] = 1; }\n        return rgba;\n    };\n\n    input$3.autodetect.push({\n        p: 3,\n        test: function () {\n            var args = [], len = arguments.length;\n            while ( len-- ) args[ len ] = arguments[ len ];\n\n            args = unpack$7(args, 'rgba');\n            if (type$9(args) === 'array' && (args.length === 3 ||\n                args.length === 4 && type$9(args[3]) == 'number' && args[3] >= 0 && args[3] <= 1)) {\n                return 'rgb';\n            }\n        }\n    });\n\n    /*\n     * Based on implementation by Neil Bartlett\n     * https://github.com/neilbartlett/color-temperature\n     */\n\n    var log$1 = Math.log;\n\n    var temperature2rgb$1 = function (kelvin) {\n        var temp = kelvin / 100;\n        var r,g,b;\n        if (temp < 66) {\n            r = 255;\n            g = temp < 6 ? 0 : -155.25485562709179 - 0.44596950469579133 * (g = temp-2) + 104.49216199393888 * log$1(g);\n            b = temp < 20 ? 0 : -254.76935184120902 + 0.8274096064007395 * (b = temp-10) + 115.67994401066147 * log$1(b);\n        } else {\n            r = 351.97690566805693 + 0.114206453784165 * (r = temp-55) - 40.25366309332127 * log$1(r);\n            g = 325.4494125711974 + 0.07943456536662342 * (g = temp-50) - 28.0852963507957 * log$1(g);\n            b = 255;\n        }\n        return [r,g,b,1];\n    };\n\n    var temperature2rgb_1 = temperature2rgb$1;\n\n    /*\n     * Based on implementation by Neil Bartlett\n     * https://github.com/neilbartlett/color-temperature\n     **/\n\n    var temperature2rgb = temperature2rgb_1;\n    var unpack$6 = utils.unpack;\n    var round = Math.round;\n\n    var rgb2temperature$1 = function () {\n        var args = [], len = arguments.length;\n        while ( len-- ) args[ len ] = arguments[ len ];\n\n        var rgb = unpack$6(args, 'rgb');\n        var r = rgb[0], b = rgb[2];\n        var minTemp = 1000;\n        var maxTemp = 40000;\n        var eps = 0.4;\n        var temp;\n        while (maxTemp - minTemp > eps) {\n            temp = (maxTemp + minTemp) * 0.5;\n            var rgb$1 = temperature2rgb(temp);\n            if ((rgb$1[2] / rgb$1[0]) >= (b / r)) {\n                maxTemp = temp;\n            } else {\n                minTemp = temp;\n            }\n        }\n        return round(temp);\n    };\n\n    var rgb2temperature_1 = rgb2temperature$1;\n\n    var chroma$7 = chroma_1;\n    var Color$p = Color_1;\n    var input$2 = input$h;\n\n    var rgb2temperature = rgb2temperature_1;\n\n    Color$p.prototype.temp =\n    Color$p.prototype.kelvin =\n    Color$p.prototype.temperature = function() {\n        return rgb2temperature(this._rgb);\n    };\n\n    chroma$7.temp =\n    chroma$7.kelvin =\n    chroma$7.temperature = function () {\n        var args = [], len = arguments.length;\n        while ( len-- ) args[ len ] = arguments[ len ];\n\n        return new (Function.prototype.bind.apply( Color$p, [ null ].concat( args, ['temp']) ));\n    };\n\n    input$2.format.temp =\n    input$2.format.kelvin =\n    input$2.format.temperature = temperature2rgb_1;\n\n    var unpack$5 = utils.unpack;\n    var cbrt = Math.cbrt;\n    var pow$8 = Math.pow;\n    var sign$1 = Math.sign;\n\n    var rgb2oklab$2 = function () {\n        var args = [], len = arguments.length;\n        while ( len-- ) args[ len ] = arguments[ len ];\n\n        // OKLab color space implementation taken from\n        // https://bottosson.github.io/posts/oklab/\n        var ref = unpack$5(args, 'rgb');\n        var r = ref[0];\n        var g = ref[1];\n        var b = ref[2];\n        var ref$1 = [rgb2lrgb(r / 255), rgb2lrgb(g / 255), rgb2lrgb(b / 255)];\n        var lr = ref$1[0];\n        var lg = ref$1[1];\n        var lb = ref$1[2];\n        var l = cbrt(0.4122214708 * lr + 0.5363325363 * lg + 0.0514459929 * lb);\n        var m = cbrt(0.2119034982 * lr + 0.6806995451 * lg + 0.1073969566 * lb);\n        var s = cbrt(0.0883024619 * lr + 0.2817188376 * lg + 0.6299787005 * lb);\n\n        return [\n            0.2104542553 * l + 0.793617785 * m - 0.0040720468 * s,\n            1.9779984951 * l - 2.428592205 * m + 0.4505937099 * s,\n            0.0259040371 * l + 0.7827717662 * m - 0.808675766 * s\n        ];\n    };\n\n    var rgb2oklab_1 = rgb2oklab$2;\n\n    function rgb2lrgb(c) {\n        var abs = Math.abs(c);\n        if (abs < 0.04045) {\n            return c / 12.92;\n        }\n        return (sign$1(c) || 1) * pow$8((abs + 0.055) / 1.055, 2.4);\n    }\n\n    var unpack$4 = utils.unpack;\n    var pow$7 = Math.pow;\n    var sign = Math.sign;\n\n    /*\n     * L* [0..100]\n     * a [-100..100]\n     * b [-100..100]\n     */\n    var oklab2rgb$1 = function () {\n        var args = [], len = arguments.length;\n        while ( len-- ) args[ len ] = arguments[ len ];\n\n        args = unpack$4(args, 'lab');\n        var L = args[0];\n        var a = args[1];\n        var b = args[2];\n\n        var l = pow$7(L + 0.3963377774 * a + 0.2158037573 * b, 3);\n        var m = pow$7(L - 0.1055613458 * a - 0.0638541728 * b, 3);\n        var s = pow$7(L - 0.0894841775 * a - 1.291485548 * b, 3);\n\n        return [\n            255 * lrgb2rgb(+4.0767416621 * l - 3.3077115913 * m + 0.2309699292 * s),\n            255 * lrgb2rgb(-1.2684380046 * l + 2.6097574011 * m - 0.3413193965 * s),\n            255 * lrgb2rgb(-0.0041960863 * l - 0.7034186147 * m + 1.707614701 * s),\n            args.length > 3 ? args[3] : 1\n        ];\n    };\n\n    var oklab2rgb_1 = oklab2rgb$1;\n\n    function lrgb2rgb(c) {\n        var abs = Math.abs(c);\n        if (abs > 0.0031308) {\n            return (sign(c) || 1) * (1.055 * pow$7(abs, 1 / 2.4) - 0.055);\n        }\n        return c * 12.92;\n    }\n\n    var unpack$3 = utils.unpack;\n    var type$8 = utils.type;\n    var chroma$6 = chroma_1;\n    var Color$o = Color_1;\n    var input$1 = input$h;\n\n    var rgb2oklab$1 = rgb2oklab_1;\n\n    Color$o.prototype.oklab = function () {\n        return rgb2oklab$1(this._rgb);\n    };\n\n    chroma$6.oklab = function () {\n        var args = [], len = arguments.length;\n        while ( len-- ) args[ len ] = arguments[ len ];\n\n        return new (Function.prototype.bind.apply( Color$o, [ null ].concat( args, ['oklab']) ));\n    };\n\n    input$1.format.oklab = oklab2rgb_1;\n\n    input$1.autodetect.push({\n        p: 3,\n        test: function () {\n            var args = [], len = arguments.length;\n            while ( len-- ) args[ len ] = arguments[ len ];\n\n            args = unpack$3(args, 'oklab');\n            if (type$8(args) === 'array' && args.length === 3) {\n                return 'oklab';\n            }\n        }\n    });\n\n    var unpack$2 = utils.unpack;\n    var rgb2oklab = rgb2oklab_1;\n    var lab2lch = lab2lch_1;\n\n    var rgb2oklch$1 = function () {\n        var args = [], len = arguments.length;\n        while ( len-- ) args[ len ] = arguments[ len ];\n\n        var ref = unpack$2(args, 'rgb');\n        var r = ref[0];\n        var g = ref[1];\n        var b = ref[2];\n        var ref$1 = rgb2oklab(r, g, b);\n        var l = ref$1[0];\n        var a = ref$1[1];\n        var b_ = ref$1[2];\n        return lab2lch(l, a, b_);\n    };\n\n    var rgb2oklch_1 = rgb2oklch$1;\n\n    var unpack$1 = utils.unpack;\n    var lch2lab = lch2lab_1;\n    var oklab2rgb = oklab2rgb_1;\n\n    var oklch2rgb = function () {\n        var args = [], len = arguments.length;\n        while ( len-- ) args[ len ] = arguments[ len ];\n\n        args = unpack$1(args, 'lch');\n        var l = args[0];\n        var c = args[1];\n        var h = args[2];\n        var ref = lch2lab(l, c, h);\n        var L = ref[0];\n        var a = ref[1];\n        var b_ = ref[2];\n        var ref$1 = oklab2rgb(L, a, b_);\n        var r = ref$1[0];\n        var g = ref$1[1];\n        var b = ref$1[2];\n        return [r, g, b, args.length > 3 ? args[3] : 1];\n    };\n\n    var oklch2rgb_1 = oklch2rgb;\n\n    var unpack = utils.unpack;\n    var type$7 = utils.type;\n    var chroma$5 = chroma_1;\n    var Color$n = Color_1;\n    var input = input$h;\n\n    var rgb2oklch = rgb2oklch_1;\n\n    Color$n.prototype.oklch = function () {\n        return rgb2oklch(this._rgb);\n    };\n\n    chroma$5.oklch = function () {\n        var args = [], len = arguments.length;\n        while ( len-- ) args[ len ] = arguments[ len ];\n\n        return new (Function.prototype.bind.apply( Color$n, [ null ].concat( args, ['oklch']) ));\n    };\n\n    input.format.oklch = oklch2rgb_1;\n\n    input.autodetect.push({\n        p: 3,\n        test: function () {\n            var args = [], len = arguments.length;\n            while ( len-- ) args[ len ] = arguments[ len ];\n\n            args = unpack(args, 'oklch');\n            if (type$7(args) === 'array' && args.length === 3) {\n                return 'oklch';\n            }\n        }\n    });\n\n    var Color$m = Color_1;\n    var type$6 = utils.type;\n\n    Color$m.prototype.alpha = function(a, mutate) {\n        if ( mutate === void 0 ) mutate=false;\n\n        if (a !== undefined && type$6(a) === 'number') {\n            if (mutate) {\n                this._rgb[3] = a;\n                return this;\n            }\n            return new Color$m([this._rgb[0], this._rgb[1], this._rgb[2], a], 'rgb');\n        }\n        return this._rgb[3];\n    };\n\n    var Color$l = Color_1;\n\n    Color$l.prototype.clipped = function() {\n        return this._rgb._clipped || false;\n    };\n\n    var Color$k = Color_1;\n    var LAB_CONSTANTS$1 = labConstants;\n\n    Color$k.prototype.darken = function(amount) {\n    \tif ( amount === void 0 ) amount=1;\n\n    \tvar me = this;\n    \tvar lab = me.lab();\n    \tlab[0] -= LAB_CONSTANTS$1.Kn * amount;\n    \treturn new Color$k(lab, 'lab').alpha(me.alpha(), true);\n    };\n\n    Color$k.prototype.brighten = function(amount) {\n    \tif ( amount === void 0 ) amount=1;\n\n    \treturn this.darken(-amount);\n    };\n\n    Color$k.prototype.darker = Color$k.prototype.darken;\n    Color$k.prototype.brighter = Color$k.prototype.brighten;\n\n    var Color$j = Color_1;\n\n    Color$j.prototype.get = function (mc) {\n        var ref = mc.split('.');\n        var mode = ref[0];\n        var channel = ref[1];\n        var src = this[mode]();\n        if (channel) {\n            var i = mode.indexOf(channel) - (mode.substr(0, 2) === 'ok' ? 2 : 0);\n            if (i > -1) { return src[i]; }\n            throw new Error((\"unknown channel \" + channel + \" in mode \" + mode));\n        } else {\n            return src;\n        }\n    };\n\n    var Color$i = Color_1;\n    var type$5 = utils.type;\n    var pow$6 = Math.pow;\n\n    var EPS = 1e-7;\n    var MAX_ITER = 20;\n\n    Color$i.prototype.luminance = function(lum) {\n        if (lum !== undefined && type$5(lum) === 'number') {\n            if (lum === 0) {\n                // return pure black\n                return new Color$i([0,0,0,this._rgb[3]], 'rgb');\n            }\n            if (lum === 1) {\n                // return pure white\n                return new Color$i([255,255,255,this._rgb[3]], 'rgb');\n            }\n            // compute new color using...\n            var cur_lum = this.luminance();\n            var mode = 'rgb';\n            var max_iter = MAX_ITER;\n\n            var test = function (low, high) {\n                var mid = low.interpolate(high, 0.5, mode);\n                var lm = mid.luminance();\n                if (Math.abs(lum - lm) < EPS || !max_iter--) {\n                    // close enough\n                    return mid;\n                }\n                return lm > lum ? test(low, mid) : test(mid, high);\n            };\n\n            var rgb = (cur_lum > lum ? test(new Color$i([0,0,0]), this) : test(this, new Color$i([255,255,255]))).rgb();\n            return new Color$i(rgb.concat( [this._rgb[3]]));\n        }\n        return rgb2luminance.apply(void 0, (this._rgb).slice(0,3));\n    };\n\n\n    var rgb2luminance = function (r,g,b) {\n        // relative luminance\n        // see http://www.w3.org/TR/2008/REC-WCAG20-20081211/#relativeluminancedef\n        r = luminance_x(r);\n        g = luminance_x(g);\n        b = luminance_x(b);\n        return 0.2126 * r + 0.7152 * g + 0.0722 * b;\n    };\n\n    var luminance_x = function (x) {\n        x /= 255;\n        return x <= 0.03928 ? x/12.92 : pow$6((x+0.055)/1.055, 2.4);\n    };\n\n    var interpolator$1 = {};\n\n    var Color$h = Color_1;\n    var type$4 = utils.type;\n    var interpolator = interpolator$1;\n\n    var mix$1 = function (col1, col2, f) {\n        if ( f === void 0 ) f=0.5;\n        var rest = [], len = arguments.length - 3;\n        while ( len-- > 0 ) rest[ len ] = arguments[ len + 3 ];\n\n        var mode = rest[0] || 'lrgb';\n        if (!interpolator[mode] && !rest.length) {\n            // fall back to the first supported mode\n            mode = Object.keys(interpolator)[0];\n        }\n        if (!interpolator[mode]) {\n            throw new Error((\"interpolation mode \" + mode + \" is not defined\"));\n        }\n        if (type$4(col1) !== 'object') { col1 = new Color$h(col1); }\n        if (type$4(col2) !== 'object') { col2 = new Color$h(col2); }\n        return interpolator[mode](col1, col2, f)\n            .alpha(col1.alpha() + f * (col2.alpha() - col1.alpha()));\n    };\n\n    var Color$g = Color_1;\n    var mix = mix$1;\n\n    Color$g.prototype.mix =\n    Color$g.prototype.interpolate = function(col2, f) {\n    \tif ( f === void 0 ) f=0.5;\n    \tvar rest = [], len = arguments.length - 2;\n    \twhile ( len-- > 0 ) rest[ len ] = arguments[ len + 2 ];\n\n    \treturn mix.apply(void 0, [ this, col2, f ].concat( rest ));\n    };\n\n    var Color$f = Color_1;\n\n    Color$f.prototype.premultiply = function(mutate) {\n    \tif ( mutate === void 0 ) mutate=false;\n\n    \tvar rgb = this._rgb;\n    \tvar a = rgb[3];\n    \tif (mutate) {\n    \t\tthis._rgb = [rgb[0]*a, rgb[1]*a, rgb[2]*a, a];\n    \t\treturn this;\n    \t} else {\n    \t\treturn new Color$f([rgb[0]*a, rgb[1]*a, rgb[2]*a, a], 'rgb');\n    \t}\n    };\n\n    var Color$e = Color_1;\n    var LAB_CONSTANTS = labConstants;\n\n    Color$e.prototype.saturate = function(amount) {\n    \tif ( amount === void 0 ) amount=1;\n\n    \tvar me = this;\n    \tvar lch = me.lch();\n    \tlch[1] += LAB_CONSTANTS.Kn * amount;\n    \tif (lch[1] < 0) { lch[1] = 0; }\n    \treturn new Color$e(lch, 'lch').alpha(me.alpha(), true);\n    };\n\n    Color$e.prototype.desaturate = function(amount) {\n    \tif ( amount === void 0 ) amount=1;\n\n    \treturn this.saturate(-amount);\n    };\n\n    var Color$d = Color_1;\n    var type$3 = utils.type;\n\n    Color$d.prototype.set = function (mc, value, mutate) {\n        if ( mutate === void 0 ) mutate = false;\n\n        var ref = mc.split('.');\n        var mode = ref[0];\n        var channel = ref[1];\n        var src = this[mode]();\n        if (channel) {\n            var i = mode.indexOf(channel) - (mode.substr(0, 2) === 'ok' ? 2 : 0);\n            if (i > -1) {\n                if (type$3(value) == 'string') {\n                    switch (value.charAt(0)) {\n                        case '+':\n                            src[i] += +value;\n                            break;\n                        case '-':\n                            src[i] += +value;\n                            break;\n                        case '*':\n                            src[i] *= +value.substr(1);\n                            break;\n                        case '/':\n                            src[i] /= +value.substr(1);\n                            break;\n                        default:\n                            src[i] = +value;\n                    }\n                } else if (type$3(value) === 'number') {\n                    src[i] = value;\n                } else {\n                    throw new Error(\"unsupported value for Color.set\");\n                }\n                var out = new Color$d(src, mode);\n                if (mutate) {\n                    this._rgb = out._rgb;\n                    return this;\n                }\n                return out;\n            }\n            throw new Error((\"unknown channel \" + channel + \" in mode \" + mode));\n        } else {\n            return src;\n        }\n    };\n\n    var Color$c = Color_1;\n\n    var rgb = function (col1, col2, f) {\n        var xyz0 = col1._rgb;\n        var xyz1 = col2._rgb;\n        return new Color$c(\n            xyz0[0] + f * (xyz1[0]-xyz0[0]),\n            xyz0[1] + f * (xyz1[1]-xyz0[1]),\n            xyz0[2] + f * (xyz1[2]-xyz0[2]),\n            'rgb'\n        )\n    };\n\n    // register interpolator\n    interpolator$1.rgb = rgb;\n\n    var Color$b = Color_1;\n    var sqrt$2 = Math.sqrt;\n    var pow$5 = Math.pow;\n\n    var lrgb = function (col1, col2, f) {\n        var ref = col1._rgb;\n        var x1 = ref[0];\n        var y1 = ref[1];\n        var z1 = ref[2];\n        var ref$1 = col2._rgb;\n        var x2 = ref$1[0];\n        var y2 = ref$1[1];\n        var z2 = ref$1[2];\n        return new Color$b(\n            sqrt$2(pow$5(x1,2) * (1-f) + pow$5(x2,2) * f),\n            sqrt$2(pow$5(y1,2) * (1-f) + pow$5(y2,2) * f),\n            sqrt$2(pow$5(z1,2) * (1-f) + pow$5(z2,2) * f),\n            'rgb'\n        )\n    };\n\n    // register interpolator\n    interpolator$1.lrgb = lrgb;\n\n    var Color$a = Color_1;\n\n    var lab = function (col1, col2, f) {\n        var xyz0 = col1.lab();\n        var xyz1 = col2.lab();\n        return new Color$a(\n            xyz0[0] + f * (xyz1[0]-xyz0[0]),\n            xyz0[1] + f * (xyz1[1]-xyz0[1]),\n            xyz0[2] + f * (xyz1[2]-xyz0[2]),\n            'lab'\n        )\n    };\n\n    // register interpolator\n    interpolator$1.lab = lab;\n\n    var Color$9 = Color_1;\n\n    var _hsx = function (col1, col2, f, m) {\n        var assign, assign$1;\n\n        var xyz0, xyz1;\n        if (m === 'hsl') {\n            xyz0 = col1.hsl();\n            xyz1 = col2.hsl();\n        } else if (m === 'hsv') {\n            xyz0 = col1.hsv();\n            xyz1 = col2.hsv();\n        } else if (m === 'hcg') {\n            xyz0 = col1.hcg();\n            xyz1 = col2.hcg();\n        } else if (m === 'hsi') {\n            xyz0 = col1.hsi();\n            xyz1 = col2.hsi();\n        } else if (m === 'lch' || m === 'hcl') {\n            m = 'hcl';\n            xyz0 = col1.hcl();\n            xyz1 = col2.hcl();\n        } else if (m === 'oklch') {\n            xyz0 = col1.oklch().reverse();\n            xyz1 = col2.oklch().reverse();\n        }\n\n        var hue0, hue1, sat0, sat1, lbv0, lbv1;\n        if (m.substr(0, 1) === 'h' || m === 'oklch') {\n            (assign = xyz0, hue0 = assign[0], sat0 = assign[1], lbv0 = assign[2]);\n            (assign$1 = xyz1, hue1 = assign$1[0], sat1 = assign$1[1], lbv1 = assign$1[2]);\n        }\n\n        var sat, hue, lbv, dh;\n\n        if (!isNaN(hue0) && !isNaN(hue1)) {\n            // both colors have hue\n            if (hue1 > hue0 && hue1 - hue0 > 180) {\n                dh = hue1 - (hue0 + 360);\n            } else if (hue1 < hue0 && hue0 - hue1 > 180) {\n                dh = hue1 + 360 - hue0;\n            } else {\n                dh = hue1 - hue0;\n            }\n            hue = hue0 + f * dh;\n        } else if (!isNaN(hue0)) {\n            hue = hue0;\n            if ((lbv1 == 1 || lbv1 == 0) && m != 'hsv') { sat = sat0; }\n        } else if (!isNaN(hue1)) {\n            hue = hue1;\n            if ((lbv0 == 1 || lbv0 == 0) && m != 'hsv') { sat = sat1; }\n        } else {\n            hue = Number.NaN;\n        }\n\n        if (sat === undefined) { sat = sat0 + f * (sat1 - sat0); }\n        lbv = lbv0 + f * (lbv1 - lbv0);\n        return m === 'oklch' ? new Color$9([lbv, sat, hue], m) : new Color$9([hue, sat, lbv], m);\n    };\n\n    var interpolate_hsx$5 = _hsx;\n\n    var lch = function (col1, col2, f) {\n    \treturn interpolate_hsx$5(col1, col2, f, 'lch');\n    };\n\n    // register interpolator\n    interpolator$1.lch = lch;\n    interpolator$1.hcl = lch;\n\n    var Color$8 = Color_1;\n\n    var num = function (col1, col2, f) {\n        var c1 = col1.num();\n        var c2 = col2.num();\n        return new Color$8(c1 + f * (c2-c1), 'num')\n    };\n\n    // register interpolator\n    interpolator$1.num = num;\n\n    var interpolate_hsx$4 = _hsx;\n\n    var hcg = function (col1, col2, f) {\n    \treturn interpolate_hsx$4(col1, col2, f, 'hcg');\n    };\n\n    // register interpolator\n    interpolator$1.hcg = hcg;\n\n    var interpolate_hsx$3 = _hsx;\n\n    var hsi = function (col1, col2, f) {\n    \treturn interpolate_hsx$3(col1, col2, f, 'hsi');\n    };\n\n    // register interpolator\n    interpolator$1.hsi = hsi;\n\n    var interpolate_hsx$2 = _hsx;\n\n    var hsl = function (col1, col2, f) {\n    \treturn interpolate_hsx$2(col1, col2, f, 'hsl');\n    };\n\n    // register interpolator\n    interpolator$1.hsl = hsl;\n\n    var interpolate_hsx$1 = _hsx;\n\n    var hsv = function (col1, col2, f) {\n    \treturn interpolate_hsx$1(col1, col2, f, 'hsv');\n    };\n\n    // register interpolator\n    interpolator$1.hsv = hsv;\n\n    var Color$7 = Color_1;\n\n    var oklab = function (col1, col2, f) {\n        var xyz0 = col1.oklab();\n        var xyz1 = col2.oklab();\n        return new Color$7(\n            xyz0[0] + f * (xyz1[0] - xyz0[0]),\n            xyz0[1] + f * (xyz1[1] - xyz0[1]),\n            xyz0[2] + f * (xyz1[2] - xyz0[2]),\n            'oklab'\n        );\n    };\n\n    // register interpolator\n    interpolator$1.oklab = oklab;\n\n    var interpolate_hsx = _hsx;\n\n    var oklch = function (col1, col2, f) {\n        return interpolate_hsx(col1, col2, f, 'oklch');\n    };\n\n    // register interpolator\n    interpolator$1.oklch = oklch;\n\n    var Color$6 = Color_1;\n    var clip_rgb$1 = utils.clip_rgb;\n    var pow$4 = Math.pow;\n    var sqrt$1 = Math.sqrt;\n    var PI$1 = Math.PI;\n    var cos$2 = Math.cos;\n    var sin$2 = Math.sin;\n    var atan2$1 = Math.atan2;\n\n    var average = function (colors, mode, weights) {\n        if ( mode === void 0 ) mode='lrgb';\n        if ( weights === void 0 ) weights=null;\n\n        var l = colors.length;\n        if (!weights) { weights = Array.from(new Array(l)).map(function () { return 1; }); }\n        // normalize weights\n        var k = l / weights.reduce(function(a, b) { return a + b; });\n        weights.forEach(function (w,i) { weights[i] *= k; });\n        // convert colors to Color objects\n        colors = colors.map(function (c) { return new Color$6(c); });\n        if (mode === 'lrgb') {\n            return _average_lrgb(colors, weights)\n        }\n        var first = colors.shift();\n        var xyz = first.get(mode);\n        var cnt = [];\n        var dx = 0;\n        var dy = 0;\n        // initial color\n        for (var i=0; i<xyz.length; i++) {\n            xyz[i] = (xyz[i] || 0) * weights[0];\n            cnt.push(isNaN(xyz[i]) ? 0 : weights[0]);\n            if (mode.charAt(i) === 'h' && !isNaN(xyz[i])) {\n                var A = xyz[i] / 180 * PI$1;\n                dx += cos$2(A) * weights[0];\n                dy += sin$2(A) * weights[0];\n            }\n        }\n\n        var alpha = first.alpha() * weights[0];\n        colors.forEach(function (c,ci) {\n            var xyz2 = c.get(mode);\n            alpha += c.alpha() * weights[ci+1];\n            for (var i=0; i<xyz.length; i++) {\n                if (!isNaN(xyz2[i])) {\n                    cnt[i] += weights[ci+1];\n                    if (mode.charAt(i) === 'h') {\n                        var A = xyz2[i] / 180 * PI$1;\n                        dx += cos$2(A) * weights[ci+1];\n                        dy += sin$2(A) * weights[ci+1];\n                    } else {\n                        xyz[i] += xyz2[i] * weights[ci+1];\n                    }\n                }\n            }\n        });\n\n        for (var i$1=0; i$1<xyz.length; i$1++) {\n            if (mode.charAt(i$1) === 'h') {\n                var A$1 = atan2$1(dy / cnt[i$1], dx / cnt[i$1]) / PI$1 * 180;\n                while (A$1 < 0) { A$1 += 360; }\n                while (A$1 >= 360) { A$1 -= 360; }\n                xyz[i$1] = A$1;\n            } else {\n                xyz[i$1] = xyz[i$1]/cnt[i$1];\n            }\n        }\n        alpha /= l;\n        return (new Color$6(xyz, mode)).alpha(alpha > 0.99999 ? 1 : alpha, true);\n    };\n\n\n    var _average_lrgb = function (colors, weights) {\n        var l = colors.length;\n        var xyz = [0,0,0,0];\n        for (var i=0; i < colors.length; i++) {\n            var col = colors[i];\n            var f = weights[i] / l;\n            var rgb = col._rgb;\n            xyz[0] += pow$4(rgb[0],2) * f;\n            xyz[1] += pow$4(rgb[1],2) * f;\n            xyz[2] += pow$4(rgb[2],2) * f;\n            xyz[3] += rgb[3] * f;\n        }\n        xyz[0] = sqrt$1(xyz[0]);\n        xyz[1] = sqrt$1(xyz[1]);\n        xyz[2] = sqrt$1(xyz[2]);\n        if (xyz[3] > 0.9999999) { xyz[3] = 1; }\n        return new Color$6(clip_rgb$1(xyz));\n    };\n\n    // minimal multi-purpose interface\n\n    // @requires utils color analyze\n\n    var chroma$4 = chroma_1;\n    var type$2 = utils.type;\n\n    var pow$3 = Math.pow;\n\n    var scale$2 = function(colors) {\n\n        // constructor\n        var _mode = 'rgb';\n        var _nacol = chroma$4('#ccc');\n        var _spread = 0;\n        // const _fixed = false;\n        var _domain = [0, 1];\n        var _pos = [];\n        var _padding = [0,0];\n        var _classes = false;\n        var _colors = [];\n        var _out = false;\n        var _min = 0;\n        var _max = 1;\n        var _correctLightness = false;\n        var _colorCache = {};\n        var _useCache = true;\n        var _gamma = 1;\n\n        // private methods\n\n        var setColors = function(colors) {\n            colors = colors || ['#fff', '#000'];\n            if (colors && type$2(colors) === 'string' && chroma$4.brewer &&\n                chroma$4.brewer[colors.toLowerCase()]) {\n                colors = chroma$4.brewer[colors.toLowerCase()];\n            }\n            if (type$2(colors) === 'array') {\n                // handle single color\n                if (colors.length === 1) {\n                    colors = [colors[0], colors[0]];\n                }\n                // make a copy of the colors\n                colors = colors.slice(0);\n                // convert to chroma classes\n                for (var c=0; c<colors.length; c++) {\n                    colors[c] = chroma$4(colors[c]);\n                }\n                // auto-fill color position\n                _pos.length = 0;\n                for (var c$1=0; c$1<colors.length; c$1++) {\n                    _pos.push(c$1/(colors.length-1));\n                }\n            }\n            resetCache();\n            return _colors = colors;\n        };\n\n        var getClass = function(value) {\n            if (_classes != null) {\n                var n = _classes.length-1;\n                var i = 0;\n                while (i < n && value >= _classes[i]) {\n                    i++;\n                }\n                return i-1;\n            }\n            return 0;\n        };\n\n        var tMapLightness = function (t) { return t; };\n        var tMapDomain = function (t) { return t; };\n\n        // const classifyValue = function(value) {\n        //     let val = value;\n        //     if (_classes.length > 2) {\n        //         const n = _classes.length-1;\n        //         const i = getClass(value);\n        //         const minc = _classes[0] + ((_classes[1]-_classes[0]) * (0 + (_spread * 0.5)));  // center of 1st class\n        //         const maxc = _classes[n-1] + ((_classes[n]-_classes[n-1]) * (1 - (_spread * 0.5)));  // center of last class\n        //         val = _min + ((((_classes[i] + ((_classes[i+1] - _classes[i]) * 0.5)) - minc) / (maxc-minc)) * (_max - _min));\n        //     }\n        //     return val;\n        // };\n\n        var getColor = function(val, bypassMap) {\n            var col, t;\n            if (bypassMap == null) { bypassMap = false; }\n            if (isNaN(val) || (val === null)) { return _nacol; }\n            if (!bypassMap) {\n                if (_classes && (_classes.length > 2)) {\n                    // find the class\n                    var c = getClass(val);\n                    t = c / (_classes.length-2);\n                } else if (_max !== _min) {\n                    // just interpolate between min/max\n                    t = (val - _min) / (_max - _min);\n                } else {\n                    t = 1;\n                }\n            } else {\n                t = val;\n            }\n\n            // domain map\n            t = tMapDomain(t);\n\n            if (!bypassMap) {\n                t = tMapLightness(t);  // lightness correction\n            }\n\n            if (_gamma !== 1) { t = pow$3(t, _gamma); }\n\n            t = _padding[0] + (t * (1 - _padding[0] - _padding[1]));\n\n            t = Math.min(1, Math.max(0, t));\n\n            var k = Math.floor(t * 10000);\n\n            if (_useCache && _colorCache[k]) {\n                col = _colorCache[k];\n            } else {\n                if (type$2(_colors) === 'array') {\n                    //for i in [0.._pos.length-1]\n                    for (var i=0; i<_pos.length; i++) {\n                        var p = _pos[i];\n                        if (t <= p) {\n                            col = _colors[i];\n                            break;\n                        }\n                        if ((t >= p) && (i === (_pos.length-1))) {\n                            col = _colors[i];\n                            break;\n                        }\n                        if (t > p && t < _pos[i+1]) {\n                            t = (t-p)/(_pos[i+1]-p);\n                            col = chroma$4.interpolate(_colors[i], _colors[i+1], t, _mode);\n                            break;\n                        }\n                    }\n                } else if (type$2(_colors) === 'function') {\n                    col = _colors(t);\n                }\n                if (_useCache) { _colorCache[k] = col; }\n            }\n            return col;\n        };\n\n        var resetCache = function () { return _colorCache = {}; };\n\n        setColors(colors);\n\n        // public interface\n\n        var f = function(v) {\n            var c = chroma$4(getColor(v));\n            if (_out && c[_out]) { return c[_out](); } else { return c; }\n        };\n\n        f.classes = function(classes) {\n            if (classes != null) {\n                if (type$2(classes) === 'array') {\n                    _classes = classes;\n                    _domain = [classes[0], classes[classes.length-1]];\n                } else {\n                    var d = chroma$4.analyze(_domain);\n                    if (classes === 0) {\n                        _classes = [d.min, d.max];\n                    } else {\n                        _classes = chroma$4.limits(d, 'e', classes);\n                    }\n                }\n                return f;\n            }\n            return _classes;\n        };\n\n\n        f.domain = function(domain) {\n            if (!arguments.length) {\n                return _domain;\n            }\n            _min = domain[0];\n            _max = domain[domain.length-1];\n            _pos = [];\n            var k = _colors.length;\n            if ((domain.length === k) && (_min !== _max)) {\n                // update positions\n                for (var i = 0, list = Array.from(domain); i < list.length; i += 1) {\n                    var d = list[i];\n\n                  _pos.push((d-_min) / (_max-_min));\n                }\n            } else {\n                for (var c=0; c<k; c++) {\n                    _pos.push(c/(k-1));\n                }\n                if (domain.length > 2) {\n                    // set domain map\n                    var tOut = domain.map(function (d,i) { return i/(domain.length-1); });\n                    var tBreaks = domain.map(function (d) { return (d - _min) / (_max - _min); });\n                    if (!tBreaks.every(function (val, i) { return tOut[i] === val; })) {\n                        tMapDomain = function (t) {\n                            if (t <= 0 || t >= 1) { return t; }\n                            var i = 0;\n                            while (t >= tBreaks[i+1]) { i++; }\n                            var f = (t - tBreaks[i]) / (tBreaks[i+1] - tBreaks[i]);\n                            var out = tOut[i] + f * (tOut[i+1] - tOut[i]);\n                            return out;\n                        };\n                    }\n\n                }\n            }\n            _domain = [_min, _max];\n            return f;\n        };\n\n        f.mode = function(_m) {\n            if (!arguments.length) {\n                return _mode;\n            }\n            _mode = _m;\n            resetCache();\n            return f;\n        };\n\n        f.range = function(colors, _pos) {\n            setColors(colors);\n            return f;\n        };\n\n        f.out = function(_o) {\n            _out = _o;\n            return f;\n        };\n\n        f.spread = function(val) {\n            if (!arguments.length) {\n                return _spread;\n            }\n            _spread = val;\n            return f;\n        };\n\n        f.correctLightness = function(v) {\n            if (v == null) { v = true; }\n            _correctLightness = v;\n            resetCache();\n            if (_correctLightness) {\n                tMapLightness = function(t) {\n                    var L0 = getColor(0, true).lab()[0];\n                    var L1 = getColor(1, true).lab()[0];\n                    var pol = L0 > L1;\n                    var L_actual = getColor(t, true).lab()[0];\n                    var L_ideal = L0 + ((L1 - L0) * t);\n                    var L_diff = L_actual - L_ideal;\n                    var t0 = 0;\n                    var t1 = 1;\n                    var max_iter = 20;\n                    while ((Math.abs(L_diff) > 1e-2) && (max_iter-- > 0)) {\n                        (function() {\n                            if (pol) { L_diff *= -1; }\n                            if (L_diff < 0) {\n                                t0 = t;\n                                t += (t1 - t) * 0.5;\n                            } else {\n                                t1 = t;\n                                t += (t0 - t) * 0.5;\n                            }\n                            L_actual = getColor(t, true).lab()[0];\n                            return L_diff = L_actual - L_ideal;\n                        })();\n                    }\n                    return t;\n                };\n            } else {\n                tMapLightness = function (t) { return t; };\n            }\n            return f;\n        };\n\n        f.padding = function(p) {\n            if (p != null) {\n                if (type$2(p) === 'number') {\n                    p = [p,p];\n                }\n                _padding = p;\n                return f;\n            } else {\n                return _padding;\n            }\n        };\n\n        f.colors = function(numColors, out) {\n            // If no arguments are given, return the original colors that were provided\n            if (arguments.length < 2) { out = 'hex'; }\n            var result = [];\n\n            if (arguments.length === 0) {\n                result = _colors.slice(0);\n\n            } else if (numColors === 1) {\n                result = [f(0.5)];\n\n            } else if (numColors > 1) {\n                var dm = _domain[0];\n                var dd = _domain[1] - dm;\n                result = __range__(0, numColors, false).map(function (i) { return f( dm + ((i/(numColors-1)) * dd) ); });\n\n            } else { // returns all colors based on the defined classes\n                colors = [];\n                var samples = [];\n                if (_classes && (_classes.length > 2)) {\n                    for (var i = 1, end = _classes.length, asc = 1 <= end; asc ? i < end : i > end; asc ? i++ : i--) {\n                        samples.push((_classes[i-1]+_classes[i])*0.5);\n                    }\n                } else {\n                    samples = _domain;\n                }\n                result = samples.map(function (v) { return f(v); });\n            }\n\n            if (chroma$4[out]) {\n                result = result.map(function (c) { return c[out](); });\n            }\n            return result;\n        };\n\n        f.cache = function(c) {\n            if (c != null) {\n                _useCache = c;\n                return f;\n            } else {\n                return _useCache;\n            }\n        };\n\n        f.gamma = function(g) {\n            if (g != null) {\n                _gamma = g;\n                return f;\n            } else {\n                return _gamma;\n            }\n        };\n\n        f.nodata = function(d) {\n            if (d != null) {\n                _nacol = chroma$4(d);\n                return f;\n            } else {\n                return _nacol;\n            }\n        };\n\n        return f;\n    };\n\n    function __range__(left, right, inclusive) {\n      var range = [];\n      var ascending = left < right;\n      var end = !inclusive ? right : ascending ? right + 1 : right - 1;\n      for (var i = left; ascending ? i < end : i > end; ascending ? i++ : i--) {\n        range.push(i);\n      }\n      return range;\n    }\n\n    //\n    // interpolates between a set of colors uzing a bezier spline\n    //\n\n    // @requires utils lab\n    var Color$5 = Color_1;\n\n    var scale$1 = scale$2;\n\n    // nth row of the pascal triangle\n    var binom_row = function(n) {\n        var row = [1, 1];\n        for (var i = 1; i < n; i++) {\n            var newrow = [1];\n            for (var j = 1; j <= row.length; j++) {\n                newrow[j] = (row[j] || 0) + row[j - 1];\n            }\n            row = newrow;\n        }\n        return row;\n    };\n\n    var bezier = function(colors) {\n        var assign, assign$1, assign$2;\n\n        var I, lab0, lab1, lab2;\n        colors = colors.map(function (c) { return new Color$5(c); });\n        if (colors.length === 2) {\n            // linear interpolation\n            (assign = colors.map(function (c) { return c.lab(); }), lab0 = assign[0], lab1 = assign[1]);\n            I = function(t) {\n                var lab = ([0, 1, 2].map(function (i) { return lab0[i] + (t * (lab1[i] - lab0[i])); }));\n                return new Color$5(lab, 'lab');\n            };\n        } else if (colors.length === 3) {\n            // quadratic bezier interpolation\n            (assign$1 = colors.map(function (c) { return c.lab(); }), lab0 = assign$1[0], lab1 = assign$1[1], lab2 = assign$1[2]);\n            I = function(t) {\n                var lab = ([0, 1, 2].map(function (i) { return ((1-t)*(1-t) * lab0[i]) + (2 * (1-t) * t * lab1[i]) + (t * t * lab2[i]); }));\n                return new Color$5(lab, 'lab');\n            };\n        } else if (colors.length === 4) {\n            // cubic bezier interpolation\n            var lab3;\n            (assign$2 = colors.map(function (c) { return c.lab(); }), lab0 = assign$2[0], lab1 = assign$2[1], lab2 = assign$2[2], lab3 = assign$2[3]);\n            I = function(t) {\n                var lab = ([0, 1, 2].map(function (i) { return ((1-t)*(1-t)*(1-t) * lab0[i]) + (3 * (1-t) * (1-t) * t * lab1[i]) + (3 * (1-t) * t * t * lab2[i]) + (t*t*t * lab3[i]); }));\n                return new Color$5(lab, 'lab');\n            };\n        } else if (colors.length >= 5) {\n            // general case (degree n bezier)\n            var labs, row, n;\n            labs = colors.map(function (c) { return c.lab(); });\n            n = colors.length - 1;\n            row = binom_row(n);\n            I = function (t) {\n                var u = 1 - t;\n                var lab = ([0, 1, 2].map(function (i) { return labs.reduce(function (sum, el, j) { return (sum + row[j] * Math.pow( u, (n - j) ) * Math.pow( t, j ) * el[i]); }, 0); }));\n                return new Color$5(lab, 'lab');\n            };\n        } else {\n            throw new RangeError(\"No point in running bezier with only one color.\")\n        }\n        return I;\n    };\n\n    var bezier_1 = function (colors) {\n        var f = bezier(colors);\n        f.scale = function () { return scale$1(f); };\n        return f;\n    };\n\n    /*\n     * interpolates between a set of colors uzing a bezier spline\n     * blend mode formulas taken from http://www.venture-ware.com/kevin/coding/lets-learn-math-photoshop-blend-modes/\n     */\n\n    var chroma$3 = chroma_1;\n\n    var blend = function (bottom, top, mode) {\n        if (!blend[mode]) {\n            throw new Error('unknown blend mode ' + mode);\n        }\n        return blend[mode](bottom, top);\n    };\n\n    var blend_f = function (f) { return function (bottom,top) {\n            var c0 = chroma$3(top).rgb();\n            var c1 = chroma$3(bottom).rgb();\n            return chroma$3.rgb(f(c0, c1));\n        }; };\n\n    var each = function (f) { return function (c0, c1) {\n            var out = [];\n            out[0] = f(c0[0], c1[0]);\n            out[1] = f(c0[1], c1[1]);\n            out[2] = f(c0[2], c1[2]);\n            return out;\n        }; };\n\n    var normal = function (a) { return a; };\n    var multiply = function (a,b) { return a * b / 255; };\n    var darken = function (a,b) { return a > b ? b : a; };\n    var lighten = function (a,b) { return a > b ? a : b; };\n    var screen = function (a,b) { return 255 * (1 - (1-a/255) * (1-b/255)); };\n    var overlay = function (a,b) { return b < 128 ? 2 * a * b / 255 : 255 * (1 - 2 * (1 - a / 255 ) * ( 1 - b / 255 )); };\n    var burn = function (a,b) { return 255 * (1 - (1 - b / 255) / (a/255)); };\n    var dodge = function (a,b) {\n        if (a === 255) { return 255; }\n        a = 255 * (b / 255) / (1 - a / 255);\n        return a > 255 ? 255 : a\n    };\n\n    // # add = (a,b) ->\n    // #     if (a + b > 255) then 255 else a + b\n\n    blend.normal = blend_f(each(normal));\n    blend.multiply = blend_f(each(multiply));\n    blend.screen = blend_f(each(screen));\n    blend.overlay = blend_f(each(overlay));\n    blend.darken = blend_f(each(darken));\n    blend.lighten = blend_f(each(lighten));\n    blend.dodge = blend_f(each(dodge));\n    blend.burn = blend_f(each(burn));\n    // blend.add = blend_f(each(add));\n\n    var blend_1 = blend;\n\n    // cubehelix interpolation\n    // based on D.A. Green \"A colour scheme for the display of astronomical intensity images\"\n    // http://astron-soc.in/bulletin/11June/289392011.pdf\n\n    var type$1 = utils.type;\n    var clip_rgb = utils.clip_rgb;\n    var TWOPI = utils.TWOPI;\n    var pow$2 = Math.pow;\n    var sin$1 = Math.sin;\n    var cos$1 = Math.cos;\n    var chroma$2 = chroma_1;\n\n    var cubehelix = function(start, rotations, hue, gamma, lightness) {\n        if ( start === void 0 ) start=300;\n        if ( rotations === void 0 ) rotations=-1.5;\n        if ( hue === void 0 ) hue=1;\n        if ( gamma === void 0 ) gamma=1;\n        if ( lightness === void 0 ) lightness=[0,1];\n\n        var dh = 0, dl;\n        if (type$1(lightness) === 'array') {\n            dl = lightness[1] - lightness[0];\n        } else {\n            dl = 0;\n            lightness = [lightness, lightness];\n        }\n\n        var f = function(fract) {\n            var a = TWOPI * (((start+120)/360) + (rotations * fract));\n            var l = pow$2(lightness[0] + (dl * fract), gamma);\n            var h = dh !== 0 ? hue[0] + (fract * dh) : hue;\n            var amp = (h * l * (1-l)) / 2;\n            var cos_a = cos$1(a);\n            var sin_a = sin$1(a);\n            var r = l + (amp * ((-0.14861 * cos_a) + (1.78277* sin_a)));\n            var g = l + (amp * ((-0.29227 * cos_a) - (0.90649* sin_a)));\n            var b = l + (amp * (+1.97294 * cos_a));\n            return chroma$2(clip_rgb([r*255,g*255,b*255,1]));\n        };\n\n        f.start = function(s) {\n            if ((s == null)) { return start; }\n            start = s;\n            return f;\n        };\n\n        f.rotations = function(r) {\n            if ((r == null)) { return rotations; }\n            rotations = r;\n            return f;\n        };\n\n        f.gamma = function(g) {\n            if ((g == null)) { return gamma; }\n            gamma = g;\n            return f;\n        };\n\n        f.hue = function(h) {\n            if ((h == null)) { return hue; }\n            hue = h;\n            if (type$1(hue) === 'array') {\n                dh = hue[1] - hue[0];\n                if (dh === 0) { hue = hue[1]; }\n            } else {\n                dh = 0;\n            }\n            return f;\n        };\n\n        f.lightness = function(h) {\n            if ((h == null)) { return lightness; }\n            if (type$1(h) === 'array') {\n                lightness = h;\n                dl = h[1] - h[0];\n            } else {\n                lightness = [h,h];\n                dl = 0;\n            }\n            return f;\n        };\n\n        f.scale = function () { return chroma$2.scale(f); };\n\n        f.hue(hue);\n\n        return f;\n    };\n\n    var Color$4 = Color_1;\n    var digits = '0123456789abcdef';\n\n    var floor$1 = Math.floor;\n    var random = Math.random;\n\n    var random_1 = function () {\n        var code = '#';\n        for (var i=0; i<6; i++) {\n            code += digits.charAt(floor$1(random() * 16));\n        }\n        return new Color$4(code, 'hex');\n    };\n\n    var type = type$p;\n    var log = Math.log;\n    var pow$1 = Math.pow;\n    var floor = Math.floor;\n    var abs$1 = Math.abs;\n\n\n    var analyze = function (data, key) {\n        if ( key === void 0 ) key=null;\n\n        var r = {\n            min: Number.MAX_VALUE,\n            max: Number.MAX_VALUE*-1,\n            sum: 0,\n            values: [],\n            count: 0\n        };\n        if (type(data) === 'object') {\n            data = Object.values(data);\n        }\n        data.forEach(function (val) {\n            if (key && type(val) === 'object') { val = val[key]; }\n            if (val !== undefined && val !== null && !isNaN(val)) {\n                r.values.push(val);\n                r.sum += val;\n                if (val < r.min) { r.min = val; }\n                if (val > r.max) { r.max = val; }\n                r.count += 1;\n            }\n        });\n\n        r.domain = [r.min, r.max];\n\n        r.limits = function (mode, num) { return limits(r, mode, num); };\n\n        return r;\n    };\n\n\n    var limits = function (data, mode, num) {\n        if ( mode === void 0 ) mode='equal';\n        if ( num === void 0 ) num=7;\n\n        if (type(data) == 'array') {\n            data = analyze(data);\n        }\n        var min = data.min;\n        var max = data.max;\n        var values = data.values.sort(function (a,b) { return a-b; });\n\n        if (num === 1) { return [min,max]; }\n\n        var limits = [];\n\n        if (mode.substr(0,1) === 'c') { // continuous\n            limits.push(min);\n            limits.push(max);\n        }\n\n        if (mode.substr(0,1) === 'e') { // equal interval\n            limits.push(min);\n            for (var i=1; i<num; i++) {\n                limits.push(min+((i/num)*(max-min)));\n            }\n            limits.push(max);\n        }\n\n        else if (mode.substr(0,1) === 'l') { // log scale\n            if (min <= 0) {\n                throw new Error('Logarithmic scales are only possible for values > 0');\n            }\n            var min_log = Math.LOG10E * log(min);\n            var max_log = Math.LOG10E * log(max);\n            limits.push(min);\n            for (var i$1=1; i$1<num; i$1++) {\n                limits.push(pow$1(10, min_log + ((i$1/num) * (max_log - min_log))));\n            }\n            limits.push(max);\n        }\n\n        else if (mode.substr(0,1) === 'q') { // quantile scale\n            limits.push(min);\n            for (var i$2=1; i$2<num; i$2++) {\n                var p = ((values.length-1) * i$2)/num;\n                var pb = floor(p);\n                if (pb === p) {\n                    limits.push(values[pb]);\n                } else { // p > pb\n                    var pr = p - pb;\n                    limits.push((values[pb]*(1-pr)) + (values[pb+1]*pr));\n                }\n            }\n            limits.push(max);\n\n        }\n\n        else if (mode.substr(0,1) === 'k') { // k-means clustering\n            /*\n            implementation based on\n            http://code.google.com/p/figue/source/browse/trunk/figue.js#336\n            simplified for 1-d input values\n            */\n            var cluster;\n            var n = values.length;\n            var assignments = new Array(n);\n            var clusterSizes = new Array(num);\n            var repeat = true;\n            var nb_iters = 0;\n            var centroids = null;\n\n            // get seed values\n            centroids = [];\n            centroids.push(min);\n            for (var i$3=1; i$3<num; i$3++) {\n                centroids.push(min + ((i$3/num) * (max-min)));\n            }\n            centroids.push(max);\n\n            while (repeat) {\n                // assignment step\n                for (var j=0; j<num; j++) {\n                    clusterSizes[j] = 0;\n                }\n                for (var i$4=0; i$4<n; i$4++) {\n                    var value = values[i$4];\n                    var mindist = Number.MAX_VALUE;\n                    var best = (void 0);\n                    for (var j$1=0; j$1<num; j$1++) {\n                        var dist = abs$1(centroids[j$1]-value);\n                        if (dist < mindist) {\n                            mindist = dist;\n                            best = j$1;\n                        }\n                        clusterSizes[best]++;\n                        assignments[i$4] = best;\n                    }\n                }\n\n                // update centroids step\n                var newCentroids = new Array(num);\n                for (var j$2=0; j$2<num; j$2++) {\n                    newCentroids[j$2] = null;\n                }\n                for (var i$5=0; i$5<n; i$5++) {\n                    cluster = assignments[i$5];\n                    if (newCentroids[cluster] === null) {\n                        newCentroids[cluster] = values[i$5];\n                    } else {\n                        newCentroids[cluster] += values[i$5];\n                    }\n                }\n                for (var j$3=0; j$3<num; j$3++) {\n                    newCentroids[j$3] *= 1/clusterSizes[j$3];\n                }\n\n                // check convergence\n                repeat = false;\n                for (var j$4=0; j$4<num; j$4++) {\n                    if (newCentroids[j$4] !== centroids[j$4]) {\n                        repeat = true;\n                        break;\n                    }\n                }\n\n                centroids = newCentroids;\n                nb_iters++;\n\n                if (nb_iters > 200) {\n                    repeat = false;\n                }\n            }\n\n            // finished k-means clustering\n            // the next part is borrowed from gabrielflor.it\n            var kClusters = {};\n            for (var j$5=0; j$5<num; j$5++) {\n                kClusters[j$5] = [];\n            }\n            for (var i$6=0; i$6<n; i$6++) {\n                cluster = assignments[i$6];\n                kClusters[cluster].push(values[i$6]);\n            }\n            var tmpKMeansBreaks = [];\n            for (var j$6=0; j$6<num; j$6++) {\n                tmpKMeansBreaks.push(kClusters[j$6][0]);\n                tmpKMeansBreaks.push(kClusters[j$6][kClusters[j$6].length-1]);\n            }\n            tmpKMeansBreaks = tmpKMeansBreaks.sort(function (a,b){ return a-b; });\n            limits.push(tmpKMeansBreaks[0]);\n            for (var i$7=1; i$7 < tmpKMeansBreaks.length; i$7+= 2) {\n                var v = tmpKMeansBreaks[i$7];\n                if (!isNaN(v) && (limits.indexOf(v) === -1)) {\n                    limits.push(v);\n                }\n            }\n        }\n        return limits;\n    };\n\n    var analyze_1 = {analyze: analyze, limits: limits};\n\n    var Color$3 = Color_1;\n\n\n    var contrast = function (a, b) {\n        // WCAG contrast ratio\n        // see http://www.w3.org/TR/2008/REC-WCAG20-20081211/#contrast-ratiodef\n        a = new Color$3(a);\n        b = new Color$3(b);\n        var l1 = a.luminance();\n        var l2 = b.luminance();\n        return l1 > l2 ? (l1 + 0.05) / (l2 + 0.05) : (l2 + 0.05) / (l1 + 0.05);\n    };\n\n    var Color$2 = Color_1;\n    var sqrt = Math.sqrt;\n    var pow = Math.pow;\n    var min = Math.min;\n    var max = Math.max;\n    var atan2 = Math.atan2;\n    var abs = Math.abs;\n    var cos = Math.cos;\n    var sin = Math.sin;\n    var exp = Math.exp;\n    var PI = Math.PI;\n\n    var deltaE = function(a, b, Kl, Kc, Kh) {\n        if ( Kl === void 0 ) Kl=1;\n        if ( Kc === void 0 ) Kc=1;\n        if ( Kh === void 0 ) Kh=1;\n\n        // Delta E (CIE 2000)\n        // see http://www.brucelindbloom.com/index.html?Eqn_DeltaE_CIE2000.html\n        var rad2deg = function(rad) {\n            return 360 * rad / (2 * PI);\n        };\n        var deg2rad = function(deg) {\n            return (2 * PI * deg) / 360;\n        };\n        a = new Color$2(a);\n        b = new Color$2(b);\n        var ref = Array.from(a.lab());\n        var L1 = ref[0];\n        var a1 = ref[1];\n        var b1 = ref[2];\n        var ref$1 = Array.from(b.lab());\n        var L2 = ref$1[0];\n        var a2 = ref$1[1];\n        var b2 = ref$1[2];\n        var avgL = (L1 + L2)/2;\n        var C1 = sqrt(pow(a1, 2) + pow(b1, 2));\n        var C2 = sqrt(pow(a2, 2) + pow(b2, 2));\n        var avgC = (C1 + C2)/2;\n        var G = 0.5*(1-sqrt(pow(avgC, 7)/(pow(avgC, 7) + pow(25, 7))));\n        var a1p = a1*(1+G);\n        var a2p = a2*(1+G);\n        var C1p = sqrt(pow(a1p, 2) + pow(b1, 2));\n        var C2p = sqrt(pow(a2p, 2) + pow(b2, 2));\n        var avgCp = (C1p + C2p)/2;\n        var arctan1 = rad2deg(atan2(b1, a1p));\n        var arctan2 = rad2deg(atan2(b2, a2p));\n        var h1p = arctan1 >= 0 ? arctan1 : arctan1 + 360;\n        var h2p = arctan2 >= 0 ? arctan2 : arctan2 + 360;\n        var avgHp = abs(h1p - h2p) > 180 ? (h1p + h2p + 360)/2 : (h1p + h2p)/2;\n        var T = 1 - 0.17*cos(deg2rad(avgHp - 30)) + 0.24*cos(deg2rad(2*avgHp)) + 0.32*cos(deg2rad(3*avgHp + 6)) - 0.2*cos(deg2rad(4*avgHp - 63));\n        var deltaHp = h2p - h1p;\n        deltaHp = abs(deltaHp) <= 180 ? deltaHp : h2p <= h1p ? deltaHp + 360 : deltaHp - 360;\n        deltaHp = 2*sqrt(C1p*C2p)*sin(deg2rad(deltaHp)/2);\n        var deltaL = L2 - L1;\n        var deltaCp = C2p - C1p;    \n        var sl = 1 + (0.015*pow(avgL - 50, 2))/sqrt(20 + pow(avgL - 50, 2));\n        var sc = 1 + 0.045*avgCp;\n        var sh = 1 + 0.015*avgCp*T;\n        var deltaTheta = 30*exp(-pow((avgHp - 275)/25, 2));\n        var Rc = 2*sqrt(pow(avgCp, 7)/(pow(avgCp, 7) + pow(25, 7)));\n        var Rt = -Rc*sin(2*deg2rad(deltaTheta));\n        var result = sqrt(pow(deltaL/(Kl*sl), 2) + pow(deltaCp/(Kc*sc), 2) + pow(deltaHp/(Kh*sh), 2) + Rt*(deltaCp/(Kc*sc))*(deltaHp/(Kh*sh)));\n        return max(0, min(100, result));\n    };\n\n    var Color$1 = Color_1;\n\n    // simple Euclidean distance\n    var distance = function(a, b, mode) {\n        if ( mode === void 0 ) mode='lab';\n\n        // Delta E (CIE 1976)\n        // see http://www.brucelindbloom.com/index.html?Equations.html\n        a = new Color$1(a);\n        b = new Color$1(b);\n        var l1 = a.get(mode);\n        var l2 = b.get(mode);\n        var sum_sq = 0;\n        for (var i in l1) {\n            var d = (l1[i] || 0) - (l2[i] || 0);\n            sum_sq += d*d;\n        }\n        return Math.sqrt(sum_sq);\n    };\n\n    var Color = Color_1;\n\n    var valid = function () {\n        var args = [], len = arguments.length;\n        while ( len-- ) args[ len ] = arguments[ len ];\n\n        try {\n            new (Function.prototype.bind.apply( Color, [ null ].concat( args) ));\n            return true;\n        } catch (e) {\n            return false;\n        }\n    };\n\n    // some pre-defined color scales:\n    var chroma$1 = chroma_1;\n\n    var scale = scale$2;\n\n    var scales = {\n    \tcool: function cool() { return scale([chroma$1.hsl(180,1,.9), chroma$1.hsl(250,.7,.4)]) },\n    \thot: function hot() { return scale(['#000','#f00','#ff0','#fff']).mode('rgb') }\n    };\n\n    /**\n        ColorBrewer colors for chroma.js\n\n        Copyright (c) 2002 Cynthia Brewer, Mark Harrower, and The\n        Pennsylvania State University.\n\n        Licensed under the Apache License, Version 2.0 (the \"License\");\n        you may not use this file except in compliance with the License.\n        You may obtain a copy of the License at\n        http://www.apache.org/licenses/LICENSE-2.0\n\n        Unless required by applicable law or agreed to in writing, software distributed\n        under the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR\n        CONDITIONS OF ANY KIND, either express or implied. See the License for the\n        specific language governing permissions and limitations under the License.\n    */\n\n    var colorbrewer = {\n        // sequential\n        OrRd: ['#fff7ec', '#fee8c8', '#fdd49e', '#fdbb84', '#fc8d59', '#ef6548', '#d7301f', '#b30000', '#7f0000'],\n        PuBu: ['#fff7fb', '#ece7f2', '#d0d1e6', '#a6bddb', '#74a9cf', '#3690c0', '#0570b0', '#045a8d', '#023858'],\n        BuPu: ['#f7fcfd', '#e0ecf4', '#bfd3e6', '#9ebcda', '#8c96c6', '#8c6bb1', '#88419d', '#810f7c', '#4d004b'],\n        Oranges: ['#fff5eb', '#fee6ce', '#fdd0a2', '#fdae6b', '#fd8d3c', '#f16913', '#d94801', '#a63603', '#7f2704'],\n        BuGn: ['#f7fcfd', '#e5f5f9', '#ccece6', '#99d8c9', '#66c2a4', '#41ae76', '#238b45', '#006d2c', '#00441b'],\n        YlOrBr: ['#ffffe5', '#fff7bc', '#fee391', '#fec44f', '#fe9929', '#ec7014', '#cc4c02', '#993404', '#662506'],\n        YlGn: ['#ffffe5', '#f7fcb9', '#d9f0a3', '#addd8e', '#78c679', '#41ab5d', '#238443', '#006837', '#004529'],\n        Reds: ['#fff5f0', '#fee0d2', '#fcbba1', '#fc9272', '#fb6a4a', '#ef3b2c', '#cb181d', '#a50f15', '#67000d'],\n        RdPu: ['#fff7f3', '#fde0dd', '#fcc5c0', '#fa9fb5', '#f768a1', '#dd3497', '#ae017e', '#7a0177', '#49006a'],\n        Greens: ['#f7fcf5', '#e5f5e0', '#c7e9c0', '#a1d99b', '#74c476', '#41ab5d', '#238b45', '#006d2c', '#00441b'],\n        YlGnBu: ['#ffffd9', '#edf8b1', '#c7e9b4', '#7fcdbb', '#41b6c4', '#1d91c0', '#225ea8', '#253494', '#081d58'],\n        Purples: ['#fcfbfd', '#efedf5', '#dadaeb', '#bcbddc', '#9e9ac8', '#807dba', '#6a51a3', '#54278f', '#3f007d'],\n        GnBu: ['#f7fcf0', '#e0f3db', '#ccebc5', '#a8ddb5', '#7bccc4', '#4eb3d3', '#2b8cbe', '#0868ac', '#084081'],\n        Greys: ['#ffffff', '#f0f0f0', '#d9d9d9', '#bdbdbd', '#969696', '#737373', '#525252', '#252525', '#000000'],\n        YlOrRd: ['#ffffcc', '#ffeda0', '#fed976', '#feb24c', '#fd8d3c', '#fc4e2a', '#e31a1c', '#bd0026', '#800026'],\n        PuRd: ['#f7f4f9', '#e7e1ef', '#d4b9da', '#c994c7', '#df65b0', '#e7298a', '#ce1256', '#980043', '#67001f'],\n        Blues: ['#f7fbff', '#deebf7', '#c6dbef', '#9ecae1', '#6baed6', '#4292c6', '#2171b5', '#08519c', '#08306b'],\n        PuBuGn: ['#fff7fb', '#ece2f0', '#d0d1e6', '#a6bddb', '#67a9cf', '#3690c0', '#02818a', '#016c59', '#014636'],\n        Viridis: ['#440154', '#482777', '#3f4a8a', '#31678e', '#26838f', '#1f9d8a', '#6cce5a', '#b6de2b', '#fee825'],\n\n        // diverging\n\n        Spectral: ['#9e0142', '#d53e4f', '#f46d43', '#fdae61', '#fee08b', '#ffffbf', '#e6f598', '#abdda4', '#66c2a5', '#3288bd', '#5e4fa2'],\n        RdYlGn: ['#a50026', '#d73027', '#f46d43', '#fdae61', '#fee08b', '#ffffbf', '#d9ef8b', '#a6d96a', '#66bd63', '#1a9850', '#006837'],\n        RdBu: ['#67001f', '#b2182b', '#d6604d', '#f4a582', '#fddbc7', '#f7f7f7', '#d1e5f0', '#92c5de', '#4393c3', '#2166ac', '#053061'],\n        PiYG: ['#8e0152', '#c51b7d', '#de77ae', '#f1b6da', '#fde0ef', '#f7f7f7', '#e6f5d0', '#b8e186', '#7fbc41', '#4d9221', '#276419'],\n        PRGn: ['#40004b', '#762a83', '#9970ab', '#c2a5cf', '#e7d4e8', '#f7f7f7', '#d9f0d3', '#a6dba0', '#5aae61', '#1b7837', '#00441b'],\n        RdYlBu: ['#a50026', '#d73027', '#f46d43', '#fdae61', '#fee090', '#ffffbf', '#e0f3f8', '#abd9e9', '#74add1', '#4575b4', '#313695'],\n        BrBG: ['#543005', '#8c510a', '#bf812d', '#dfc27d', '#f6e8c3', '#f5f5f5', '#c7eae5', '#80cdc1', '#35978f', '#01665e', '#003c30'],\n        RdGy: ['#67001f', '#b2182b', '#d6604d', '#f4a582', '#fddbc7', '#ffffff', '#e0e0e0', '#bababa', '#878787', '#4d4d4d', '#1a1a1a'],\n        PuOr: ['#7f3b08', '#b35806', '#e08214', '#fdb863', '#fee0b6', '#f7f7f7', '#d8daeb', '#b2abd2', '#8073ac', '#542788', '#2d004b'],\n\n        // qualitative\n\n        Set2: ['#66c2a5', '#fc8d62', '#8da0cb', '#e78ac3', '#a6d854', '#ffd92f', '#e5c494', '#b3b3b3'],\n        Accent: ['#7fc97f', '#beaed4', '#fdc086', '#ffff99', '#386cb0', '#f0027f', '#bf5b17', '#666666'],\n        Set1: ['#e41a1c', '#377eb8', '#4daf4a', '#984ea3', '#ff7f00', '#ffff33', '#a65628', '#f781bf', '#999999'],\n        Set3: ['#8dd3c7', '#ffffb3', '#bebada', '#fb8072', '#80b1d3', '#fdb462', '#b3de69', '#fccde5', '#d9d9d9', '#bc80bd', '#ccebc5', '#ffed6f'],\n        Dark2: ['#1b9e77', '#d95f02', '#7570b3', '#e7298a', '#66a61e', '#e6ab02', '#a6761d', '#666666'],\n        Paired: ['#a6cee3', '#1f78b4', '#b2df8a', '#33a02c', '#fb9a99', '#e31a1c', '#fdbf6f', '#ff7f00', '#cab2d6', '#6a3d9a', '#ffff99', '#b15928'],\n        Pastel2: ['#b3e2cd', '#fdcdac', '#cbd5e8', '#f4cae4', '#e6f5c9', '#fff2ae', '#f1e2cc', '#cccccc'],\n        Pastel1: ['#fbb4ae', '#b3cde3', '#ccebc5', '#decbe4', '#fed9a6', '#ffffcc', '#e5d8bd', '#fddaec', '#f2f2f2'],\n    };\n\n    // add lowercase aliases for case-insensitive matches\n    for (var i = 0, list = Object.keys(colorbrewer); i < list.length; i += 1) {\n        var key = list[i];\n\n        colorbrewer[key.toLowerCase()] = colorbrewer[key];\n    }\n\n    var colorbrewer_1 = colorbrewer;\n\n    var chroma = chroma_1;\n\n    // feel free to comment out anything to rollup\n    // a smaller chroma.js built\n\n    // io --> convert colors\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n    // operators --> modify existing Colors\n\n\n\n\n\n\n\n\n\n\n    // interpolators\n\n\n\n\n\n\n\n\n\n\n\n\n    // generators -- > create new colors\n    chroma.average = average;\n    chroma.bezier = bezier_1;\n    chroma.blend = blend_1;\n    chroma.cubehelix = cubehelix;\n    chroma.mix = chroma.interpolate = mix$1;\n    chroma.random = random_1;\n    chroma.scale = scale$2;\n\n    // other utility methods\n    chroma.analyze = analyze_1.analyze;\n    chroma.contrast = contrast;\n    chroma.deltaE = deltaE;\n    chroma.distance = distance;\n    chroma.limits = analyze_1.limits;\n    chroma.valid = valid;\n\n    // scale\n    chroma.scales = scales;\n\n    // colors\n    chroma.colors = w3cx11_1;\n    chroma.brewer = colorbrewer_1;\n\n    var chroma_js = chroma;\n\n    return chroma_js;\n\n}));\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\tid: moduleId,\n\t\tloaded: false,\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Flag the module as loaded\n\tmodule.loaded = true;\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","__webpack_require__.amdD = function () {\n\tthrow new Error('define cannot be used indirect');\n};","__webpack_require__.amdO = {};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.nmd = (module) => {\n\tmodule.paths = [];\n\tif (!module.children) module.children = [];\n\treturn module;\n};","// startup\n// Load entry module and return exports\n// This entry module is referenced by other modules so it can't be inlined\nvar __webpack_exports__ = __webpack_require__(3607);\n"],"names":["module","exports","array","values","l2","length","l1","i","extendStatics","__extends","this","d","b","Object","setPrototypeOf","__proto__","Array","p","prototype","hasOwnProperty","call","TypeError","String","__","constructor","create","__esModule","utils_1","edge_1","UNSIGNED_BYTE","WebGLRenderingContext","FLOAT","UNIFORMS","EdgeCurveProgram","_super","apply","arguments","getDefinition","VERTICES","ARRAY_ITEMS_PER_VERTEX","VERTEX_SHADER_SOURCE","FRAGMENT_SHADER_SOURCE","ATTRIBUTES","name","size","type","normalized","reallocateIndices","l","verticesCount","indices","IndicesArray","c","indicesArray","processVisibleItem","sourceData","targetData","data","thickness","x1","x","y1","y","x2","y2","color","floatColor","curveness","draw","params","gl","_a","uniformLocations","u_matrix","u_sizeRatio","u_dimensions","u_pixelRatio","uniformMatrix3fv","matrix","uniform1f","pixelRatio","sizeRatio","uniform2f","width","height","Error","drawElements","TRIANGLES","indicesType","EdgeProgram","__importDefault","mod","node_1","node_circle_1","NodeHaloProgram","haloColor","intensity","haloIntensity","Math","max","haloSize","ANGLE_1","ANGLE_2","ANGLE_3","u_correctionRatio","u_ignoreZoom","correctionRatio","drawArrays","NodeProgram","__assign","assign","t","s","n","node_point_1","NodePointWithBorderProgram","borderRatio","borderSize","borderColor","ReflectOwnKeys","R","Reflect","ReflectApply","target","receiver","args","Function","ownKeys","getOwnPropertySymbols","getOwnPropertyNames","concat","NumberIsNaN","Number","isNaN","value","EventEmitter","init","once","emitter","Promise","resolve","reject","errorListener","err","removeListener","resolver","slice","eventTargetAgnosticAddListener","handler","flags","on","addErrorHandlerIfEventEmitter","_events","undefined","_eventsCount","_maxListeners","defaultMaxListeners","checkListener","listener","_getMaxListeners","that","_addListener","prepend","m","events","existing","warning","newListener","emit","unshift","push","warned","w","count","console","warn","onceWrapper","fired","wrapFn","_onceWrap","state","wrapped","bind","_listeners","unwrap","evlistener","arr","ret","unwrapListeners","arrayClone","listenerCount","copy","addEventListener","wrapListener","arg","removeEventListener","defineProperty","enumerable","get","set","RangeError","getPrototypeOf","setMaxListeners","getMaxListeners","doError","error","er","message","context","len","listeners","addListener","prependListener","prependOnceListener","list","position","originalListener","shift","index","pop","spliceOne","off","removeAllListeners","key","keys","rawListeners","eventNames","a","XMLHttpRequest","open","responseType","onload","g","response","onerror","send","status","e","dispatchEvent","MouseEvent","document","createEvent","initMouseEvent","window","f","self","global","navigator","test","userAgent","saveAs","HTMLAnchorElement","h","URL","webkitURL","j","createElement","download","rel","href","origin","location","createObjectURL","setTimeout","revokeObjectURL","msSaveOrOpenBlob","autoBom","Blob","title","body","innerText","HTMLElement","safari","FileReader","k","onloadend","result","replace","readAsDataURL","resolveDefaults","isGraph","inferType","SparseMap","SparseQueueSet","createRandomIndex","UndirectedLouvainIndex","DirectedLouvainIndex","DEFAULTS","nodeCommunityAttribute","getEdgeWeight","fastLocalMoves","randomWalk","resolution","rng","random","addWeightToCommunity","map","community","weight","currentWeight","tieBreaker","bestCommunity","currentCommunity","targetCommunity","delta","bestDelta","abs","undirectedLouvain","detailed","graph","options","queue","start","end","ci","ri","degree","targetCommunityDegree","localMoves","currentMoves","keepDendrogram","randomIndex","moveWasMade","localMoveWasMade","communities","Float64Array","C","deltaComputations","nodesVisited","moves","enqueue","dequeue","clear","belongings","starts","neighborhood","weights","fastDeltaWithOwnCommunity","dense","vals","fastDelta","isolate","move","zoomOut","directedLouvain","offset","out","inDegree","outDegree","offsets","deltaWithOwnCommunity","louvain","forEachNode","node","setNodeAttribute","order","dendrogram","level","modularity","NaN","results","collect","output","fn","defaults","copyNode","copyEdge","DFSStack","forEachConnectedComponent","callback","stack","forEachNodeYetUnseen","source","component","forEachNeighbor","forEachConnectedComponentOrder","largestConnectedComponent","largestComponent","countUnseenNodes","forEachConnectedComponentOrderWithEdgeFilter","edgeFilter","forEachEdge","sa","ta","u","countConnectedComponents","connectedComponents","components","largestConnectedComponentSubgraph","S","nullCopy","forEach","getNodeAttributes","attr","sourceAttr","targetAttr","undirected","hasNode","cropToLargestConnectedComponent","Set","has","dropNode","stronglyConnectedComponents","nodes","vertex","P","preorder","Map","assigned","DFS","neighbor","neighborOrder","neighbors","outboundNeighbors","add","parse","write","createParserFunction","DOMParser","Document","cast","split","SANITIZE_PATTERN","sanitizeTagName","tagName","trim","isGraphConstructor","mergeEdge","toMixed","toMulti","getFirstMatchingVizTag","element","vizElement","getElementsByTagName","getElementsByTagNameNS","extractModel","elements","defaultElement","id","model","getAttribute","textContent","collectAttributes","label","valueElement","valueElements","z","r","toRGBString","shape","Graph","mergeResult","attributes","addMissingNodes","xmlDoc","parseFromString","GRAPH_ELEMENT","META_ELEMENT","META_ELEMENTS","childNodes","NODE_ELEMENTS","EDGE_ELEMENTS","MODEL_ELEMENTS","NODE_MODEL_ELEMENTS","EDGE_MODEL_ELEMENTS","DEFAULT_EDGE_TYPE","NODE_MODEL","NODE_DEFAULT_ATTRIBUTES","EDGE_MODEL","EDGE_DEFAULT_ATTRIBUTES","meta","nodeName","toLowerCase","collectMeta","lastModifiedDate","replaceAttributes","setAttribute","addNode","multi","hasDirectedEdge","hasUndirectedEdge","XMLWriter","VIZ_RESERVED_NAMES","RGBA_TEST","RGBA_MATCH","CSSColorToRGBA","parseInt","match","DEFAULT_ELEMENT_FORMATTER","viz","isEmptyValue","isArray","join","inferModel","number","writeModel","writer","modelClass","startElement","writeAttribute","endElement","writeElements","edgeType","emptyModel","defaultEdgeType","startElementNS","encoding","pretty","formatNode","formatEdge","indent","startDocument","metaTagName","graphAttribute","graphAttributes","getAttributes","writeElement","format","collectNodeData","edges","reducer","edge","_sa","_ta","collectEdgeData","nodeModel","edgeModel","toString","seen","hasAlreadySeenEverything","someNode","seenSizeBefore","pushWith","item","typed","createEdgeWeightGetter","INSPECT","Symbol","for","fromEntry","selfLoopCount","NeighborhoodPointerArray","getPointerArray","NodesPointerArray","WeightsArray","M","E","U","loops","mapping","counts","unused","totalWeights","ids","undirectedDegreeWithoutSelfLoops","startSource","startTarget","totalInWeights","totalOutWeights","outDegreeWithoutSelfLoops","inDegreeWithoutSelfLoops","newCommunity","nowEmpty","computeNodeDegree","o","expensiveIsolate","expensiveMove","cj","adj","currentLevel","nextLevel","inducedGraph","newLabels","N","internalWeights","Q","M2","pow","targetCommunityTotalWeight","bounds","project","projection","from","prop","proxy","inBounds","outBounds","projectIn","projectOut","computeNodeInDegree","computeNodeOutDegree","inAdj","outAdj","targetCommunityTotalInWeight","targetCommunityTotalOutWeight","upperBoundPerMethod","method","directedSize","undirectedSize","NeighborhoodIndex","getNeighbors","upperBound","WeightedNeighborhoodIndex","getEdges","weightGetter","fromMinimalEntry","outDegrees","opposite","getEdgeAttributes","updateEachNodeAttributes","_","linLogMode","outboundAttractionDistribution","adjustSizes","edgeWeightInfluence","scalingRatio","strongGravityMode","gravity","slowDown","barnesHutOptimize","barnesHutTheta","objects","validateSettings","settings","graphToByteArrays","NodeMatrix","Float32Array","EdgeMatrix","fixed","sj","tj","assignLayoutChanges","outputReducer","readGraphPositions","collectLayoutChanges","positions","newAttr","createWorker","xURL","code","objectUrl","worker","Worker","iterate","helpers","DEFAULT_SETTINGS","abstractSynchronousLayout","iterations","validationError","matrices","synchronousLayout","inferSettings","log","PPN","n1","n2","rn","outboundAttCompensation","coefficient","xDist","yDist","ewc","distance","factor","force","swinging","traction","nodespeed","newX","newY","thetaSquared","RegionMatrix","q","q2","subdivisionAttempts","minX","Infinity","maxX","minY","maxY","min","dx","dy","PPR","sqrt","lib","createUnweightedIndexedBrandes","createDijkstraIndexedBrandes","nodeCentralityAttribute","abstractBetweennessCentrality","sigma","v","outputName","brandes","centralities","items","scale","betweennessCentrality","FixedDeque","SparseSet","wassermanFaust","IndexedBFS","abstractClosenessCentrality","total","closeness","bfs","fromNode","closenessCentrality","abstractDegreeCentrality","centralityAttribute","ratio","getDegree","degreeCentrality","inDegreeCentrality","outDegreeCentrality","maxIterations","tolerance","safeVariadicHypot","abstractEigenvectorCentrality","xLast","norm","iteration","converged","eigenvectorCentrality","nodeAuthorityAttribute","nodeHubAttribute","normalize","dict","sum","nb","hits","lastHubs","authorities","maxAuthority","maxHub","hubs","outboundEdges","main","nodePagerankAttribute","alpha","abstractPagerank","pagerankAttribute","normalizedEdgeWeights","danglingNodes","dangleSum","pagerank","intersectionSize","abstractSimmelianStrength","neighborhoods","strengths","updateEachEdgeAttributes","simmelianStrength","FixedStack","Heap","neighborhoodIndices","BRANDES_DIJKSTRA_HEAP_COMPARATOR","neighborhoodIndex","Uint32Array","D","Int32Array","sourceIndex","Dv","sigmav","stop","dist","pred","cost","addUndirectedEdge","addUndirectedEdgeWithKey","addDirectedEdge","addDirectedEdgeWithKey","mergeUndirectedEdge","mergeUndirectedEdgeWithKey","mergeDirectedEdge","mergeDirectedEdgeWithKey","def","RegExp","Date","coerceWeight","nameOrFunction","defaultValue","getter","coerceToDefault","returnDefault","fromAttributes","fromGraph","fromPartialEntry","extremities","isUndirected","createEdgeValueGetter","declaredType","iterator","construct","sham","Proxy","Boolean","valueOf","indexOf","writable","configurable","ReferenceError","_nodes","G","A","L","next","of","done","empty","fromSequence","is","O","ARRAY_BUFFER_SUPPORT","ArrayBuffer","SYMBOL_SUPPORT","W","isView","K","T","B","captureStackTrace","F","I","Y","J","V","H","_edges","undirectedDegree","undirectedLoops","directedLoops","in","attach","attachMulti","previous","detach","detachMulti","attacher","X","Z","$","tt","et","direction","nt","rt","it","sourceAttributes","targetAttributes","ot","at","ct","ut","dt","st","ht","pt","ft","lt","gt","yt","wt","vt","bt","mt","wrap","kt","xt","Et","At","Lt","St","floor","Dt","Ut","Nt","allowSelfLoops","Ot","NodeDataClass","jt","_edgeKeyGenerator","_undirectedSelfLoopCount","_directedSelfLoopCount","_undirectedSize","_directedSize","Ct","Mt","delete","zt","_options","_resetInstanceCounters","hasEdge","directedEdge","undirectedEdge","areDirectedNeighbors","areOutNeighbors","areInNeighbors","areUndirectedNeighbors","areNeighbors","areInboundNeighbors","areOutboundNeighbors","directedDegree","inboundDegree","outboundDegree","directedDegreeWithoutSelfLoops","inboundDegreeWithoutSelfLoops","outboundDegreeWithoutSelfLoops","degreeWithoutSelfLoops","hasExtremity","isDirected","isSelfLoop","mergeNode","updateNode","dropEdge","dropDirectedEdge","dropUndirectedEdge","clearEdges","_attributes","hasAttribute","updateAttribute","removeAttribute","mergeAttributes","updateAttributes","hints","forEachAdjacencyEntry","forEachAdjacencyEntryWithOrphans","forEachAssymetricAdjacencyEntry","forEachAssymetricAdjacencyEntryWithOrphans","findNode","mapNodes","everyNode","filterNodes","reduceNodes","nodeEntries","export","import","emptyCopy","toJSON","inspect","startsWith","generateKey","toUpperCase","_t","Gt","Wt","Pt","Rt","Kt","Tt","Bt","DirectedGraph","UndirectedGraph","MultiGraph","MultiDirectedGraph","MultiUndirectedGraph","InvalidArgumentsGraphError","NotFoundGraphError","UsageGraphError","CONFUSION_LINES","protanope","yint","deuteranope","tritanope","CachedDistances","cache","simulate","lab","amount","confuseX","confuseY","confuseM","confuseYint","labToRgb","sr","sg","sb","dr","dg","db","powR","powG","powB","chromaX","chromaY","deviateX","deviateY","diffX","diffZ","diffR","diffG","diffB","fitR","fitG","fitB","adjust","dcolor","rgbToLab","euclidean","lab1","lab2","cmc","L1","L2","a1","a2","b1","b2","C1","deltaC","deltaL","deltaa","deltab","deltaH","H1","atan2","PI","cos","S_L","S_C","S_H","colorblind","compromise","LAB_CONSTANTS","xyzToRgb","round","rgbToXyzHelper","xyzToLab","labToXyz","hexPad","RAD_TO_DEG","validateRgb","rgb","labToRgbHex","xyz","rgbToXyz","labToHcl","diffSort","colors","maxDistance","candidateIndex","diffColors","splice","computeQualityMetrics","mean","Random","presets","attempts","colorFilter","colorSpace","clustering","quality","ultraPrecision","seed","VALID_CLUSTERINGS","VALID_DISTANCES","VALID_PRESETS","sampleLabColors","validColor","forceVector","dl","da","candidateLab","displacement","vectors","steps","kMeans","colorSamples","samplesClosest","linc","ainc","binc","minDistance","freeColorSamples","candidate","closest","li","lj","filter","userSettings","string","charCodeAt","stringSum","preset","hmin","hmax","cmin","cmax","lmin","lmax","hcl","resolveAndValidateSettings","nextFloat","metrics","best","bestMetric","iterables","Iterator","ArrayClass","capacity","peekFirst","peekLast","scope","toArray","entries","iterable","guessLength","deque","isArrayLike","peek","comparators","DEFAULT_COMPARATOR","reverseComparator","siftDown","compare","heap","startIndex","parentIndex","parent","siftUp","rightIndex","endIndex","childIndex","lastItem","popped","pushpop","tmp","heapify","consume","comparator","MaxHeap","nsmallest","reverseCompare","sort","nlargest","MinHeap","intersection","smallestSize","smallestSet","step","union","difference","symmetricDifference","isSubset","isSuperset","subtract","intersect","disjunct","toRemove","unionSize","jaccard","overlap","Values","ByteArray","sparse","member","DEFAULT_REVERSE_COMPARATOR","createTupleComparator","isTypedArray","toArrayWithIndices","IndexArray","MAX_8BIT_INTEGER","MAX_16BIT_INTEGER","MAX_32BIT_INTEGER","MAX_SIGNED_8BIT_INTEGER","MAX_SIGNED_16BIT_INTEGER","MAX_SIGNED_32BIT_INTEGER","maxIndex","Uint8Array","Uint16Array","getSignedPointerArray","Int8Array","Int16Array","getNumberType","sign","TYPE_PRIORITY","getMinimalRepresentation","maxType","maxPriority","support","sequence","alea","xor128","xorwow","xorshift7","xor4096","tychei","define","Alea","me","mash","s0","s1","s2","impl","opts","xg","prng","int32","double","quick","XorGen","strseed","limit","pool","math","nodecrypto","startdenom","significance","overflow","mask","seedrandom","shortseed","mixkey","flatten","entropy","tostring","randomBytes","crypto","msCrypto","getRandomValues","browser","plugins","screen","autoseed","arc4","ARC4","pass","is_math_call","keylen","obj","depth","typ","smear","stringseed","fromCharCode","ex","animate_1","easings_1","types_1","DEFAULT_ZOOMING_RATIO","Camera","_this","angle","minRatio","maxRatio","nextFrame","previousState","enabled","getState","setState","enable","disable","hasState","getPreviousState","getBoundedRatio","validateState","validatedState","isAnimated","validState","updateState","updater","animate","ANIMATE_DEFAULTS","easing","default","now","initialState","duration","animationCallback","newState","requestFrame","cancelFrame","animatedZoom","factorOrOptions","animatedUnzoom","animatedReset","TypedEventEmitter","getWheelDelta","getTouchCoords","getTouchesArray","getWheelCoords","getMouseCoords","getPosition","dom","bbox","getBoundingClientRect","clientX","left","clientY","top","res","sigmaDefaultPrevented","preventSigmaDefault","original","touches","deltaY","detail","touch","Captor","container","renderer","__createBinding","k2","__setModuleDefault","__importStar","captor_1","MouseCaptor","draggedEvents","downStartTime","lastMouseX","lastMouseY","isMouseDown","isMoving","movingTimeout","startCameraState","clicks","doubleClickTimeout","currentWheelDirection","handleClick","handleRightClick","handleDown","handleUp","handleMove","handleWheel","handleOut","kill","clearTimeout","handleDoubleClick","preventDefault","stopPropagation","mouseCoords","camera","getCamera","newRatio","getViewportZoomedState","button","cameraState","previousCameraState","refresh","eX","eY","lastMouse","viewportToFramedGraph","mouse","offsetX","offsetY","wheelCoords","ratioDiff","wheelDirection","lastWheelTriggerTime","MOUSE_ZOOM_DURATION","__read","ar","TouchCaptor","hasMoved","touchMode","startTouchesPositions","handleStart","handleLeave","getDimensions","offsetWidth","offsetHeight","dispatchRelatedMouseEvent","mousePosition","mouseEvent","altKey","ctrlKey","isFakeSigmaMouseEvent","lastTouches","lastTouchesPositions","_b","x0","y0","_c","startTouchesAngle","startTouchesDistance","touchesPositions","some","idx","startPosition","xStart","yStart","newCameraState","_d","_e","angleDiff","hypot","dimensions","touchGraphPosition","smallestDimension","sin","edgeLabelsToDisplayFromNodes","LabelGrid","LabelCandidate","first","second","cellSize","columns","rows","cells","resizeAndClear","ceil","getIndex","pos","xIndex","cell","organize","getLabelsToDisplay","density","cellArea","scaledDensity","labelsToDisplayPerCell","labels","hoveredNode","highlightedNodes","displayedNodeLabels","worthyEdges","rectangleCollidesWithQuad","squareCollidesWithQuad","getCircumscribedAlignedRectangle","isRectangleAligned","extend_1","hasWarnedTooMuchOutside","rect","heightVector","tl","tr","bl","br","xL","xR","yT","qx","qy","qw","qh","pointIsInQuad","QuadTree","containers","OUTSIDE_BLOCK","lastRectangle","boundaries","resize","maxLevel","block","topLeftBlock","topRightBlock","bottomLeftBlock","bottomRightBlock","collidingWithTopLeft","collidingWithTopRight","collidingWithBottomLeft","collidingWithBottomRight","collisions","reduce","acc","current","insertNode","hw","hh","buildQuadrants","point","rectangle","lr","collectedNodes","getNodesInAxisAlignedRectangleArea","Sigma","sigma_1","camera_1","quadtree_1","mouse_1","edgeData","edgeLabelSize","font","edgeLabelFont","edgeLabelWeight","edgeLabelColor","attribute","fillStyle","cx","cy","sSize","tSize","sx","sy","tx","ty","textLength","measureText","acos","asin","save","translate","rotate","fillText","restore","label_1","labelSize","labelFont","labelWeight","shadowOffsetX","shadowOffsetY","shadowBlur","shadowColor","textWidth","boxWidth","boxHeight","radius","angleRadian","xDeltaCoord","beginPath","moveTo","lineTo","arc","closePath","fill","labelColor","createEdgeCompoundProgram","AbstractEdgeProgram","program_1","AbstractProgram","process","STRIDE","hidden","Program","programClasses","EdgeCompoundProgram","programs","reallocate","program","render","createNodeCompoundProgram","AbstractNodeProgram","NodeCompoundProgram","utils_2","SIZE_FACTOR_PER_ATTRIBUTE_TYPE","WebGL2RenderingContext","BOOL","BYTE","SHORT","UNSIGNED_SHORT","INT","UNSIGNED_INT","_gl","_renderer","attributeLocations","definition","buffer","createBuffer","indicesBuffer","vertexShader","loadVertexShader","fragmentShader","loadFragmentShader","loadProgram","canUse32BitsIndices","uniformName","getUniformLocation","getAttribLocation","attributeName","bindBuffer","ARRAY_BUFFER","ELEMENT_ARRAY_BUFFER","enableVertexAttribArray","vertexAttribPointer","BYTES_PER_ELEMENT","sizeFactor","bufferData","DYNAMIC_DRAW","STATIC_DRAW","hasNothingToRender","useProgram","edge_arrowHead_1","edge_clamped_1","EdgeArrowProgram","edge_arrowHead_vert_glsl_1","edge_arrowHead_frag_glsl_1","EdgeArrowHeadProgram","edge_rectangle_1","edge_clamped_vert_glsl_1","EdgeClampedProgram","edge_rectangle_vert_glsl_1","edge_rectangle_frag_glsl_1","EdgeRectangleProgram","u_zoomRatio","zoomRatio","node_circle_vert_glsl_1","node_circle_frag_glsl_1","NodeCircleProgram","node_point_vert_glsl_1","node_point_frag_glsl_1","NodePointProgram","POINTS","toStringTag","loadShader","glType","VERTEX_SHADER","FRAGMENT_SHADER","shader","createShader","shaderSource","compileShader","getShaderParameter","COMPILE_STATUS","infoLog","getShaderInfoLog","deleteShader","shaders","createProgram","attachShader","linkProgram","getProgramParameter","LINK_STATUS","deleteProgram","resolveSettings","DEFAULT_EDGE_PROGRAM_CLASSES","DEFAULT_NODE_PROGRAM_CLASSES","hover_1","edge_label_1","edge_arrow_1","hideEdgesOnMove","hideLabelsOnMove","renderLabels","renderEdgeLabels","enableEdgeClickEvents","enableEdgeWheelEvents","enableEdgeHoverEvents","defaultNodeColor","defaultNodeType","defaultEdgeColor","stagePadding","zoomToSizeRatioFunction","labelDensity","labelGridCellSize","labelRenderedSizeThreshold","nodeReducer","edgeReducer","zIndex","minCameraRatio","maxCameraRatio","labelRenderer","hoverRenderer","edgeLabelRenderer","allowInvalidContainer","nodeProgramClasses","nodeHoverProgramClasses","edgeProgramClasses","circle","arrow","line","resolvedSettings","__values","labels_1","settings_1","touch_1","matrices_1","edge_collisions_1","applyNodeDefaults","highlighted","forceLabel","applyEdgeDefaults","canvasContexts","webGLContexts","activeListeners","quadtree","labelGrid","nodeDataCache","edgeDataCache","nodesWithForcedLabels","edgesWithForcedLabels","nodeExtent","identity","invMatrix","customBBox","normalizationFunction","createNormalizationFunction","cameraSizeRatio","getPixelRatio","displayedEdgeLabels","hoveredEdge","renderFrame","renderHighlightedNodesFrame","needToProcess","checkEdgesEventsFrame","nodePrograms","nodeHoverPrograms","edgePrograms","validateGraph","createWebGLContext","preserveDrawingBuffer","createCanvasContext","blendFunc","ONE","ONE_MINUS_SRC_ALPHA","BLEND","NodeProgramClass","NodeHoverProgram","hoverNodes","EdgeProgramClass","bindCameraHandlers","mouseCaptor","touchCaptor","bindEventHandlers","bindGraphHandlers","handleSettingsUpdate","createCanvas","canvas","class","appendChild","getContext","antialias","contextOptions","scheduleRender","mouseIsOnNode","nodeX","nodeY","getQuadNodes","mouseGraphPosition","getNodeAtPosition","quadNodes","nodeAtPosition","nodePosition","framedGraphToViewport","scaleSize","handleResize","baseEvent","event","nodeToHover","scheduleHighlightedNodesRender","checkEdgeHoverEvents","createMouseListener","eventType","getEdgeAtPoint","graphUpdate","scheduleRefresh","dropNodeGraphUpdate","dropEdgeGraphUpdate","clearEdgesGraphUpdate","clearGraphUpdate","unbindGraphHandlers","payload","edgeToHover","e_1","isPixelColored","viewportToGraph","graphX","graphY","transformationRatio","someEdge","sourceId","targetId","xs","ys","graphLength","graphToViewport","vp_xs","vp_ys","vp_xt","vp_yt","viewportLength","filterEdges","edgeAttributes","sourcePosition","targetPosition","doEdgeCollideWithPoint","selectedEdge","highestZIndex","edges_1","edges_1_1","getEdgeAttribute","e_1_1","return","nodeZExtent","edgeZExtent","graphExtent","nullCamera","nullCameraMatrix","matrixFromCamera","getGraphDimensions","getSetting","nodesPerPrograms","applyTo","zIndexOrdering","nodeProgram","edgesPerPrograms","labelsToDisplay","edgeLabels","clearRect","edgeLabelsToDisplay","displayedLabels","renderHighlightedNodes","hovers","nodesToRender","COLOR_BUFFER_BIT","exitRender","updateCachedValues","moving","viewportDimensions","graphDimensions","padding","getMatrixImpact","getContainer","getGraph","setGraph","getMouseCaptor","getTouchCaptor","extent","getNodeDisplayData","getEdgeDisplayData","getNodeDisplayedLabels","getEdgeDisplayedLabels","getSettings","setSetting","updateSetting","previousWidth","previousHeight","style","viewport","viewportTarget","center","graphMousePosition","graphCenterPosition","viewRectangle","marginX","marginY","p1","p2","coordinates","override","recomputeMatrix","viewportPos","multiplyVec2","viewportPoint","inverse","graphPoint","getBBox","getCustomBBox","setCustomBBox","firstChild","removeChild","getCanvases","rawEmitter","animateNodes","index_1","targets","startPositions","attrs","getNodeAttribute","frame","HTML_COLORS","black","silver","gray","grey","white","maroon","red","purple","fuchsia","green","lime","olive","yellow","navy","blue","teal","aqua","darkblue","mediumblue","darkgreen","darkcyan","deepskyblue","darkturquoise","mediumspringgreen","springgreen","cyan","midnightblue","dodgerblue","lightseagreen","forestgreen","seagreen","darkslategray","darkslategrey","limegreen","mediumseagreen","turquoise","royalblue","steelblue","darkslateblue","mediumturquoise","indigo","darkolivegreen","cadetblue","cornflowerblue","rebeccapurple","mediumaquamarine","dimgray","dimgrey","slateblue","olivedrab","slategray","slategrey","lightslategray","lightslategrey","mediumslateblue","lawngreen","chartreuse","aquamarine","skyblue","lightskyblue","blueviolet","darkred","darkmagenta","saddlebrown","darkseagreen","lightgreen","mediumpurple","darkviolet","palegreen","darkorchid","yellowgreen","sienna","brown","darkgray","darkgrey","lightblue","greenyellow","paleturquoise","lightsteelblue","powderblue","firebrick","darkgoldenrod","mediumorchid","rosybrown","darkkhaki","mediumvioletred","indianred","peru","chocolate","tan","lightgray","lightgrey","thistle","orchid","goldenrod","palevioletred","crimson","gainsboro","plum","burlywood","lightcyan","lavender","darksalmon","violet","palegoldenrod","lightcoral","khaki","aliceblue","honeydew","azure","sandybrown","wheat","beige","whitesmoke","mintcream","ghostwhite","salmon","antiquewhite","linen","lightgoldenrodyellow","oldlace","magenta","deeppink","orangered","tomato","hotpink","coral","darkorange","lightsalmon","orange","lightpink","pink","gold","peachpuff","navajowhite","moccasin","bisque","mistyrose","blanchedalmond","papayawhip","lavenderblush","seashell","cornsilk","lemonchiffon","floralwhite","snow","lightyellow","ivory","cubicInOut","cubicOut","cubicIn","quadraticInOut","quadraticOut","quadraticIn","linear","easings","pixels","readPixels","drawingBufferHeight","RGBA","xS","yS","xT","extractPixel","getCorrectionRatio","floatArrayColor","parseColor","assignDeep","isPlainObject","is_graph_1","data_1","_i","requestAnimationFrame","cancelAnimationFrame","requestID","tag","devicePixelRatio","xMin","xMax","yMin","yMax","dX","dY","zA","zB","INT8","INT32","FLOAT32","RGBA_TEST_REGEX","RGBA_EXTRACT_REGEX","val","charAt","FLOAT_COLOR_CACHE","htmlColor","parsed","viewportRatio","graphRatio","multiply","getExtension","isFinite","a00","a01","a02","a10","a11","a12","a20","a21","a22","b00","b01","b02","b10","b11","b12","b20","b21","b22","b0","labelOffsetX","labelOffsetY","colorSeed","labelsOffsets","sigmaContainer","getElementById","sigmaSettings","curve","adjustCommunitiesColors","graph2","louvainSeed","IWHSeed","palette","darken","hex","brighten","adjustAngle","renderers","parseFloat","fetch","then","text","gexf","pathname","innerHeight","vars","maxVals","addEdge","FA2settings","remove","prepareGraph","angleInput","hSizeInput","hIntInput","colorSeedInput","miniSigmaSettings","miniMapsAttributes","querySelector","innerHTML","baseAngle","onchange","seedInput","onclick","renderPNG","rdr","fileName","tmpRoot","right","bottom","tmpRenderer","ctx","fillRect","canvases","drawImage","toBlob","blob","buildExportableGraphs","fullscreenButton","regscreenButton","doc","documentElement","requestFullscreen","webkitRequestFullscreen","msRequestFullscreen","display","exitFullscreen","webkitExitFullscreen","msExitFullscreen","suggestions","selectedNode","allSuggestions","feedAllSuggestions","fillSuggestions","searchInput","setSearchQuery","query","includes","suggestionsMatch","clickNode","oninput","onblur","focus","cursor","buildHomepage","isFalse","strval","name_regex","indentString","tags","texts","comment","dtd","root","pi","cdata","started_write","writer_encoding","flush","indenter","version","standalone","startPI","startAttribute","endAttribute","endPI","endDocument","endAttributes","content","writeElementNS","prefix","uri","containsTag","startAttributes","writeAttributeNS","startAttributeNS","writeComment","startComment","endComment","writeDocType","pubid","sysid","subset","startDocType","endDocType","writePI","writeCData","startCData","endCData","writeRaw","limit$2","limit$1","classToType","i$1","list$1","type$p","type$o","type$n","PI$2","utils","clip_rgb","_clipped","_unclipped","unpack","keyOrder","last","TWOPI","PITHIRD","DEG2RAD","RAD2DEG","input$h","autodetect","last$3","clip_rgb$2","type$m","_input","Color$D","mode","sorted","chk","_rgb","Color_1","chroma$k","Color","chroma_1","unpack$A","max$2","rgb2cmyk_1","ref","unpack$z","cmyk2rgb_1","chroma$j","Color$C","input$g","unpack$y","type$l","rgb2cmyk","cmyk","unpack$x","last$2","rnd","hsl2css_1","hsla","unpack$w","rgb2hsl_1","unpack$v","last$1","hsl2css","rgb2hsl$2","round$6","rgb2css_1","rgba","substr","unpack$u","round$5","hsl2rgb_1","t3","t2","t1","h_","hsl2rgb","input$f","RE_RGB","RE_RGBA","RE_RGB_PCT","RE_RGBA_PCT","RE_HSL","RE_HSLA","round$4","css2rgb$1","css","named","rgb$1","rgb$2","i$2","rgb$3","i$3","hsl","rgb$4","hsl$1","rgb$5","chroma$i","Color$B","input$e","type$k","rgb2css","css2rgb","rest","Color$A","chroma$h","unpack$t","unpack$s","rgb2hcg_1","_g","unpack$r","floor$3","hcg2rgb_1","assign$1","assign$2","assign$3","assign$4","assign$5","unpack$q","type$j","chroma$g","Color$z","input$c","rgb2hcg","hcg","unpack$p","round$3","rgb2hex_1","str","hxa","RE_HEX","RE_HEXA","hex2rgb_1","u$1","chroma$f","Color$y","type$i","input$b","rgb2hex$1","unpack$o","TWOPI$2","min$2","sqrt$4","rgb2hsi_1","min_","unpack$n","TWOPI$1","cos$4","hsi2rgb_1","unpack$m","type$h","chroma$e","Color$x","input$a","rgb2hsi","hsi","unpack$l","type$g","chroma$d","Color$w","input$9","rgb2hsl$1","unpack$k","min$1","max$1","rgb2hsv$1","max_","unpack$j","floor$2","hsv2rgb_1","unpack$i","type$f","chroma$c","Color$v","input$8","rgb2hsv","hsv","labConstants","Kn","Xn","Yn","Zn","t0","LAB_CONSTANTS$3","unpack$h","pow$a","rgb_xyz","xyz_lab","rgb2xyz","rgb2lab_1","ref$1","LAB_CONSTANTS$2","unpack$g","pow$9","xyz_rgb","lab_xyz","lab2rgb_1","unpack$f","type$e","chroma$b","Color$u","input$7","rgb2lab$1","unpack$e","sqrt$3","atan2$2","round$2","lab2lch_1","unpack$d","rgb2lab","lab2lch$1","rgb2lch_1","b_","unpack$c","sin$3","cos$3","lch2lab_1","unpack$b","lch2lab$1","lab2rgb","lch2rgb_1","unpack$a","lch2rgb","hcl2rgb_1","reverse","unpack$9","type$d","chroma$a","Color$t","input$6","rgb2lch","lch","w3cx11_1","cornflower","laserlemon","lightgoldenrod","maroon2","maroon3","purple2","purple3","input$5","type$c","w3cx11","hex2rgb","rgb2hex","unpack$8","rgb2num_1","type$b","chroma$9","Color$r","input$4","type$a","rgb2num","num","chroma$8","Color$q","input$3","unpack$7","type$9","round$1","log$1","temperature2rgb_1","kelvin","temp","temperature2rgb","unpack$6","chroma$7","Color$p","input$2","rgb2temperature","minTemp","maxTemp","eps","temperature","unpack$5","cbrt","pow$8","sign$1","rgb2oklab_1","rgb2lrgb","lg","lb","unpack$4","pow$7","oklab2rgb_1","lrgb2rgb","unpack$3","type$8","chroma$6","Color$o","input$1","rgb2oklab$1","oklab","unpack$2","rgb2oklab","lab2lch","rgb2oklch_1","unpack$1","lch2lab","oklab2rgb","oklch2rgb_1","type$7","chroma$5","Color$n","input","rgb2oklch","oklch","Color$m","type$6","mutate","clipped","Color$k","LAB_CONSTANTS$1","darker","brighter","mc","channel","src","Color$i","type$5","pow$6","luminance","lum","cur_lum","max_iter","low","high","mid","interpolate","lm","rgb2luminance","luminance_x","interpolator$1","Color$h","type$4","interpolator","mix$1","col1","col2","Color$g","mix","Color$f","premultiply","Color$e","saturate","desaturate","Color$d","type$3","Color$c","xyz0","xyz1","Color$b","sqrt$2","pow$5","lrgb","z1","z2","Color$a","Color$9","_hsx","hue0","hue1","sat0","sat1","lbv0","lbv1","sat","hue","lbv","interpolate_hsx$5","Color$8","c1","c2","interpolate_hsx$4","interpolate_hsx$3","interpolate_hsx$2","interpolate_hsx$1","Color$7","interpolate_hsx","Color$6","clip_rgb$1","pow$4","sqrt$1","PI$1","cos$2","sin$2","atan2$1","_average_lrgb","col","chroma$4","type$2","pow$3","scale$2","_mode","_nacol","_spread","_domain","_pos","_padding","_classes","_colors","_out","_min","_max","_correctLightness","_colorCache","_useCache","_gamma","setColors","brewer","c$1","resetCache","tMapLightness","tMapDomain","getColor","bypassMap","getClass","classes","analyze","limits","domain","tOut","tBreaks","every","_m","range","_o","spread","correctLightness","L0","pol","L_actual","L_ideal","L_diff","numColors","dm","dd","__range__","samples","asc","gamma","nodata","inclusive","ascending","Color$5","scale$1","chroma$3","blend","blend_f","c0","each","normal","overlay","lighten","dodge","burn","blend_1","type$1","pow$2","sin$1","cos$1","chroma$2","Color$4","floor$1","pow$1","abs$1","MAX_VALUE","min_log","LOG10E","max_log","pb","pr","cluster","assignments","clusterSizes","repeat","nb_iters","centroids","i$4","mindist","j$1","newCentroids","j$2","i$5","j$3","j$4","kClusters","j$5","i$6","tmpKMeansBreaks","j$6","i$7","analyze_1","Color$3","Color$2","exp","Color$1","chroma$1","scales","cool","hot","colorbrewer","OrRd","PuBu","BuPu","Oranges","BuGn","YlOrBr","YlGn","Reds","RdPu","Greens","YlGnBu","Purples","GnBu","Greys","YlOrRd","PuRd","Blues","PuBuGn","Viridis","Spectral","RdYlGn","RdBu","PiYG","PRGn","RdYlBu","BrBG","RdGy","PuOr","Set2","Accent","Set1","Set3","Dark2","Paired","Pastel2","Pastel1","colorbrewer_1","chroma","average","cnt","xyz2","A$1","bezier","lab0","lab3","labs","row","newrow","binom_row","el","cubehelix","rotations","lightness","dh","fract","amp","cos_a","sin_a","contrast","deltaE","Kl","Kc","Kh","rad2deg","rad","deg2rad","deg","avgL","avgC","a1p","a2p","C1p","C2p","avgCp","arctan1","arctan2","h1p","h2p","avgHp","deltaHp","deltaCp","sl","sc","sh","deltaTheta","sum_sq","valid","factory","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","loaded","__webpack_modules__","amdD","amdO","globalThis","nmd","paths","children"],"sourceRoot":""}